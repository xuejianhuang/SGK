  <!DOCTYPE html>
<html
  lang="en"
  data-uri="slate.com/_pages/ckihvioek00004lkr2209ckex@published" data-layout-uri="slate.com/_layouts/layout-one-column/instances/article@published"
  data-myslateUrl="https://my.slate.com"
    data-env="prod"
    data-trackingdomain=".slate.com"
>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">

<script>
  (function() {
  "use strict";window.slateGlobal={injectScript:function(e,t){var c=document.createElement("script");c.src=e,t&&c.addEventListener("load",t),document.head.appendChild(c)},injectScriptSync:function(e){document.write('<script src="'+e+'"><\/script>')}},Object.freeze(window.slateGlobal);var theme=localStorage.getItem("theme"),matches=location.search.match(/\btheme=(\w+)/);matches&&(theme=matches[1]),-1===["light","dark","auto"].indexOf(theme)&&(theme="light"),document.documentElement.classList.add("theme-"+theme);
  }())
</script>


    <!-- data-editable="head" -->
      <!-- data-uri="slate.com/_components/clay-meta-title/instances/ckihvioeu00014lkrlfx84bcy@published" -->
  <title>Why India just had the biggest protest in world history. </title>
<meta property="og:title" content="What’s Driving the Biggest Protest in World History?">
<meta name="twitter:title" content="What’s Driving the Biggest Protest in World History?">

  <!-- data-uri="slate.com/_components/clay-meta-url/instances/ckihvioev00024lkrxox2m2xu@published" -->
<link rel="canonical" href="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html">
<meta property="og:url" content="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html">
<meta property="twitter:url" content="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html">
  <meta property="article:published_time" content="2020-12-09T21:13:39.474Z">



<meta name="robots" content="max-image-preview:large">


  <!-- data-uri="slate.com/_components/clay-meta-description/instances/ckihvioez00034lkr73obvj3r@published" -->
<meta name="description" content="Millions of Indians have had enough. ">
<meta name="twitter:description" content="Millions of Indians have had enough. ">
<meta property="og:description" content="Millions of Indians have had enough. ">

  <!-- data-uri="slate.com/_components/meta-image/instances/ckihviof000044lkrfwypxmgl@published" -->
<meta name="twitter:image" content="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width=1560&rect=1560x1040&offset=0x0">
<meta name="twitter:card" content="summary_large_image">

<meta property="og:image" content="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width=1560&rect=1560x1040&offset=0x0">
<meta property="og:image:width" content=1560 />

  <!-- data-uri="slate.com/_components/clay-meta-keywords/instances/ckihviof400054lkry3uy0n2j@published" -->
<meta name="news_keywords" content="india, protests, farming">
<meta property="article:tag" content="india, protests, farming">

  <!-- data-uri="slate.com/_components/meta-authors/instances/ckihviof500064lkrytvet9qp@published" -->
<meta name="author" content="Nitish Pahwa">

  <!-- data-uri="slate.com/_components/krux-data-layer/instances/ckihviofb00084lkryibwwuz7@published" -->

  <script data-uri="slate.com/_components/permutive/instances/ckihviofg000b4lkr04ih2vjh@published" class="permutive"
  data-permutive-project-id=16d3bd5c-bf92-4bf0-815a-eac397d3aadf
  > 

// prettier-ignore
!function(n,e,o,r,i){if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},e.config.projectId=o,e.config.apiKey=r,e.config.environment=e.config.environment||"production";for(var t=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],c=0;c<t.length;c++){var f=t[c];e[f]=function(n){return function(){var o=Array.prototype.slice.call(arguments,0);e.q.push({functionName:n,arguments:o})}}(f)}}}(document,window.permutive, "16d3bd5c-bf92-4bf0-815a-eac397d3aadf","dd4993d6-d26a-48b5-bf2d-05b09fb85de3",{consentRequired: true});
window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){if(0===window.googletag.pubads().getTargeting("permutive").length){var g=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",g?JSON.parse(g):[])}});

window.slatePermutiveData = {"page":{"article":{"pageType":"article","id":"slate.com/_components/article/instances/ckihviog6000m4lkr71dxqdzf","title":"What’s Driving the Biggest Protest in World History?","authors":["Nitish Pahwa"],"section":"News & Politics","rubric":"The World","keywords":["india","protests","farming"],"gsChannels":[],"publishedTime":"2020-12-09T20:01:11+00:00","sentiment":"negative","categories":["/society/unrest and war","/law, govt and politics","/law, govt and politics/politics"],"entities":["India - negative","Modi - negative","Sanjay Kanojia - neutral","Prime Minister Narendra Modi - positive","BJP - negative","Allahabad - negative","Punjab - negative","Bharat bandh - neutral","American Enterprise Institute - negative","24-hour - negative","six years - positive","Delhi - negative","Modi administration - negative","Haryana - negative","farm union - neutral","Union Agriculture Minister Narendra Singh Tomar - positive","Parliament - positive","BBC - negative","Parliament House - positive","Arvind Kejriwal - negative","Kejriwal - positive","Canadian Prime Minister Justin Trudeau - negative","Uttar Pradesh - negative","Quint - neutral","The New York Times - negative","Economic Times - neutral","WWE - neutral","Indian government - negative","President George W. Bush - negative","U.S. - negative","Iraq - negative","Kashmir - neutral"],"concepts":["Bharatiya Janata Party","Narendra Modi","India","Government of India","Gujarat","Protest","Government","Bihar"]}}};

</script>

  <!-- data-uri="slate.com/_components/preload-image/instances/ckihviog6000m4lkr71dxqdzf@published" -->
  <link
    rel="preload"
    as="image"
    href="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;780&amp;height&#x3D;520&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0"
    imagesrcset="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;320&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 320w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;480&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 480w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;600&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 600w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;840&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 840w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;960&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 960w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;1280&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 1280w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;1440&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 1440w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;1600&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 1600w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;1920&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 1920w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;2200&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0 2200w"
    imagesizes="(min-width: 1440px)970px,
(min-width: 1024px)709px,
(min-width: 768px)620px,
calc(100vw - 30px)"
  />

    <!-- data-editable-end -->
      <!-- data-uri="slate.com/_components/clay-meta-site/instances/article@published" -->
<meta name="twitter:site" content="@slate" />
<meta
  property="article:publisher"
  content="https://www.facebook.com/Slate"
/>
<meta property="fb:app_id" content="142011022527753" />
<meta property="og:site_name" content="Slate Magazine" />
<meta property="og:type" content="article" />

<link rel="manifest" href="/media/sites/slate-com/web-app-manifest.json" />

<meta
  name="theme-color"
  content="#f8f8f8"
  media="(prefers-color-scheme: light)"
/>
<meta
  name="theme-color"
  content="#000000"
  media="(prefers-color-scheme: dark)"
/>

  <!-- data-uri="slate.com/_components/meta-icons/instances/slate@published" -->
<link rel="icon" href="/favicon.ico">
<link rel="icon" href="/media/components/meta-icons/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" sizes="180x180" href="/media/sites/slate-com/icon.180x180.png">

  <script data-uri="slate.com/_components/polyfills/instances/singleton@published">
(function(){
var p='/media/components/polyfills/'
function n(f){return p+f+'.min.js'}
function i(f){slateGlobal.injectScriptSync(n(f))}
if(typeof CSS === 'undefined' || typeof CSS.supports === 'undefined' || !CSS.supports('object-fit', 'cover'))i("object-fit-images")
if(!HTMLElement.prototype.closest)i('element-closest-polyfill')
if(!window.Promise||!window.URL||!window.URLSearchParams||!window.Map)i('core-js-bundle')
if(!window.fetch)i('whatwg-fetch')
if(/Trident|MSIE/.test(navigator.userAgent))slateGlobal.injectScript(n('svg4everybody'),function(){svg4everybody()})
if(!window.IntersectionObserver)i('intersection-observer')
}())
</script>
  <script data-uri="slate.com/_components/fontfaceobserver/instances/fontfaceobserver@published">
(function() {
  /* Font Face Observer v2.1.0 - © Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function t(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function u(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function z(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);z(a)};function B(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var C=null,D=null,E=null,F=null;function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){null===F&&(F=!!document.fonts);return F}
function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
B.prototype.load=function(a,b){var c=this,k=a||"BESbswy",r=0,n=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(""+n+"ms timeout exceeded")):document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(""+n+"ms timeout exceeded"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r);a(c)},
b)}else m(function(){function v(){var b;if(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(""+
n+"ms timeout exceeded"));else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v();r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement("div");d.dir="ltr";u(e,L(c,"sans-serif"));u(p,L(c,"serif"));u(q,L(c,"monospace"));d.appendChild(e.a);d.appendChild(p.a);d.appendChild(q.a);document.body.appendChild(d);w=e.a.offsetWidth;x=p.a.offsetWidth;y=q.a.offsetWidth;I();A(e,function(a){f=a;v()});u(e,
L(c,'"'+c.family+'",sans-serif'));A(p,function(a){g=a;v()});u(p,L(c,'"'+c.family+'",serif'));A(q,function(a){h=a;v()});u(q,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load);}());


  try {
    if (sessionStorage.slateFontsLoaded) {
      document.documentElement.className += " fonts-loaded";
      return;
    }
  } catch (e) {
  }
  Promise.all([
    ['Retina'],
    ['Retina', , 'italic'],
    ['Retina', 'bold',],
    ['Retina', 'bold', 'italic'],
    ['Register', 'bold', ],
    ['Register', 'bold', 'italic']
  ].map(function(f) {
    return new FontFaceObserver(f[0], {
      weight: f[1] || 'normal',
      style: f[2] || 'normal'
    }).load()
  })).then(function () {
    document.documentElement.className += " fonts-loaded";
    try {
      sessionStorage.slateFontsLoaded = true;
    } catch (e) {
    }
  });
}());
</script>

  <!-- data-uri="slate.com/_components/onetrust/instances/default@published" -->

<script>



  "use strict";window.slateCMP={oneTrust:{},TCF:{},removeTCFStub:function(){delete window.__tcfapi;var e=document.getElementsByName("__tcfapiLocator")[0];e&&e.parentNode.removeChild(e)}},window.slateCMP.oneTrust.ready=new Promise(function(e,n){window.slateCMP.oneTrust.resolve=e,window.slateCMP.oneTrust.reject=n}),window.slateCMP.TCF.ready=new Promise(function(e,n){window.slateCMP.TCF.resolve=e,window.slateCMP.TCF.reject=n}),window.slateCMP.oneTrust.ready.then(function(){"undefined"!=typeof __tcfapi&&__tcfapi("getTCData",2,function(e,n){n?window.slateCMP.TCF.resolve(e):window.slateCMP.TCF.reject(e)})});var TARGETING_CATEGORIES=["C0001","C0002","C0003","C0004","C0005","gad"];window.nonIabVendorApi={vendors:{},checkConsent:function(e){return!!window.OptanonActiveGroups&&this.vendors[e].categories.every(function(e){return-1<window.OptanonActiveGroups.indexOf(e)})},updateVendors:function(){window.OptanonActiveGroups;for(var e in this.vendors)if(n=this.checkConsent(e),this.vendors[e].initCalled)this.vendors[e].updateConsentFunc(n);else{var n=this.vendors[e].initFunc(n);if("boolean"!=typeof n)throw new Error("initFunc should return boolean. Returned ".concat(n,"."));this.vendors[e].initCalled=n}},registerVendor:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{categories:[],initFunc:function(e){return!1},updateConsentFunc:function(e){}};if(e in this.vendors)throw new Error(e+" already registered");if(!Array.isArray(n.categories))throw new Error("vendorOptions.categories must be an array.");if(!n.categories.length)throw new Error("vendorOptions.categories must not be empty.");for(var t=0;t<n.categories.length;t++)if(!TARGETING_CATEGORIES.includes(n.categories[t]))throw new Error("".concat(n.categories[t]," is not a valid targeting category. Category must be one of ").concat(TARGETING_CATEGORIES,"."));if(this.vendors[e]={initCalled:!1,categories:n.categories,initFunc:n.initFunc,updateConsentFunc:n.updateConsentFunc},window.OptanonActiveGroups&&(o=this.checkConsent(e))){var o=this.vendors[e].initFunc(o);if("boolean"!=typeof o)throw new Error("initFunc should return boolean. Returned ".concat(o,"."));this.vendors[e].initCalled=o}}};



    window.slateCMP.TCF.resolve({gdprApplies: false});


</script>

<script
  src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"
  data-domain-script="0e1d2de3-ec2a-48ca-8f78-11045575a199"
  data-ignore-ga='true'></script>

<script src="https://cdn.cookielaw.org/opt-out/otCCPAiab.js" type="text/javascript" charset="UTF-8" ccpa-opt-out-ids="C0004,gad" ccpa-opt-out-geo="ca" ccpa-opt-out-lspa="true"></script>


<script>
  function OptanonWrapper() {
    try {
      window.slateCMP.oneTrust.resolve();
      window.nonIabVendorApi.updateVendors()
    } catch (e) {
      console.warn('failed to setup onetrust', e)
    }
  }
</script>


  <!-- data-uri="slate.com/_components/scroll/instances/default@published" -->
<script>
  (function(a,c,d,e){if(!a[c]){var b=a[c]={};b[d]=[];b[e]=function(a){b[d].push(a)}}})(window,'Scroll','_q','do');
  Scroll.config = {
    detected: Boolean(false)
  };
</script>
<script async src="https://static.scroll.com/js/scroll.js" /></script>


  <script data-uri="slate.com/_components/analytics-js-loader/instances/general@published" class="analytics-js-loader"
  
  data-amplitude-api-key="5a7cb616c0717cb7f4f0eee43d9f4e1c"
  data-amplitude-log-level="ERROR"
  data-amplitude-domain=".slate.com"
  data-parsely-script-src="https://fpa-cdn.slate.com/keys/slate.com/p.js"
>
// we define this ASAP beacuse lots of components call amplitude
window.slateAmplitudeQueue = {
  _q: [],
  initCalled: false,
  instance: null,
  push: function(callback) {
    if (this.initCalled) {
      callback(this.instance);
      this.processQueue();
    } else {
      this._q.push(callback);
    }
  },
  processQueue: function() {
    for (var i = 0; i < this._q.length; i++) {
      this._q[i](this.instance);
    }
    this._q = [];
  },
  init: function(instance, consent) {
    this.instance = instance;
    this.instance.setOptOut(!consent);
    if (consent) {
      this.processQueue();
    }
    this.initCalled = true;
  }
};

window.slateParsely = {
  leadCaptureEvents: [],
  trackLeadCapture(event) {
    if (!window.PARSELY || !window.PARSELY.loaded) {
      // Run through the leadCaptureEvents queue in client.js when Parsely loads
      this.leadCaptureEvents.push(event)
      return;
    }

    window.PARSELY.conversions.trackLeadCapture(event);
  }
}
</script>


  <!-- data-uri="slate.com/_components/slate-ad-prebid/instances/prebid@published" -->
    <script class="slate-ad-prebid">

    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

    window.slateCMP.TCF.ready.then( function(tcData){

      pbjs.que.push(function(){
        var pbjsConfig = {
          bidderTimeout: 1500,
          debug: false,
          enableSendAllBids: false,
          useBidCache: true,
          bidderSequence: "random",
          userSync: {
            userIds: [{
              name: 'identityLink',
              params: {
                pid: '13468'
              },
              storage: {
                type: 'cookie',
                name: 'idl_env',
                expires: 1,
                refreshInSeconds: 1800
              }
            },{
              name: "quantcastId",
            }, {
              name: "sharedId",
              storage: {
                type: "cookie",
                name: "_sharedid",
                expires: 365
              }
            }],
            filterSettings: {
              all: {
                bidders: '*',
                filter: 'include'
              }
            },
            syncsPerBidder: 10,
            syncDelay: 5000
          },
          priceGranularity: {
            buckets: [{
                'min': 0.1,
                'max': 5,
                'increment': 0.01
              },{
                'min': 5,
                'max': 8,
                'increment': 0.05
              }, {
                'min': 8,
                'max': 20,
                'increment': 0.10
              },{
                'min': 20,
                'max': 50,
                'increment': 0.50
              }]
          },
          consentManagement: {
            usp: {
              cmpApi: 'iab',
              timeout: 1000,
            }
          },
          targetingControls: {
            alwaysIncludeDeals: true,
          },
          // pass permutive segments to selected SSPs
          realTimeData: {
            dataProviders: [{
              name: 'permutive',
              params: {
                acBidders: ['appnexus', 'rubicon', 'pubmatic', 'yahoossp', 'openx'],
                transformations: [{
                  id: 'iab',
                  config: {
                    segtax: 4,
                    iabIds: { 126217: '244', 121557: '243', 120811: '268', 120736: '348', 99705: '368', 120738: '406', 121824: '522', 121573: '534', 121576: '581', 121550: '583', 121575: '606', 121578: '687', 121549: '719', 126219: '245', 126220: '246', 126221: '247', 126222: '248', 126223: '249', 126224: '250', 126225: '251', 126226: '252', 126227: '253', 126228: '254', 126229: '255', 126230: '256', 126231: '257', 126232: '258', 126233: '259', 126234: '260', 126235: '261', 126236: '262', 126237: '263', 126238: '264', 126239: '265', 126240: '266', 126241: '267', 126242: '269', 126243: '295', 126244: '305', 126245: '338', 126246: '339', 126247: '340', 126248: '341', 126249: '342', 126250: '343', 126251: '344', 126252: '345', 126253: '346', 126254: '347', 126255: '350', 126256: '359', 126257: '360', 126258: '361', 126259: '362', 126260: '363', 126261: '364', 126262: '365', 126263: '366', 126264: '367', 126265: '369', 126266: '370', 126267: '371', 126268: '372', 126269: '373', 126270: '374', 126271: '375', 126272: '376', 126273: '377', 126274: '378', 126275: '379', 126276: '380', 126277: '407', 126278: '408', 126279: '411', 126280: '412', 126281: '413', 126282: '414', 126283: '415', 126284: '421', 126285: '422', 126286: '423', 126287: '424', 126288: '434', 126289: '435', 126290: '436', 126291: '437', 126292: '440', 126293: '445', 126294: '449', 126295: '450', 126296: '451', 126297: '452', 126298: '453', 126299: '454', 126300: '455', 126301: '456', 126302: '457', 126303: '458', 126304: '459', 126305: '460', 126306: '461', 126307: '462', 126308: '463', 126309: '464', 126310: '465', 126311: '466', 126312: '467', 126313: '468', 126314: '469', 126315: '470', 126316: '471', 126317: '472', 126318: '473', 126319: '474', 126320: '475', 126321: '476', 126322: '477', 126323: '478', 126324: '479', 126325: '480', 126326: '481', 126327: '482', 126328: '483', 126329: '486', 126330: '487', 126331: '488', 126332: '489', 126333: '490', 126334: '491', 126335: '492', 126336: '493', 126337: '494', 126338: '495', 126339: '496', 126340: '497', 126341: '498', 126342: '499', 126343: '500', 126344: '501', 126345: '502', 126346: '503', 126347: '504', 126348: '510', 126349: '511', 126350: '512', 126351: '513', 126352: '519', 126353: '520', 126354: '521', 126355: '523', 126356: '524', 126357: '525', 126358: '526', 126359: '527', 126360: '528', 126361: '529', 126362: '533', 126363: '535', 126364: '536', 126365: '537', 126366: '538', 126367: '539', 126368: '540', 126369: '541', 126370: '542', 126371: '543', 126372: '544', 126373: '545', 126374: '547', 126375: '548', 126376: '549', 126377: '582', 126378: '584', 126379: '585', 126380: '586', 126381: '587', 126382: '588', 126383: '589', 126384: '590', 126385: '591', 126386: '592', 126387: '593', 126388: '594', 126389: '607', 126390: '608', 126391: '609', 126392: '610', 126393: '612', 126394: '613', 126395: '614', 126396: '615', 126397: '616', 126398: '617', 126399: '618', 126400: '619', 126401: '620', 126402: '624', 126403: '625', 126404: '626', 126405: '627', 126406: '628', 126407: '629', 126408: '631', 126409: '640', 126410: '641', 126411: '642', 126412: '643', 126413: '644', 126414: '645', 126415: '646', 126416: '647', 126417: '648', 126418: '649', 126419: '650', 126420: '651', 126421: '654', 126422: '655', 126423: '656', 126424: '657', 126425: '660', 126426: '661', 126427: '662', 126428: '663', 126429: '664', 126430: '665', 126431: '666', 126432: '667', 126433: '668', 126434: '669', 126435: '670', 126436: '671', 126437: '672', 126438: '673', 126439: '674', 126440: '675', 126441: '676', 126442: '677', 126443: '678', 126444: '679', 126445: '680', 126446: '681', 126447: '682', 126448: '683', 126449: '684', 126450: '685', 126451: '686', 126452: '688', 126453: '689', 126454: '690', 126455: '703', 126456: '704', 126457: '705', 126458: '706', 126459: '707', 126460: '708', 126461: '709', 126462: '710', 126463: '711', 126464: '712', 126465: '713', 126466: '714', 126467: '715', 126468: '716', 126469: '717', 126470: '718', 126471: '720', 126472: '721', 126473: '722', 126474: '723', 126475: '724', 126476: '725', 126477: '726', 126478: '727', 126479: '728', 126480: '729', 126481: '730', 126482: '731', 126483: '732', 126484: '733', 126485: '734', 126486: '735', 126487: '736', 126488: '737', 126489: '738' }
                  }
                }],
              },
            }]
          }
        };

        if(tcData.gdprApplies || tcData.gdprApplies === undefined){
          // 
          pbjsConfig.consentManagement.gdpr = {
            cmpApi: 'iab',
            timeout: 5000,
            defaultGdprScope: true,
            allowAuctionWithoutConsent: false
          }
          // 
          pbjsConfig.deviceAccess = false;

          // 
          pbjsConfig.userSync.syncEnabled = false;
        }

        pbjs.setConfig(pbjsConfig);

        // enable analytics.        
        pbjs.enableAnalytics([{
            provider: 'amplitude',
            options: {
              sampling: .01
            }
        }, {
            provider: 'atsAnalytics',
            options: {
              pid: '13468'
            }
        }, {
          provider: 'concert'
        }]);
        

        // allow all bidders access to cookies and local storage
        pbjs.bidderSettings = { 
          standard: {
            storageAllowed: true
          } 
        };
      })
    });

    </script>

  <!-- data-uri="slate.com/_components/slate-ad-gpt/instances/default@published" -->
  <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script> 
  <script>
    var sampling = 0.01; 
    var index_sampling = 0.5;

    var tests = {
      disable_adLightning: sampling > Math.random(),
      disable_index: index_sampling > Math.random()
    }
  </script>

  
<!-- data-uri="slate.com/_components/slate-krux/instances/krux@published" -->

  <!-- data-uri="slate.com/_components/ad-lightning/instances/default@published" -->
  <script>
    window.googletag = window.googletag || { cmd: [] };
    var isMobile = window.innerWidth < 728;

    // ad lightning lowers viewability of leaderboard and leaderboard-tablet 
    // delay loading ad lightning until their ad loaded
    if (isMobile) {
        loadAdLightning();
    } else {
        window.googletag.cmd.push(function () {
            window.googletag.pubads().addEventListener("slotOnload", function (event) {
                var slotId = event.slot.getSlotElementId();
                if (slotId === "leaderboard-1" || slotId === "leaderboard-tablet-1") {
                    loadAdLightning();
                }
            });
        });
    }

    function loadAdLightning() {
        if (!window.tests.disable_adLightning) {
            slateGlobal.injectScript("https://tagan.adlightning.com/slate/op.js");
        }
    }
    
  </script>

  <!-- data-uri="slate.com/_components/dfp-cache-buster/instances/default@published" -->

<meta name="dfp-cache-buster" content=e74d666982e803c0c3cfabe3b110b92515125817>

  <!-- data-uri="slate.com/_components/slate-ad-aps/instances/default@published" -->
  <link rel="dns-prefetch" href="https://c.amazon-adsystem.com">
  <link rel="preconnect" href="https://c.amazon-adsystem.com" crossorigin>
  <script async src="https://c.amazon-adsystem.com/aax2/apstag.js"></script>

  <script>
    !function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){q("di",arguments)},rpa:function(){q("ri",arguments)},upa:function(){q("ui",arguments)},_Q:[]};}("apstag",window);
  </script>


  <!-- data-uri="slate.com/_components/pubplus/instances/default@published" -->

  <!-- data-uri="slate.com/_components/taboola-head/instances/article@published" -->

  <aside
  class="outbrain-widget"
  data-uri="slate.com/_components/outbrain-widget/instances/tracking@published"
  
><div
      class="OUTBRAIN"
      data-src="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html"
      data-widget-id="TR_1"
    ></div><script async src="https://widgets.outbrain.com/outbrain.js"></script></aside>

  <style>/* bullshit file to fool amphora into not inlining our fonts! */
.tp-container-inner,.tp-modal>.tp-iframe-wrapper{height:auto!important;width:auto!important}.tp-backdrop{background:var(--bg-color,#fff)!important;opacity:.75!important;-webkit-backdrop-filter:blur(.1em);backdrop-filter:blur(.1em)}.tp-modal button.tp-close{top:1px;right:1px;border-radius:2px;-webkit-box-shadow:none;box-shadow:none;background-color:var(--bg-color)}.tp-modal button.tp-close:focus,.tp-modal button.tp-close:hover{-webkit-box-shadow:none;box-shadow:none}.tp-modal button.tp-close:focus-visible{border:none;outline:var(--theme-color,#ff0e50) dotted 3px;outline-offset:1px}.tp-modal>.tp-iframe-wrapper{font-size:1em;max-width:40em;margin:2.1em 15px;border:1px solid #2c0022!important;border-color:var(--raisin-color)!important;border-radius:3px;-webkit-box-shadow:0 4px 10px rgba(0,0,10,.15);box-shadow:0 4px 10px rgba(0,0,10,.15);-webkit-transform:translateX(calc(50vw - 50% - 15px));-ms-transform:translateX(calc(50vw - 50% - 15px));transform:translateX(calc(50vw - 50% - 15px));background:var(--bg-color,#fff)}@supports(display:grid){.article:after,.article:before{content:""}.article{margin-bottom:1.2rem}@media(min-width:768px){.article{margin-top:0;margin-bottom:1.8rem;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);width:100vw;display:grid;grid-column-gap:15px;grid-template-columns:1fr 620px 1fr}}@media(min-width:1024px){.article{grid-column-gap:20px;grid-template-columns:1fr 125.71px 708.57px 125.71px 1fr}}@media(min-width:1440px){.article{grid-template-columns:1fr 240px 780px 240px 1fr}}.article:before{grid-column:1}.article:after{grid-column-end:4}@media(min-width:1024px){.article:after{grid-column-end:6}}@media print{.article{display:block;max-width:40em;margin:0 auto}}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.article{max-width:1000px;margin:auto}}@media screen and (-ms-high-contrast:active)and (min-width:1440px),screen and (-ms-high-contrast:none)and (min-width:1440px){.article{max-width:1300px}}.article tag-list{display:block;grid-column:2;margin:auto;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content}@supports(display:grid){@media(min-width:768px){.article__fullbleed-header{grid-column:1/span 3}}@media(min-width:1024px){.article__fullbleed-header{grid-column:1/span 5;grid-row:1}}.article__header{grid-column:2}@media(min-width:1024px){.article__header{grid-column:3;grid-row:2/span 2}}.article__top-image{grid-column:2;grid-row:4}@media(min-width:1024px){.article__top-image{grid-column:3}.article__body,.article__share-sidebar{grid-row:5}}.article__share-sidebar{grid-column:2}.article__podcast-subscribe{grid-column:1/-1;grid-row:1}.article__body{grid-column:2}@media(min-width:1024px){.article__body{grid-column:3}}.article--right-rail .article__header{grid-column:2}@media(min-width:1024px)and (max-width:1440px){.article--right-rail .article__header{grid-column:3;grid-row:2/span 2}}@media(min-width:1440px){.article--right-rail{grid-column-gap:0;grid-template-columns:1fr 970px 330px 1fr}.article--right-rail .article__header{grid-column:2}.article--right-rail .article__header .article__meta{-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start}.article--right-rail .article__header .article__meta .article__byline{margin-right:10px}.article--right-rail .article__top-image{grid-column:2}}.article--right-rail .article__body{grid-column:2}@media(min-width:1024px){.article--right-rail .article__body{grid-column:3}}@media(min-width:1440px){.article--right-rail .article__body{display:grid;grid-template-columns:190px 780px;grid-column:2}.article--right-rail .article__body .article__content{grid-column:2}.article--right-rail .article__body .article__content .slate-ad{margin-left:-190px}.article--right-rail .article__body .article__content .social-share{-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start}.article--right-rail .article__body .article__content .pull-quote--left{margin-left:0}.article--right-rail .article__body .article__content .pull-quote--right{margin-right:0}.article--right-rail .article__body .article__content .pull-quote{width:390px}.article--right-rail .article__body .article__content .in-article-recirc{margin:0 0 20px 20px}.article--right-rail .article__body .article__content .slate-external-video--wide{width:auto;margin-left:0}.article--right-rail .article__body .article__content .image--right{margin-right:0}.article--right-rail .article__body .article__content .image--left{margin-left:0}.article--right-rail .article__body .article__content .image--wide{margin-left:0;margin-right:0;width:100%}}.article--right-rail .article__body .article__tags{grid-column:2}.article--right-rail .article__left-rail{display:none}@media(min-width:1440px){.article--right-rail .article__left-rail{display:block;grid-column:1}}.article--right-rail .article__right-rail{grid-column:3;grid-row:5/span 1;display:none;margin-left:30px}.article--right-rail .article__right-rail .slate-ad{position:-webkit-sticky;position:sticky;top:30px}.piano-paywall-visible .article--right-rail .article__right-rail{height:0}@media(min-width:1440px){.article--right-rail .article__right-rail{display:block}.article--right-rail .article__share-sidebar{display:none}}.article__sticky-alert{position:fixed;z-index:1;bottom:0;bottom:env(safe-area-inset-bottom);left:0;left:env(safe-area-inset-left);right:0;right:env(safe-area-inset-right);text-align:center;pointer-events:none;-webkit-transition:opacity .12s,-webkit-transform .12s;transition:opacity .12s,-webkit-transform .12s;transition:opacity .12s,transform .12s;transition:opacity .12s,transform .12s,-webkit-transform .12s}.article__sticky-alert:not([hidden])>*{pointer-events:initial}.article__sticky-alert[hidden]{display:block;opacity:0;-webkit-transform:translateY(200%);-ms-transform:translateY(200%);transform:translateY(200%)}@media(min-width:768px){.article__sticky-alert{grid-column:2}}@media(min-width:1024px){.article__sticky-alert{grid-row:6;grid-column:3}}@media(min-width:1440px){.article__sticky-alert{grid-row:6;grid-column:1/span 4}}}@media(max-width:768px){.article__fullbleed-header{margin-top:0;margin-bottom:0;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);width:100vw}}.article__header{margin:.7em 0 1.1em}@media(min-width:768px){.article__header{margin-bottom:2.2em}}.article__rubric{letter-spacing:.07em;text-transform:uppercase;font-size:.7230659372rem;color:#444;color:hsla(var(--txt-color-hsl),.85);margin:0 0 .5em;text-decoration:none;display:inline-block;position:relative}.article__rubric:focus,.article__rubric:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.article__rubric::before{width:10px;height:10px;border-width:4.35px;border-color:#a66884;border-color:var(--bracket-color,var(--theme-color,#a66884));border-style:solid none none solid;content:"";display:inline-block;position:absolute;bottom:100%;right:100%}@media(prefers-color-scheme:dark){:where(.theme-auto) .article__rubric::before{border-color:var(--bracket-color,var(--theme-color,#c39bad))}}:where(.theme-dark) .article__rubric::before{border-color:var(--bracket-color,var(--theme-color,#c39bad))}@media(min-width:768px){.article__rubric{font-size:.8232026157rem}.article__rubric::before{bottom:calc(100% + .3em);right:calc(100% + .3em)}}.article__rubric>img[width][height]{height:1rem;width:auto}.article--sponsored .article__rubric{display:none}.article__hed{font-family:Georgia,Times,serif;font-weight:700;font-size:1.6800234952rem;line-height:1.1;margin:0 0 .3em}.fonts-loaded .article__hed{font-family:Register,Georgia,Times,serif}@media(min-width:768px){.article__hed{font-size:2.3234720499rem}}@media(min-width:1024px){.article__hed{font-size:2.6452473706rem}}@media(min-width:1440px){.article__hed{font-size:3.0115850337rem}}@media(min-width:768px){.article--coverstory .article__hed{font-size:3.0115850337rem}}@media(min-width:1024px){.article--coverstory .article__hed{font-size:3.4286564334rem}}@media(min-width:1440px){.article--coverstory .article__hed{font-size:3.9034876343rem}}.article__dek{font-size:1.067rem;font-weight:400;line-height:1.2;color:#444;color:hsla(var(--txt-color-hsl),.85);margin:0 0 1em}@media(min-width:768px){.article__dek{margin-bottom:1.4em}}@media(min-width:1024px){.article__dek{font-size:1.3829997357rem}}@media(min-width:1440px){.article__dek{font-size:1.475660718rem}}@media(min-width:1024px){.article__meta{font-size:.9372071228rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.article__byline{max-width:65%}}.article__byline,.article__dateline{letter-spacing:.07em;text-transform:uppercase;font-size:.8232026157rem}@media(max-width:768px){.article__byline{line-height:1.4}}.article__byline>[itemprop=author]>[itemprop=name]>a{color:inherit;text-decoration:none}.article__byline>[itemprop=author]>[itemprop=name]>a:focus,.article__byline>[itemprop=author]>[itemprop=name]>a:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.article__dateline{color:#666;color:hsla(var(--txt-color-hsl),.7)}.article__dateline>span:nth-child(2)::before{content:"•";padding:0 .4em;color:#999;color:hsla(var(--txt-color-hsl),.5)}@media(max-width:1024px){.article__dateline{display:inline-block;margin-top:.5em}}@media print{.article iframe{display:none}}.article__tags{--tag-padding:0.6em;--tag-margin:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;block-size:auto;list-style:none;overflow-x:auto;overflow-y:hidden;padding:0;position:relative;scrollbar-color:hsla(var(--txt-color-hsl),.1) transparent}.article__tags::-webkit-scrollbar{block-size:1em}.article__tags::-webkit-scrollbar-track{background-color:transparent}.article__tags::-webkit-scrollbar-thumb{background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,transparent),color-stop(.25em,transparent),color-stop(.25em,hsla(var(--txt-color-hsl),.1)),color-stop(.75em,hsla(var(--txt-color-hsl),.1)),color-stop(.75em,transparent));background-image:linear-gradient(transparent 0,transparent .25em,hsla(var(--txt-color-hsl),.1) .25em,hsla(var(--txt-color-hsl),.1) .75em,transparent .75em)}.article__tags>*{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.article__tags>:not(.exception)+:not(.exception){-webkit-margin-start:1em;margin-inline-start:1em}@media print{.article__tags{display:none}}.article__tag{text-decoration:none;font-size:.6776625465rem;color:#666;color:hsla(var(--txt-color-hsl),.7);background:rgba(0,0,0,.03);background-color:hsla(var(--txt-color-hsl),.1);padding:var(--tag-padding);border-radius:1px}.article__tag *{text-decoration:none}.article__tag:focus,.article__tag:hover{background-color:rgba(0,0,0,.07);background-color:hsla(var(--txt-color-hsl),.15)}.article__hr{margin:1.2em 0 0;border:none;border-top:2px solid #ccc;border-color:hsla(var(--txt-color-hsl),.2)}@media(min-width:768px){.article__hr{margin:2em 0}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.article__fullbleed-header{margin-top:0;margin-bottom:0;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);width:100vw}}.live-update__alert{padding:.7em 1em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;gap:1em;-webkit-box-shadow:0 4px 10px rgba(0,0,10,.5);box-shadow:0 4px 10px rgba(0,0,10,.5);background:#2c0022;color:#fff;margin-bottom:1em}@media(max-width:767px){.live-update__alert{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}.live-update__btn{background-color:#cc0b40}.live-update__el{-webkit-transition:background-color 1.2s;transition:background-color 1.2s}.live-update__el--new{background-color:#f0f0f0;background-color:hsla(var(--txt-color-hsl),.07)}.slate-paragraph--drop-cap::first-letter{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:700;float:left;line-height:.5;font-size:5.3rem;margin:.8rem .3rem 0 -.3rem;color:#a66884;color:var(--theme-color,#a66884)}.fonts-loaded .slate-paragraph--drop-cap::first-letter{font-family:Retina,"Helvetica Neue",Helvetica,Arial,sans-serif}@media(min-width:768px){.slate-paragraph--drop-cap::first-letter{margin-top:1.1rem}}@-moz-document url-prefix(){.slate-paragraph--drop-cap::first-letter{margin-top:.07em}}.slate-paragraph__drop-cap{float:left;width:6em;margin-right:.4em}.slate-paragraph__first-word{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.slate-paragraph--tombstone{display:inline-block}.slate-paragraph--tombstone::after{display:inline-block;width:14px;height:14px;border-width:6.09px;border-color:#a66884;border-color:var(--bracket-color,var(--theme-color,#a66884));border-style:none solid solid none;content:"";margin-left:.2em}@media(prefers-color-scheme:dark){:where(.theme-auto) .slate-paragraph--tombstone::after{border-color:var(--bracket-color,var(--theme-color,#c39bad))}}:where(.theme-dark) .slate-paragraph--tombstone::after{border-color:var(--bracket-color,var(--theme-color,#c39bad))}@media(max-width:768px){.slate-paragraph--tombstone::after{width:10px;height:10px;border-width:4.35px}}.pull-quote{width:100%;margin-bottom:15px;padding:50px 44px;position:relative;display:none}.pull-quote::before,.pull-quote:after{display:inline-block;width:50px;height:50px;border-width:21.74px;content:"";position:absolute}.pull-quote::before{border-color:#88365b;border-color:var(--bracket-color,var(--theme-color,#88365b));border-style:solid none none solid;left:0;top:0}@media(prefers-color-scheme:dark){:where(.theme-auto) .pull-quote::before{border-color:var(--bracket-color,var(--theme-color,#a66884))}}:where(.theme-dark) .pull-quote::before{border-color:var(--bracket-color,var(--theme-color,#a66884))}.pull-quote:after{border-color:#88365b;border-color:var(--bracket-color,var(--theme-color,#88365b));border-style:none solid solid none;right:0;bottom:0}@media(prefers-color-scheme:dark){:where(.theme-auto) .pull-quote:after{border-color:var(--bracket-color,var(--theme-color,#a66884))}}:where(.theme-dark) .pull-quote:after{border-color:var(--bracket-color,var(--theme-color,#a66884))}@media(min-width:768px){.pull-quote{display:block}}@media(min-width:1024px){.pull-quote{margin-bottom:20px;width:417.14px}.pull-quote--left{float:left;margin-right:20px;margin-left:-125.71px}}@media(min-width:1440px){.pull-quote{width:545.71px}.pull-quote--left{margin-left:-168.57px}}@media(min-width:1024px){.pull-quote--right{float:right;margin-right:-125.71px;margin-left:20px}}@media(min-width:1440px){.pull-quote--right{margin-right:-168.57px}}.pull-quote__text{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:700;font-size:1.5745299861rem;line-height:1.2;display:block}.fonts-loaded .pull-quote__text{font-family:Retina,"Helvetica Neue",Helvetica,Arial,sans-serif}.pull-quote__attribution{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;font-size:.8232026157rem;color:#666;display:block;margin-top:.5rem;margin-bottom:-16px;position:relative}.fonts-loaded .pull-quote__attribution{font-family:Retina,"Helvetica Neue",Helvetica,Arial,sans-serif}.in-article-recirc{background-color:#f8f8f8;margin-bottom:1.2em;padding:1rem}@media(prefers-color-scheme:dark){:where(.theme-auto) .in-article-recirc{background-color:hsla(var(--txt-color-hsl),.07)}}:where(.theme-dark) .in-article-recirc{background-color:hsla(var(--txt-color-hsl),.07)}@media(min-width:1024px){.in-article-recirc{float:right;width:271.43px;margin-right:-125.71px;margin-left:20px}}@media(min-width:1440px){.in-article-recirc{margin-right:-291.43px;margin-left:0}}@media print{.in-article-recirc{display:none}}.in-article-recirc__header{text-transform:uppercase;letter-spacing:.07em;font-size:.7715113549rem;margin:0}.in-article-recirc__topic{text-decoration:none;border-bottom:2px solid #ff0e50;border-color:var(--theme-color,#ff0e50)}.in-article-recirc__topic:focus,.in-article-recirc__topic:hover{color:#ff0e50;color:var(--theme-color,#ff0e50);border-color:transparent}.in-article-recirc__list{margin:0;padding:0;list-style:none;line-height:1.3}.in-article-recirc__item{margin-top:.8em}.in-article-recirc__link{display:inline-block;text-decoration:none;font-size:.8232026157rem}.in-article-recirc__link:focus,.in-article-recirc__link:hover{color:#666;--theme-color:hsla(var(--txt-color-hsl), 0.7);color:var(--theme-color,#ff0e50)}.roadblock-indicator__lock{fill:#999;width:10px;height:12px;margin-right:5px}@media(prefers-color-scheme:dark){:where(.theme-auto) .roadblock-indicator__lock{fill:#bbb}}:where(.theme-dark) .roadblock-indicator__lock{fill:#bbb}.roadblock-indicator__splus{fill:#2c0022;fill:var(--heading-color);width:78px;height:12px}.slate-kicker-promo:not(:empty){margin-bottom:1.2em}.social-share{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:1.5em 2em;margin:1.2em 0}.social-share--podcast-bottom{-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start}@media print{.social-share{display:none}}.social-share__link{text-decoration:none;text-transform:uppercase;letter-spacing:.07em;color:#444;color:hsla(var(--txt-color-hsl),.85);font-size:.7715113549rem}.social-share__link--twitter{fill:#4099ff}.social-share__link--facebook{fill:#3b5998}.social-share__link--comments{fill:#ffad10}.social-share__link--share{fill:#2c0022}@media(prefers-color-scheme:dark){:where(.theme-auto) .social-share__link--share{fill:#e60d48}}:where(.theme-dark) .social-share__link--share{fill:#e60d48}.social-share__icon{width:auto;height:2.2em;vertical-align:text-bottom;margin-right:.7em;margin-bottom:-.45em;overflow:visible}@media(max-width:768px){.social-share--desktop-only{display:none}}@media(min-width:768px){.social-share--mobile-only{display:none}}.share-sidebar .social-share{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:5.5px}@media(max-width:1024px){.share-sidebar .social-share{display:none}}.share-sidebar .social-share__icon{width:2.2em}.top-player-share .social-share{gap:1.5em 1em}.top-player-share .social-share__icon{height:1.8em;margin-bottom:-.25em}.image{display:block;margin:0 auto 30px;max-width:100%}@media print{.image{page-break-inside:avoid;break-inside:avoid-page}}.image--wide{max-width:none;width:100%}@media(min-width:768px),print{.image--wide{width:620px}}@media(min-width:1024px){.image--wide{width:1000px;margin:3rem auto 3rem -145.71px}}@media(min-width:1440px){.image--wide{width:1300px;margin-left:-188.57px}}@media(min-width:768px),print{.image--left{float:left;margin:0 15px 30px 0;z-index:1}}@media(min-width:1024px){.image--left{margin-right:20px;margin-left:-125.71px}}@media(min-width:1440px){.image--left{margin-left:-168.57px}}@media(min-width:768px),print{.image--right{float:right;margin:0 0 30px 15px;z-index:1}.image--left,.image--right{width:239px}}@media(min-width:1024px){.image--right{margin-right:-125.71px;margin-left:20px}}@media(min-width:1440px){.image--right{margin-right:-168.57px}}.image__meta{border-left:2px solid #ddd;border-color:hsla(var(--txt-color-hsl),.15);padding-left:.6em;line-height:1.1;margin-top:.5em}.image__caption{color:#444;color:hsla(var(--txt-color-hsl),.85);font-size:.8232026157rem;margin-right:.35em;margin-bottom:.3em}.image__caption a{color:#666;color:hsla(var(--txt-color-hsl),.7);text-decoration:none;border-bottom:1px solid hsla(var(--txt-color-hsl),.7);border-color:var(--theme-color,hsla(var(--txt-color-hsl),.7))}.image__caption a:focus,.image__caption a:hover{color:hsla(var(--txt-color-hsl),.7);--theme-color:hsla(var(--txt-color-hsl), 0.7);color:var(--theme-color,#ff0e50);border-color:transparent}.image__credit{color:#767676;color:hsla(var(--txt-color-hsl),.6);font-size:.7230659372rem}.image__credit a{color:#999;color:hsla(var(--txt-color-hsl),.5);text-decoration:none;border-bottom:1px solid hsla(var(--txt-color-hsl),.5);border-color:var(--theme-color,hsla(var(--txt-color-hsl),.5))}.image__credit a:focus,.image__credit a:hover{color:hsla(var(--txt-color-hsl),.5);--theme-color:hsla(var(--txt-color-hsl), 0.5);color:var(--theme-color,#ff0e50);border-color:transparent}.article-hotseats .image--wide{margin-left:0;margin-right:0}@media(min-width:1024px){.image--left,.image--right{width:344.29px}.article-hotseats .image--wide{width:1000px}}@media(min-width:1440px){.article-hotseats .image--wide{width:1300px}}.slate-ad{text-align:center;margin:25px 0;padding:20px 0;border-top:1px solid #ddd;border-bottom:1px solid #ddd;border-color:hsla(var(--txt-color-hsl),.15);-webkit-box-sizing:content-box;box-sizing:content-box;contain:layout;position:relative;z-index:0}.slate-ad .slate-ad__label{text-transform:uppercase;letter-spacing:.07em;display:block;content:"Advertisement";font-size:.6776625465rem;color:#999;color:hsla(var(--txt-color-hsl),.5);margin-bottom:10px;line-height:20px}.slate-ad .slate-ad__creative{margin:0 calc((100vw - 100%)/ -2);height:auto!important}.slate-ad.ad--box .slate-ad__creative,.slate-ad.ad--native .slate-ad__creative,.slate-ad.ad--nativeFlex .slate-ad__creative,.slate-ad.ad--podcast .slate-ad__creative,.slate-ad.ad--recircLeft .slate-ad__creative,.slate-ad.ad--recircRight .slate-ad__creative,.slate-ad.ad--rightRail .slate-ad__creative,.slate-ad.ad--sticky-mobile .slate-ad__creative{margin:0 auto}@media(min-width:768px){.slate-ad{margin:50px 0}}.slate-ad.ad--native,.slate-ad.ad--nativeFlex,.slate-ad.ad--podcastTextAd,.slate-ad.ad--rightRail,.slate-ad.ad--sticky-mobile,.top-ad .slate-ad{border:none;margin:0;padding:0}.layout-homepage .slate-ad{margin-bottom:0}.slate-ad.ad--native .slate-ad__label,.slate-ad.ad--podcastTextAd .slate-ad__label,.slate-ad.ad--rightRail .slate-ad__label,.slate-ad.ad--sticky-mobile .slate-ad__label,.top-ad .slate-ad .slate-ad__label{display:none}.hp-top-shelf .slate-ad{margin-bottom:1.8em}.slate-ad.ad--sticky-mobile{position:fixed;bottom:0;left:0;width:100%;background-color:#fff;background-color:var(--bg-color);border-top:1px solid #ddd;border-color:hsla(var(--txt-color-hsl),.15);-webkit-box-shadow:0 0 .2em hsla(var(--txt-color-hsl),.15);box-shadow:0 0 .2em hsla(var(--txt-color-hsl),.15)}@media print{.slate-ad{display:none!important;clear:none}}[data-type=non-standard]{height:0;border:none;margin:0;padding:0}[data-type=non-standard]>div{height:1px!important}[data-type=non-standard]>div:before{display:none}.top-ad{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#f8f8f8;background-color:hsla(var(--txt-color-hsl),.03);height:250px;overflow:hidden;margin-bottom:1.2em}@media(min-width:768px){.layout-homepage .top-ad{margin-bottom:60px}}@media print{.top-ad{display:none!important}.bottom-ad{display:none}}.ad--tabletPortraitOnly,.is-edit-mode.ad--bottomOutstream{display:none}.bottom-ad{margin:0 auto;padding-left:15px;padding-right:15px}@media(min-width:1024px){.bottom-ad{max-width:1000px;padding-left:0;padding-right:0}}@media(min-width:1440px){.bottom-ad{max-width:1300px}}.bottom-ad .is-edit-mode.slate-ad{margin-bottom:20px}.top-ad .ad--leaderboard,.top-ad .ad--tabletPortraitOnly{margin-bottom:0}.top-ad .slate-ad__creative{min-height:1px}.hp-top-shelf--coverstory .ad--topShelf{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.ad--topShelf{grid-column:1/span 10}.is-edit-mode.slate-ad{width:100%;margin-left:auto;margin-bottom:10px}.is-edit-mode.ad--leaderboard,.is-edit-mode.ad--mobileOnly,.is-edit-mode.ad--tabletPortraitOnly{max-width:970px;width:100%;padding:10px;margin:auto}.is-edit-mode.ad--leaderboard>div,.is-edit-mode.ad--mobileOnly>div,.is-edit-mode.ad--tabletPortraitOnly>div{margin:auto}@media(max-width:727px){.ad--tabletDesktop,.top-ad{display:none}}@media(min-width:728px)and (max-width:969px){.ad--tabletPortraitOnly{display:block}}@media(max-width:969px){.top-ad{height:100px}.ad--desktopOnly{display:none}.is-edit-mode.ad--leaderboard,.is-edit-mode.ad--mobileOnly{width:100%;padding:0 20px}}@media(max-width:1023px){.ad--rightRail{display:none}}.ad--rightRail+.ad--rightRail{margin-top:500px}.ad--inArticleBanner{clear:both}@media(min-width:728px){.ad--mobileOnly{display:none}.ad--inArticleBanner .slate-ad__creative div[id^=google_ads_iframe]{min-width:620px}}.ad--box{float:right;margin:15px 0 15px 20px;border:none;padding:0;width:300px}.ad--nativeFlex{display:none}@media(max-width:767px){.ad--nativeFlex{display:block}}@media(min-width:1024px){.ad--nativeFlex{display:block}.ad--native+.ad--native{display:none}}@media(max-width:767px){.ad--native+.ad--native{display:none}}.ad--box .slate-ad__creative,.ad--desktopOnly.ad--inArticleBanner .slate-ad__creative,.ad--desktopXl .slate-ad__creative,.ad--mobileOnly.ad--inArticleBanner .slate-ad__creative,.ad--podcast .slate-ad__creative,.ad--tabletPortraitOnly.ad--inArticleBanner .slate-ad__creative,.bottom-ad .ad--desktopOnly .slate-ad__creative,.bottom-ad .ad--mobileOnly .slate-ad__creative,.layout-homepage .ad--desktopOnly .slate-ad__creative,.layout-homepage .ad--mobileOnly .slate-ad__creative,.layout-homepage .ad--nativeFlex .slate-ad__creative,.layout-teaser-list .ad--mobileOnly .slate-ad__creative{min-height:250px}.bottom-ad .ad--tabletPortraitOnly .slate-ad__creative,.layout-homepage .ad--tabletPortraitOnly .slate-ad__creative{min-height:90px}.bottom-ad .ad--sticky-mobile .slate-ad__creative{min-height:auto;max-height:50px}@media(min-width:970px){.ad--desktopOnly.ad--inArticleBanner .slate-ad__creative,.ad--desktopXl .slate-ad__creative,.bottom-ad .ad--desktopOnly .slate-ad__creative,.layout-homepage .ad--desktopOnly .slate-ad__creative{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}}@media(min-width:728px)and (max-width:969px){.ad--tabletPortraitOnly.ad--inArticleBanner .slate-ad__creative{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}}.ad--podcast{margin:0 auto 50px}.ad--podcastTextAd{margin:0;padding:0;border:none;text-align:left}.ad--podcastTextAd>div{margin:0;width:1px;height:1px!important}@media(min-width:1440px){.ad--box{display:none!important}.ad--desktopOnly.ad--inArticleBanner,.ad--tabletDesktop{display:none}}@media(max-width:1439px){.ad--desktopXl{display:none}}.layout-two-column__right-rail .ad--rightRail{position:-webkit-sticky;position:sticky;top:30px}.ad--sticky-desktop{position:-webkit-sticky;position:sticky;top:0;z-index:10000;padding:10px 0;height:auto;background-color:#fff;background-color:var(--bg-color);border-bottom:1px solid #ddd;border-color:hsla(var(--txt-color-hsl),.15);-webkit-box-shadow:0 0 .2em hsla(var(--txt-color-hsl),.15);box-shadow:0 0 .2em hsla(var(--txt-color-hsl),.15)}.ad--sticky-hide{-webkit-transition:top 1s ease-out;transition:top 1s ease-out;top:-270px}.article .author-bio{padding:1.5rem 0 0}@media(min-width:1440px){.article .author-bio{padding:1.5rem 60px 0}}.article .author-bio+.author-bio{padding-top:0}.author-bio__heading{font-size:1.8rem;margin:0 0 .05em;line-height:1;text-transform:uppercase;letter-spacing:.03em;color:#2c0022;color:var(--heading-color)}@media(min-width:768px){.author-bio__heading{font-size:2.4rem}}@media(min-width:1024px){.author-bio__heading{font-size:3.9rem}.author-bio--extended .author-bio__content{max-width:635.71px}}.author-bio__content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:#444;color:hsla(var(--txt-color-hsl),.85)}@media(min-width:1440px){.author-bio__heading{font-size:4.2rem}.author-bio--extended .author-bio__content{max-width:828.57px}}.author-bio__photo{width:80px;margin-right:20px}@media(min-width:1024px){.author-bio__photo{width:140px}}.author-bio__photo img{border:1px solid #ccc;border-color:hsla(var(--txt-color-hsl),.2)}.author-bio__about{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.author-bio__text,.author-bio__text p{line-height:1.5;margin:0 0 1.2em}.author-bio__text a,.author-bio__text p a{text-decoration:none;border-bottom:2px solid #ff0e50;border-color:var(--theme-color,#ff0e50)}.author-bio__text a:focus,.author-bio__text a:hover,.author-bio__text p a:focus,.author-bio__text p a:hover{color:#ff0e50;color:var(--theme-color,#ff0e50);border-color:transparent}.author-bio__share{padding:0}.author-bio__share li{list-style:none;display:inline-block}.author-bio__share li+li{margin-left:1.5em}.author-share{font-size:.8232026157rem;color:#666;color:hsla(var(--txt-color-hsl),.7);text-decoration:none;fill:#999;fill:hsla(var(--txt-color-hsl),.5)}.author-share:focus,.author-share:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.author-share__icon{vertical-align:sub;margin-right:.5em}@media(max-width:768px){.author-bio__share li+li{margin-left:15px}.author-share__text{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}}@media print{.slate-adnode{display:none}}@media print{.slate-analytics-js{display:none}}.masthead__login,.mobile-account__link,.mobile-masthead__link,.mobile-notable__link,.notable__link,.notable__logo,.sections__link,.strapline__text[href],a.mobile-sections__link{text-decoration:none}.masthead{display:block}.masthead [hidden]{display:none}.masthead button,.masthead input{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;font-size:1em}.fonts-loaded .masthead button,.fonts-loaded .masthead input{font-family:Retina,"Helvetica Neue",Helvetica,Arial,sans-serif}.masthead__wrapper{padding:0 15px}.masthead__container{margin:0 auto}@media(min-width:1024px){.masthead__container{max-width:1000px}.masthead--sticky{position:fixed}}@media(min-width:1440px){.masthead__container{max-width:1300px}}.masthead__login:focus,.masthead__login:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.masthead--sticky{width:100%;z-index:5}.masthead-account{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;list-style:none;margin:0;overflow:visible}.masthead-account__item{margin:0}.masthead-account__dropdown{display:inline-block}.masthead-account__dropdown>button.dropdown__button{border:none;padding-left:0;padding-right:0}.masthead-account #desktop-masthead-link{max-height:1em;max-width:230px}@media print{.masthead-account{display:none}}@media(max-width:767px){.desktop-masthead{display:none}}.skip-to-main{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;background:hsla(var(--bg-color-hsl),.5);-webkit-backdrop-filter:blur(.1em);backdrop-filter:blur(.1em)}.skip-to-main:focus{width:auto;height:auto;clip:auto}.notable{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;height:40px}.notable__heading{-webkit-box-flex:0;-webkit-flex:none;-ms-flex:none;flex:none;height:26px;fill:#ff0e50}.notable__item,.notable__list{height:100%;display:-webkit-flex;display:-ms-flexbox}.notable__list{list-style:none;padding:0;display:-webkit-box;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden}.notable__item{margin:0 .2em 0 1.2em;display:-webkit-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.notable__link{color:#666;color:hsla(var(--txt-color-hsl),.7);padding:.2em;white-space:nowrap;font-size:.6776625465rem}.notable__link:focus,.notable__link:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}@media(min-width:1024px){.notable__link{font-size:.7230659372rem}}.notable__logo{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-left:1.6em}.notable__logo:focus,.notable__logo:hover{opacity:.8}.notable__account{font-size:.6776625465rem;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}@media(min-width:1024px){.notable__account{font-size:.9372071228rem}}.notable__account>:not([hidden]){display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}@media print{.notable{display:none}}.main-nav__content,.main-nav__links{display:-webkit-flex;display:-ms-flexbox}.main-nav{background:var(--nav-color);color:#fff}@media print{.main-nav{background:0 0}}.main-nav__content{display:-webkit-box;display:flex}@media(min-width:1024px)and (prefers-color-scheme:dark){:where(.theme-auto) .main-nav__content::after{-webkit-filter:grayscale(1);filter:grayscale(1)}}.main-nav__logo{line-height:0;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;-webkit-box-flex:1;-webkit-flex:1 1 200px;-ms-flex:1 1 200px;flex:1 1 200px;min-width:168px;max-width:240px;margin-right:.5em}@media(min-width:1440px){.notable__account{font-size:.8232026157rem}.main-nav__logo{max-width:258px}}.main-nav__links{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:1.2em 0 .75em}.main-nav__search,.mini-nav__content{display:-webkit-flex;display:-ms-flexbox}.main-nav__search{display:-webkit-box;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;gap:1.2em;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline;font-size:.6776625465rem}@media(min-width:1024px){.main-nav__content{position:relative}.main-nav__content::after{content:"";position:absolute;bottom:0;left:calc(100% + 30px);height:100vh;width:calc(50vw - 50% - 30px);background-image:url(/media/sites/slate-com/stripes-plum.png);background-size:8px}:where(.theme-dark) .main-nav__content::after{-webkit-filter:grayscale(1);filter:grayscale(1)}.main-nav__links{margin-bottom:.9em}.main-nav__search{font-size:.9372071228rem}}@media(min-width:1440px){.main-nav__search{font-size:.8232026157rem}}.mini-nav{background:var(--nav-color);color:#fff}.mini-nav__content{display:-webkit-box;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:.6776625465rem;font-size:.8232026157rem}.masthead .search-form,.sections{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox}@media(min-width:1024px){.mini-nav__content{font-size:.9372071228rem;position:relative}.mini-nav__content::after{content:"";position:absolute;bottom:0;left:calc(100% + 30px);height:100vh;width:calc(50vw - 50% - 30px);background-image:url(/media/sites/slate-com/stripes-plum.png);background-size:8px}}@media(min-width:1440px){.mini-nav__content{font-size:.8232026157rem}}@media(min-width:1024px)and (prefers-color-scheme:dark){:where(.theme-auto) .mini-nav__content::after{-webkit-filter:grayscale(1);filter:grayscale(1)}}.mini-nav__logo{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;line-height:0}.mini-nav__search{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.mini-nav__account{line-height:1}.mini-nav #desktop-masthead-link{-webkit-transform:translateY(.1em);-ms-transform:translateY(.1em);transform:translateY(.1em)}.logo{width:100%;height:auto;max-height:80px;fill:#fff;-webkit-transform:translateY(4%);-ms-transform:translateY(4%);transform:translateY(4%)}@media print{.logo{fill:#2c0022}}.masthead .search-form{display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline;position:relative;-webkit-transition:all .1s;transition:all .1s}.masthead .search-form:focus-within .search-form__input{cursor:initial;outline:0;border-bottom-color:#ff0e50;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);width:20vw}.masthead .search-form:focus-within .search-form__input:focus:not(:-moz-placeholder-shown){min-width:10em}.masthead .search-form:focus-within .search-form__input:focus:not(:-ms-input-placeholder){min-width:10em}.masthead .search-form:focus-within .search-form__input:focus:not(:placeholder-shown){min-width:10em}.masthead .search-form:focus-within .search-form__label{opacity:0}.masthead .search-form:focus-within .search-form__submit{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);z-index:1}.masthead .search-form__label,.masthead .search-form__submit{-webkit-transform:translateX(2em);-ms-transform:translateX(2em)}.masthead .search-form__input,.masthead .search-form__label,.masthead .search-form__submit{-webkit-transition:all .1s;transition:all .1s}.masthead .search-form__icon{width:1.1em;height:1.1em;vertical-align:text-bottom;cursor:pointer}.masthead .search-form__label{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1;fill:currentColor;opacity:.6;-webkit-transition:opacity .12s ease;transition:opacity .12s ease;margin-right:.2em;transform:translateX(2em)}.masthead .search-form__submit{border:none;background:0 0;-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3;fill:#ff0e50;opacity:0;transform:translateX(2em);z-index:-5}.masthead .search-form__input{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2;background:0 0;border:none;border-bottom:1px solid transparent;padding:0;min-width:3.2em;color:#fff;cursor:pointer;-webkit-transform:translateX(2em);-ms-transform:translateX(2em);transform:translateX(2em);width:3.2em}.masthead .search-form__input::-webkit-input-placeholder{color:#fff;opacity:1}.masthead .search-form__input::-moz-placeholder{color:#fff;opacity:1}.masthead .search-form__input:-ms-input-placeholder{color:#fff;opacity:1}.masthead .search-form__input::-ms-input-placeholder{color:#fff;opacity:1}.masthead .search-form__input::placeholder{color:#fff;opacity:1}.masthead .search-form__input::-moz-selection{background-color:#e1cdd6}.masthead .search-form__input::selection{background-color:#e1cdd6}.masthead .search-form__input:-webkit-autofill{-webkit-box-shadow:0 0 0 2em #23001b inset;-webkit-text-fill-color:#fff}@media print{.masthead .search-form{display:none}.sections__link{color:#2c0022}}.sections{margin:1.5em 0 0;list-style:none;padding:0;display:flex;font-size:2vw}.menu__content,.mobile-masthead{display:-webkit-flex;display:-ms-flexbox}.sections__item{margin-left:.5em;white-space:nowrap}@media(min-width:768px){.sections__item{padding-left:.25em;padding-right:.25em}}@media(min-width:1024px){:where(.theme-dark) .mini-nav__content::after{-webkit-filter:grayscale(1);filter:grayscale(1)}.sections{font-size:1.067rem}.sections__item{padding-left:.5em;padding-right:.5em}}.sections__link{border-bottom:4px solid transparent;padding-bottom:.2em;-webkit-transition:border .2s;transition:border .2s}.sections__link:focus,.sections__link:hover,.sections__link[aria-current]{border-color:#ff0e50}.mobile-masthead{background:var(--nav-color);color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.mobile-masthead__menu{-webkit-box-flex:0;-webkit-flex:0 0 6.2em;-ms-flex:0 0 6.2em;flex:0 0 6.2em}.mobile-masthead__account{padding:15px;-webkit-box-flex:0;-webkit-flex:0 0 6.2em;-ms-flex:0 0 6.2em;flex:0 0 6.2em}.mobile-masthead__link{border-bottom:2px solid #ff0e50;border-color:var(--theme-color,#ff0e50)}.mobile-masthead__link:focus,.mobile-masthead__link:hover{color:#ff0e50;color:var(--theme-color,#ff0e50);border-color:transparent}@media(min-width:768px){.mobile-masthead,.mobile-masthead__link{display:none}}.mobile-masthead__logo{line-height:0;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end}.mobile-masthead #mobile-masthead-link .tp-container-inner{height:1.2rem!important}@media print{.mobile-masthead__account{display:none}.mobile-masthead{background:0 0;color:#23001b}}.menu-open,.menu-open>body{height:100%;overflow:hidden;position:fixed}.menu__content{background:var(--nav-color);position:absolute;z-index:5;top:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;width:100vw;overflow-y:scroll;-webkit-overflow-scrolling:touch;padding-top:15px;-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out}.menu:not(.menu--open)>.menu__content{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.menu:not(.menu--open)>.menu__content>*{-webkit-transition:opacity 0s .2s;transition:opacity 0s .2s;opacity:0}.mag-lens,.menu__control svg{opacity:.6;-webkit-transition:opacity .12s ease}.menu__control:focus+.menu__content,.menu__control:hover+.menu__content{will-change:transform}.menu__control{border:none;border-radius:0;padding:15px;font-size:.878357191rem;background:0 0;color:inherit}.mobile-account,.mobile-sections__link:first-child{border-top:1px solid rgba(255,255,255,.1)}.mobile-sections__link,.social--mobile{border-bottom:1px solid rgba(255,255,255,.1)}.menu__control svg{fill:currentColor;transition:opacity .12s ease}.menu__control:focus svg,.menu__control:hover svg{opacity:1}.menu__control--open{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.menu__control-text{margin-right:.6em}@media print{.menu{display:none}}.mobile-notable{padding:0 15px}.mobile-notable__heading{margin:0;fill:#ff0e50}.mobile-notable__links{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.mobile-notable__link{background:rgba(255,255,255,.1);border-radius:1px;color:rgba(255,255,255,.8);font-size:.8232026157rem;padding:6px 4px;margin:10px 10px 0 0}.mobile-notable__link:focus,.mobile-notable__link:hover{color:#fff;background:rgba(255,255,255,.2)}.mobile-sections{margin-top:1.2rem;-webkit-box-flex:1;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.mobile-sections__link{padding:15px;fill:currentColor}.mobile-sections__link--pods{fill:#ff4900}.mobile-sections__link:empty{display:none}a.mobile-sections__link{color:#fff;display:block}a.mobile-sections__link:focus,a.mobile-sections__link:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.mag-lens{vertical-align:text-bottom;fill:currentColor;transition:opacity .12s ease;margin-right:.2em}.social{padding:0 .6em 0 3em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-transform:uppercase;letter-spacing:.07em}.social__badge{margin-left:1.4em;padding:.2em;fill:#999;fill:hsla(var(--txt-color-hsl),.5)}.social__badge:focus,.social__badge:hover{opacity:.8}.social--mobile{padding:15px;font-size:.878357191rem}.social--mobile .social__badge{fill:currentColor;opacity:.6;-webkit-transition:opacity .12s ease;transition:opacity .12s ease;margin-left:1.9em}.social--mobile .social__badge:focus,.social--mobile .social__badge:hover{opacity:1}@media print{.social{display:none}}.mobile-account{font-size:.878357191rem}.mobile-account__link{color:#fff;float:left;width:calc(50% - .5px);text-align:center;padding:1.3em 0}.mobile-account__link:focus,.mobile-account__link:hover{color:rgba(255,255,255,.8);--theme-color:rgba(255, 255, 255, 0.8);--theme-color-hsl:0deg,0%,100%;color:var(--theme-color,#ff0e50)}.mobile-account__link:first-child{border-right:1px solid rgba(255,255,255,.1);width:calc(50% + .5px)}.strapline{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;font-size:.6776625465rem;text-transform:uppercase;letter-spacing:.07em;color:#666;color:hsla(var(--txt-color-hsl),.7);padding:.6em 0 1.8em}.strapline__asterisk{margin-right:.6em;fill:#ff0e50;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:2.1em;height:2.3em}.strapline__text{margin-top:.4em;line-height:1.5em}.strapline__text[href]{color:inherit}.strapline__text[href]:focus,.strapline__text[href]:hover{color:#999;color:hsla(var(--txt-color-hsl),.5)}.strapline__social{-webkit-box-flex:1;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;height:1.5em;margin-top:.4em}@media(max-width:767px){.strapline__social{display:none}}.theme-picker{width:5em}.theme-picker .dropdown__label>svg,.theme-picker__option>svg{fill:currentColor;vertical-align:text-bottom;opacity:.5}.theme-picker .theme-picker__button.theme-picker__button{margin:-.5em -.5714285714em}.theme-picker .dropdown__label svg{margin-right:.2em}.piano-mount__container{height:auto!important;width:100%!important}.piano-mount>.piano-id-container{height:auto!important}.piano-mount__paywall{margin-bottom:-7.8947368421rem}.piano-mount .slate-full-bleed .tp-container-inner{margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);width:100vw}.piano-mount--in-article{display:block;grid-column:3;grid-column-gap:0!important;margin:0!important;position:relative}@media(min-width:768px){@supports(display:grid){.piano-mount--in-article{display:grid}@supports(display:grid){.piano-mount--in-article{margin-bottom:1.2rem}@media(min-width:768px)and (min-width:768px){.piano-mount--in-article{margin-top:0;margin-bottom:1.8rem;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);width:100vw;display:grid;grid-column-gap:15px;grid-template-columns:1fr 620px 1fr}}@media(min-width:768px)and (min-width:1024px){.piano-mount--in-article{grid-column-gap:20px;grid-template-columns:1fr 125.71px 708.57px 125.71px 1fr}}@media(min-width:768px)and (min-width:1440px){.piano-mount--in-article{grid-template-columns:1fr 240px 780px 240px 1fr}}.piano-mount--in-article:before{grid-column:1;content:""}.piano-mount--in-article:after{content:"";grid-column-end:4}@media(min-width:768px)and (min-width:1024px){.piano-mount--in-article:after{grid-column-end:6}}@media print and (min-width:768px){.piano-mount--in-article{display:block;max-width:40em;margin:0 auto}}}@media screen and (min-width:768px)and (-ms-high-contrast:active),screen and (min-width:768px)and (-ms-high-contrast:none){.piano-mount--in-article{max-width:1000px;margin:auto}}@media screen and (min-width:768px)and (-ms-high-contrast:active)and (min-width:1440px),screen and (min-width:768px)and (-ms-high-contrast:none)and (min-width:1440px){.piano-mount--in-article{max-width:1300px}}}}.piano-mount--in-article .tp-container-inner{width:auto!important;height:auto!important;grid-column:2;position:relative;top:-8.8947368421rem;margin-bottom:-8.8947368421rem}@media(min-width:1024px){.piano-mount--in-article .tp-container-inner{grid-column:3}}.piano-mount--fixed-bottom{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;bottom:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;left:0;position:fixed;top:auto;z-index:4;width:100vw!important}.piano-mount--loading>.piano-mount__loader{text-align:center;display:block}.piano-mount--loading>.piano-mount__loader::before{content:"";display:inline-block;width:1.2em;height:1.2em;border-radius:50%;border:.2em solid #2c0022;border-color:var(--raisin-color);border-bottom-color:transparent;-webkit-animation:1s spinner-spin linear infinite;animation:1s spinner-spin linear infinite}@-webkit-keyframes spinner-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.piano-mount--loading>.piano-mount__loader~.piano-mount__container{visibility:hidden}.piano-mount--error>.piano-mount__error{display:block}.piano-paywall-visible .article .article__body .article__content>*,.piano-paywall-visible .article .article__body>:not(.article__content):not(.article__left-rail),.piano-paywall-visible .article__content hr,.piano-paywall-visible .article__hr{display:none}.piano-paywall-visible .article .article__body .article__content>.slate-external-video:first-child,.piano-paywall-visible .article .article__body .article__content>figure:first-child,.piano-paywall-visible .article .article__body .article__content>p:nth-of-type(-1n+2){display:block}@media(min-width:1440px){.piano-mount--in-article{grid-template-columns:1fr 190px 780px 330px 1fr}.piano-paywall-visible .article--coverstory~.piano-mount .piano-mount--in-article{grid-template-columns:1fr 240px 780px 240px 1fr}}.global-footer{margin-top:100px;font-size:.8232026157rem;line-height:1.5;color:#fff;background:#2c0022}@media(min-width:768px){.global-footer{font-size:.7230659372rem}}@media print{.global-footer{background:0 0;color:#2c0022}}.global-footer a{color:currentColor;text-decoration:none}.global-footer a:focus,.global-footer a:hover{-webkit-filter:opacity(.8);filter:opacity(.8)}.global-footer__main{padding:40px 15px}.global-footer__main-content{margin:0 auto;display:grid;grid-template-columns:repeat(12,1fr);grid-column-gap:10px}@media(min-width:1024px){.global-footer{font-size:.7715113549rem}.global-footer__main-content{max-width:1000px}}@media(min-width:1440px){.global-footer__main-content{max-width:1300px}}.global-footer__about,.global-footer__ad,.global-footer__sub{grid-column:span 6}@media(min-width:768px){.global-footer__about,.global-footer__ad,.global-footer__sub{grid-column:span 2}}.global-footer__heading{text-transform:uppercase;letter-spacing:.07em;margin-top:0;margin-bottom:.75em}.global-footer__links{margin:0 0 2em;list-style:none;padding:0}.global-footer__links li{margin-bottom:.75em}.global-footer__brand-section{grid-column:1/span 12}.global-footer__logo{max-width:200px;fill:currentColor}@media(min-width:768px){.global-footer__brand-section{grid-column:8/span 5}.global-footer__logo{max-width:100%}}.global-footer__brand-text{margin-top:.75em;margin-bottom:2em}@media print{.global-footer__main{padding-bottom:0}.global-footer__heading,.global-footer__links{display:none}.global-footer__brand-text{margin-bottom:.5em}.global-footer__social-links{display:none}}.global-footer__social-link{margin-right:1em;margin-bottom:.5em;display:inline-block}.global-footer__social-badge{fill:#56334e;margin-right:.5em;vertical-align:bottom}.global-footer__legal{background:#23001b;padding:1.5em 15px}.global-footer__legal-content{margin:0 auto}@media(min-width:1024px){.global-footer__legal-content{max-width:1000px}}@media(min-width:1440px){.global-footer__legal-content{max-width:1300px}}@media(min-width:768px){.global-footer__legal-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.global-footer__legal-links{margin:0}}.global-footer__legal-links{padding-left:0;list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@media print{.global-footer__legal{padding-top:0}.global-footer__legal-links{display:none}}.global-footer__legal-link:first-of-type:after{content:"•";margin:0 .7em}@media(min-width:768px){.global-footer__legal-text{margin:0}}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-Book-subset.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-BookItalic-subset.woff2) format("woff2");font-weight:400;font-style:italic}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-Bold-subset.woff2) format("woff2");font-weight:700;font-style:normal}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-BoldItalic-subset.woff2) format("woff2");font-weight:700;font-style:italic}@font-face{font-family:Register;font-display:swap;src:url(/fonts/slate-com/Register-Heavy-subset.woff2) format("woff2");font-weight:700;font-style:normal}@font-face{font-family:Register;font-display:swap;src:url(/fonts/slate-com/Register-HeavyItalic-subset.woff2) format("woff2");font-weight:700;font-style:italic}@media print{.slate-ad-prebid{display:none}}a,button:enabled{cursor:pointer}body,button,input[type=checkbox]{margin:0}html{-webkit-box-sizing:border-box;box-sizing:border-box;overflow-x:hidden;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}:root{--raisin-color:#2c0022;--raisin-color-hsl:313.6363636364deg,100%,8.6274509804%;--plum-color:#6a0432;--plum-color-hsl:332.9411764706deg,92.7272727273%,21.568627451%;--cherry-color:#ff0e50;--cherry-color-hsl:343.5684647303deg,100%,52.7450980392%;--clementine-color:#ffad10;--clementine-color-hsl:39.4142259414deg,100%,53.137254902%;--glacier-color:#21aaeb;--glacier-color-hsl:199.3069306931deg,83.4710743802%,52.5490196078%;--kiwi-color:#78d33d;--kiwi-color-hsl:96.4deg,63.025210084%,53.3333333333%;--mint-color:#00bfa5;--mint-color-hsl:171.832460733deg,100%,37.4509803922%;--carrot-color:#ff4900;--carrot-color-hsl:17.1764705882deg,100%,50%;--partisan-red-color:#d32f2f;--partisan-red-color-hsl:0deg,65.0793650794%,50.5882352941%;--partisan-blue-color:#1565c0;--partisan-blue-color-hsl:211.9298245614deg,80.2816901408%,41.7647058824%;--gray-2-color:#222;--gray-2-color-hsl:0deg,0%,13.3333333333%;--gray-4-color:#444;--gray-4-color-hsl:0deg,0%,26.6666666667%;--gray-6-color:#666;--gray-6-color-hsl:0deg,0%,40%;--gray-7-color:#767676;--gray-7-color-hsl:0deg,0%,46.2745098039%;--gray-9-color:#999;--gray-9-color-hsl:0deg,0%,60%;--gray-c-color:#ccc;--gray-c-color-hsl:0deg,0%,80%;--gray-d-color:#ddd;--gray-d-color-hsl:0deg,0%,86.6666666667%;--gray-f0-color:#f0f0f0;--gray-f0-color-hsl:0deg,0%,94.1176470588%;--gray-f8-color:#f8f8f8;--gray-f8-color-hsl:0deg,0%,97.2549019608%;--txt-color:#222;--txt-color-hsl:0deg,0%,13.3333333333%;--bg-color:white;--bg-color-hsl:0deg,0%,100%;--nav-color:#23001b;--nav-color-hsl:313.7142857143deg,100%,6.862745098%;--label-color:#88365b;--label-color-hsl:332.9268292683deg,43.1578947368%,37.2549019608%;--heading-color:#2c0022;--heading-color-hsl:313.6363636364deg,100%,8.6274509804%;font-size:17px;accent-color:var(--theme-color,var(--cherry-color))}@media(min-width:768px){:root{font-size:19px}}@media(min-width:1024px){:root{font-size:17px}}@media(min-width:1440px){:root{font-size:19px}}.theme-dark{--bg-color:#1a0014;--bg-color-hsl:313.8461538462deg,100%,5.0980392157%;--txt-color:#f8f8f8;--txt-color-hsl:0deg,0%,97.2549019608%;--nav-color:#2c0022;--nav-color-hsl:313.6363636364deg,100%,8.6274509804%;--plum-color:#a66884;--plum-color-hsl:332.9032258065deg,25.8333333333%,52.9411764706%;--raisin-color:#80667a;--raisin-color-hsl:313.8461538462deg,11.3043478261%,45.0980392157%;--heading-color:#f8f8f8;--heading-color-hsl:0deg,0%,97.2549019608%;--label-color:#c39bad;--label-color-hsl:333deg,25%,68.6274509804%;--button-color:#e60d48;--button-color-hsl:343.6866359447deg,89.3004115226%,47.6470588235%}body{padding:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;background-color:var(--bg-color);color:#222;color:var(--txt-color)}.slate-input,a,button,input{color:inherit}.fonts-loaded body{font-family:Retina,"Helvetica Neue",Helvetica,Arial,sans-serif}*,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}:focus-visible{outline:var(--theme-color,#ff0e50) dotted 3px;outline-offset:1px}a{outline-color:transparent;-webkit-transition:color .12s ease,fill .12s ease,border-color .12s ease,outline-color .12s ease,outline-style .12s ease;transition:color .12s ease,fill .12s ease,border-color .12s ease,outline-color .12s ease,outline-style .12s ease}button{font:inherit;font-size:1rem}sub,sup{vertical-align:baseline;position:relative;line-height:0}sub{top:.4em}sup{top:-.4em}img{max-width:100%}img[width][height]{height:auto}::-moz-selection{background-color:#ffcfdc;background-color:rgba(var(--theme-color-rgb,255,14,80),.2)}::selection{background-color:#ffcfdc;background-color:rgba(var(--theme-color-rgb,255,14,80),.2)}@media(prefers-color-scheme:dark){.theme-auto{--bg-color:#1a0014;--bg-color-hsl:313.8461538462deg,100%,5.0980392157%;--txt-color:#f8f8f8;--txt-color-hsl:0deg,0%,97.2549019608%;--nav-color:#2c0022;--nav-color-hsl:313.6363636364deg,100%,8.6274509804%;--plum-color:#a66884;--plum-color-hsl:332.9032258065deg,25.8333333333%,52.9411764706%;--raisin-color:#80667a;--raisin-color-hsl:313.8461538462deg,11.3043478261%,45.0980392157%;--heading-color:#f8f8f8;--heading-color-hsl:0deg,0%,97.2549019608%;--label-color:#c39bad;--label-color-hsl:333deg,25%,68.6274509804%;--button-color:#e60d48;--button-color-hsl:343.6866359447deg,89.3004115226%,47.6470588235%}:where(.theme-auto) ::-moz-selection{background-color:rgba(var(--theme-color-rgb,255,14,80),.4)}:where(.theme-auto) ::selection{background-color:rgba(var(--theme-color-rgb,255,14,80),.4)}}:where(.theme-dark) ::-moz-selection{background-color:rgba(var(--theme-color-rgb,255,14,80),.4)}:where(.theme-dark) ::selection{background-color:rgba(var(--theme-color-rgb,255,14,80),.4)}::-ms-reveal{display:none}@media print{.clay-kiln{display:none}}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-Book-subset.woff2) format("woff2");font-weight:400;font-style:normal}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-BookItalic-subset.woff2) format("woff2");font-weight:400;font-style:italic}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-Bold-subset.woff2) format("woff2");font-weight:700;font-style:normal}@font-face{font-family:Retina;font-display:swap;src:url(/fonts/slate-com/Retina-BoldItalic-subset.woff2) format("woff2");font-weight:700;font-style:italic}@font-face{font-family:Register;font-display:swap;src:url(/fonts/slate-com/Register-Heavy-subset.woff2) format("woff2");font-weight:700;font-style:normal}@font-face{font-family:Register;font-display:swap;src:url(/fonts/slate-com/Register-HeavyItalic-subset.woff2) format("woff2");font-weight:700;font-style:italic}[hidden]{display:none}.slate-input{display:block;font:inherit;width:100%;padding:.5rem .75rem;font-size:.9372071228rem;background-color:var(--bg-color);background-image:none;background-clip:padding-box;border:1px solid #999;border-color:hsla(var(--txt-color-hsl),.5);border-radius:2px;-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin-top:.25em}.slate-button,.slate-button--subtle{padding:.5em .5714285714em;line-height:1}.slate-input::-webkit-input-placeholder{color:#999;color:hsla(var(--txt-color-hsl),.5);opacity:1}.slate-input::-moz-placeholder{color:#999;color:hsla(var(--txt-color-hsl),.5);opacity:1}.slate-input:-ms-input-placeholder{color:#999;color:hsla(var(--txt-color-hsl),.5);opacity:1}.slate-input::-ms-input-placeholder{color:#999;color:hsla(var(--txt-color-hsl),.5);opacity:1}.slate-input::placeholder{color:#999;color:hsla(var(--txt-color-hsl),.5);opacity:1}.slate-input:disabled,.slate-input[readonly]{background-color:#f0f0f0;background-color:hsla(var(--txt-color-hsl),.07);opacity:1}.slate-input:disabled{cursor:not-allowed}.slate-input[readonly]{cursor:text}.slate-button{background-color:#2c0022;background-color:var(--button-color,#2c0022);border:1px solid transparent;border-radius:2px;color:#fff;display:inline-block;text-align:center;text-decoration:none;-webkit-transition:.15s ease-in-out;transition:.15s ease-in-out;-webkit-transition-property:opacity,color,background;transition-property:opacity,color,background;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.dropdown--subtle .dropdown__button,.slate-button--subtle{display:inline-block;text-align:center;-webkit-user-select:none;-moz-user-select:none;white-space:nowrap;text-decoration:none}.slate-button:focus,.slate-button:hover{background-color:hsla(var(--button-color-hsl,var(--raisin-color-hsl)),.8)}.slate-button--subtle{--button-color:transparent;--button-color-hsl:0deg,0%,0%;background-color:#2c0022;background-color:var(--button-color,#2c0022);border:1px solid #ccc;border-radius:2px;color:inherit;-webkit-transition:.15s ease-in-out;transition:.15s ease-in-out;-webkit-transition-property:opacity,color,background;transition-property:opacity,color,background;-ms-user-select:none;user-select:none;border-color:hsla(var(--txt-color-hsl),.2)}.slate-notification--info,.slate-notification--success{-webkit-transition:opacity .1s,-webkit-transform .1s;padding:1.2em}.slate-button--subtle:focus,.slate-button--subtle:hover{opacity:.8}.slate-button--subtle:focus-visible,.slate-button--subtle:hover{background-color:hsla(var(--txt-color-hsl),.07)}.slate-graf a,.slate-link,.slate-list a{text-decoration:none;border-bottom:2px solid #ff0e50;border-color:var(--theme-color,#ff0e50)}.slate-graf a:focus,.slate-graf a:hover,.slate-link:focus,.slate-link:hover,.slate-list a:focus,.slate-list a:hover{color:#ff0e50;color:var(--theme-color,#ff0e50);border-color:transparent}.slate-link--bold{text-decoration:none;border-bottom:4px solid #ff0e50;border-color:var(--theme-color,#ff0e50);text-transform:uppercase;letter-spacing:.07em;font-weight:700;font-size:.6776625465rem;white-space:nowrap;color:#2c0022;color:var(--heading-color)}.slate-link--bold:focus,.slate-link--bold:hover{color:#ff0e50;color:var(--theme-color,#ff0e50);border-color:#ff0e50;border-color:var(--theme-color,#ff0e50)}@media(min-width:768px){.slate-link--bold{font-size:.7230659372rem}}.slate-link--bold>span{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}button.slate-link,button.slate-link--bold{border-top:none;border-left:none;border-right:none;background:0 0;padding:0;line-height:1}.slate-graf,.slate-list{line-height:1.5;margin:0 0 1.2em}.slate-required{color:#ff0e50}.slate-notification--info{border-radius:2px;transition:opacity .1s,-webkit-transform .1s;transition:opacity .1s,transform .1s;transition:opacity .1s,transform .1s,-webkit-transform .1s;background:#ffefcf;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,173,16,.2)),to(rgba(255,173,16,.2))),var(--bg-color);background:linear-gradient(rgba(255,173,16,.2),rgba(255,173,16,.2)),var(--bg-color)}.slate-notification--info:empty{opacity:0;-webkit-transform:translateY(.2em);-ms-transform:translateY(.2em);transform:translateY(.2em)}.slate-notification--success{border-radius:2px;transition:opacity .1s,-webkit-transform .1s;transition:opacity .1s,transform .1s;transition:opacity .1s,transform .1s,-webkit-transform .1s;background-color:#e4f6d8;background:-webkit-gradient(linear,left top,left bottom,from(rgba(120,211,61,.2)),to(rgba(120,211,61,.2))),var(--bg-color);background:linear-gradient(rgba(120,211,61,.2),rgba(120,211,61,.2)),var(--bg-color)}.slate-notification--success:empty{opacity:0;-webkit-transform:translateY(.2em);-ms-transform:translateY(.2em);transform:translateY(.2em)}.slate-notification--error{padding:1.2em;border-radius:2px;-webkit-transition:opacity .1s,-webkit-transform .1s;transition:opacity .1s,-webkit-transform .1s;transition:opacity .1s,transform .1s;transition:opacity .1s,transform .1s,-webkit-transform .1s;background-color:#f6d5d5;background:-webkit-gradient(linear,left top,left bottom,from(rgba(211,47,47,.2)),to(rgba(211,47,47,.2))),var(--bg-color);background:linear-gradient(rgba(211,47,47,.2),rgba(211,47,47,.2)),var(--bg-color)}.slate-notification--error:empty{opacity:0;-webkit-transform:translateY(.2em);-ms-transform:translateY(.2em);transform:translateY(.2em)}.slate-loading{display:inline-block;width:1.2em;height:1.2em;border-radius:50%;border:.2em solid #2c0022;border-color:var(--raisin-color);border-bottom-color:transparent;-webkit-animation:1s spinner-spin linear infinite;animation:1s spinner-spin linear infinite;vertical-align:text-bottom;-webkit-transition:opacity .1s;transition:opacity .1s}@-webkit-keyframes spinner-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.slate-loading:not([aria-label]),.slate-loading[aria-label=""]{opacity:0}.slate-close{position:absolute;top:0;right:0;border:none;border-radius:0;padding:.7em;font-size:1.138489rem;background:0 0;color:inherit;fill:currentColor;-webkit-transition:opacity .12s ease;transition:opacity .12s ease;opacity:.6}.slate-close:focus,.slate-close:hover{opacity:1}.lazyload-container{background:#f8f8f8;background:hsla(var(--txt-color-hsl),.03);-webkit-backdrop-filter:blur(.1em);backdrop-filter:blur(.1em);position:relative;width:100%;height:0;padding-bottom:66.6666666667%;overflow:hidden;-webkit-transition:background-color .12s;transition:background-color .12s;contain:strict}.lazyload-container--loaded{background:0 0}.lazyload-container--fluid{height:auto;padding-bottom:0;overflow:visible;contain:content}.lazyload-container--square{padding-bottom:100%}.lazyload,.lazyloaded,.lazyloading{position:absolute;width:100%;height:auto;-webkit-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.lazyload,.lazyloading{opacity:0}.signifier--podcast{fill:#ff4900;vertical-align:top;margin-right:.17em}a:focus .signifier--podcast,a:hover .signifier--podcast{fill:#ff6d33}.dropdown{position:relative}.dropdown__button{font-size:inherit}.dropdown--subtle .dropdown__button{--button-color:transparent;--button-color-hsl:0deg,0%,0%;background-color:#2c0022;background-color:var(--button-color,#2c0022);border:1px solid transparent;border-radius:2px;color:inherit;line-height:1;padding:.5em .5714285714em;-webkit-transition:.15s ease-in-out;transition:.15s ease-in-out;-webkit-transition-property:opacity,color,background;transition-property:opacity,color,background;-ms-user-select:none;user-select:none}.dropdown--subtle .dropdown__button:focus,.dropdown--subtle .dropdown__button:hover{opacity:.8}.dropdown__icon{fill:currentColor;vertical-align:middle}.dropdown__button[aria-expanded=true] .dropdown__icon{-webkit-transform:rotateZ(-180deg);-ms-transform:rotate(-180deg);transform:rotateZ(-180deg)}.dropdown__content{position:absolute;z-index:1;min-width:100%;top:100%;right:0;border-radius:2px;-webkit-box-shadow:.1em .1em .2em rgba(0,0,0,.3);box-shadow:.1em .1em .2em rgba(0,0,0,.3)}@media(prefers-color-scheme:dark){:where(.theme-auto) .dropdown__content{border:1px solid #222}}:where(.theme-dark) .dropdown__content{border:1px solid #222}.dropdown__button:not([aria-expanded=true])+.dropdown__content{display:none}.dropdown--subtle .dropdown__content{background:var(--bg-color);color:#222;color:var(--txt-color)}.dropdown__link{display:block;width:100%;padding:.5em .5714285714em;white-space:nowrap;border:none;background:0 0;text-decoration:none}.dropdown--subtle .dropdown__link:focus,.dropdown--subtle .dropdown__link:hover{background:#f0f0f0}@media(prefers-color-scheme:dark){:where(.theme-auto) .dropdown--subtle .dropdown__link:focus,:where(.theme-auto) .dropdown--subtle .dropdown__link:hover{background:#444}}:where(.theme-dark) .dropdown--subtle .dropdown__link:focus,:where(.theme-dark) .dropdown--subtle .dropdown__link:hover{background:#444}.dropdown--vibrant .dropdown__link{color:#fff;background:#56334e}@media(prefers-color-scheme:dark){:where(.theme-auto) .dropdown--vibrant .dropdown__link{background:var(--button-color)}}:where(.theme-dark) .dropdown--vibrant .dropdown__link{background:var(--button-color)}.dropdown--vibrant .dropdown__link:focus,.dropdown--vibrant .dropdown__link:hover{background:#80667a}@media(prefers-color-scheme:dark){:where(.theme-auto) .dropdown--vibrant .dropdown__link:focus,:where(.theme-auto) .dropdown--vibrant .dropdown__link:hover{background:#cc0b40}}:where(.theme-dark) .dropdown--vibrant .dropdown__link:focus,:where(.theme-dark) .dropdown--vibrant .dropdown__link:hover{background:#cc0b40}.dropdown__link:first-child{border-radius:2px 2px 0 0}.dropdown__link:last-child{border-radius:0 0 2px 2px}:root iframe[src^="https://id.tinypass.com/"],:root iframe[src^="https://buy.tinypass.com/"],:root iframe[src^="https://sandbox.tinypass.com/"]{display:block;margin:-15px!important;width:calc(100% + 30px)!important;height:2000px!important;height:var(--slate-height,100%)!important;overflow:visible!important;-webkit-transition:opacity .12s;transition:opacity .12s}html:not([data-layout-uri*="/instances/article"]):not([data-layout-uri*="/instances/package-landing"]):not([data-layout-uri*="/instances/quiz"]) .layout-one-column .main{padding-top:25px}@media(min-width:768px){html:not([data-layout-uri*="/instances/article"]):not([data-layout-uri*="/instances/package-landing"]):not([data-layout-uri*="/instances/quiz"]) .layout-one-column .main{padding-top:40px}}@media(min-width:1440px){html:not([data-layout-uri*="/instances/article"]):not([data-layout-uri*="/instances/package-landing"]):not([data-layout-uri*="/instances/quiz"]) .layout-one-column .main{padding-top:80px}}html[data-layout-uri*="/instances/package-landing"] .layout-one-column .global-footer{margin-top:0}.layout-one-column .l-wrapper{padding:0 15px}.layout-one-column .l-container{margin:0 auto}@media(min-width:1024px){.layout-one-column .l-container{max-width:1000px}}@media(min-width:1440px){.layout-one-column .l-container{max-width:1300px}}</style></head>

  <body class="layout-one-column">
    <header
  data-uri="slate.com/_components/masthead/instances/default@published"
  
  class="masthead" data-via="nav"
>
  <a href="#main" class="skip-to-main">Skip to the content</a>

  <div class="desktop-masthead">
<div class="masthead__wrapper">
        <div class="notable masthead__container" >
          <ul class="masthead-account notable__account">
    <li id="desktop-masthead-link" class="masthead-account__item masthead-account__desktop-link js-account--subscribe"></li>
    <li class="masthead-account__item js-account--sign-in" hidden
      ><a href="https://slate.com/sign-in" class="masthead__login js-redirect-return">Sign In</a>
    </li>
    <li class="masthead-account__item js-account--account" hidden
      ><div class="dropdown dropdown--subtle masthead-account__dropdown" 
      ><button class="dropdown__button">
        <span class="dropdown__label">Account</span>
        <svg
          class="dropdown__icon"
          width="10" height="6" viewBox="0 0 10 6"
          xmlns="http://www.w3.org/2000/svg"
          role="img"
        >
          <title>Activating this button will toggle the display of additional content</title>
          <path d="M0 0l5 6 5-6z"/>
        </svg>
      </button>
      <div class="dropdown__content">
        

    <a href="https://slate.com/account" class="dropdown__link js-account--account" hidden >
                Account

    </a>
  
    <a href="https://slate.com/sign-out" class="dropdown__link js-redirect-return js-account--sign-out" hidden >
                Sign out

    </a>
  
      </div>
    </div>    </li>
  </ul>
</div>
      </div>
<div class="main-nav masthead__wrapper">
        <nav class="main-nav__content masthead__container">
          <a href="https://slate.com" class="main-nav__logo">
    <svg class="logo" width="259" height="80">
      <title>Slate homepage</title>
      <use xlink:href="/media/sites/slate-com/global-sprite.svg#logo"></use>
    </svg>
  </a>
<div class="main-nav__links">
            <div class="main-nav__search">
              <form action="/search" class="search-form" data-via="search">
    <input id="search-input" name="q" placeholder="Search for" class="search-form__input" />
    <button class="search-form__submit">
      <svg class="search-form__icon">
        <title>Submit search</title>
        <use xlink:href="/media/components/masthead/sprite.svg#search"></use>
      </svg>
    </button>
    <label for="search-input" class="search-form__label">
      <svg class="search-form__icon">
        <title>Enter query</title>
        <use xlink:href="/media/components/masthead/sprite.svg#search"></use>
      </svg>
    </label>
  </form>
<div class="dropdown dropdown--subtle theme-picker" hidden
      ><button class="dropdown__button theme-picker__button">
        <span class="dropdown__label"></span>
        <svg
          class="dropdown__icon"
          width="10" height="6" viewBox="0 0 10 6"
          xmlns="http://www.w3.org/2000/svg"
          role="img"
        >
          <title>Activating this button will toggle the display of additional content</title>
          <path d="M0 0l5 6 5-6z"/>
        </svg>
      </button>
      <div class="dropdown__content">
        
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#light"></use>
      </svg>
      Light

    </button>
  
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#dark"></use>
      </svg>
      Dark

    </button>
  
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#auto"></use>
      </svg>
      Auto

    </button>
  
      </div>
    </div></div>

            <ul class="sections">
                <li class="sections__item">
                  <a href="/news-and-politics" class="sections__link" aria-current="true" >News &amp; Politics</a>
                </li>
                <li class="sections__item">
                  <a href="/culture" class="sections__link">Culture</a>
                </li>
                <li class="sections__item">
                  <a href="/technology" class="sections__link">Technology</a>
                </li>
                <li class="sections__item">
                  <a href="/business" class="sections__link">Business</a>
                </li>
                <li class="sections__item">
                  <a href="/human-interest" class="sections__link">Human Interest</a>
                </li>
                <li class="sections__item">
                  <a href="/podcasts" class="sections__link">Podcasts</a>
                </li>
            </ul>
          </div>
        </nav>
      </div>
</div>

  <div class="mobile-masthead">
    <div class="mobile-masthead__menu menu">
      <button class="menu__control menu__control--open js-toggle-menu">
        <span class="menu__control-text" aria-hidden="true">Menu</span>
        <svg width="16" height="15">
          <title>Open menu</title>
          <use xlink:href="/media/components/masthead/sprite.svg#menu"></use>
        </svg>
      </button>
      <nav class="menu__content">
        <button class="menu__control slate-close js-toggle-menu">
          <svg width="21" height="21">
            <title>Close menu</title>
            <use xlink:href="/media/sites/slate-com/global-sprite.svg#close"></use>
          </svg>
        </button>

        <div class="mobile-sections">
            <a href="/news-and-politics" class="mobile-sections__link">News &amp; Politics</a>
            <a href="/culture" class="mobile-sections__link">Culture</a>
            <a href="/technology" class="mobile-sections__link">Technology</a>
            <a href="/business" class="mobile-sections__link">Business</a>
            <a href="/human-interest" class="mobile-sections__link">Human Interest</a>
            <a href="/podcasts" class="mobile-sections__link">Podcasts</a>

          <a href="/search" class="mobile-sections__link">
            <svg width="18" height="18" class="mag-lens">
              <use xlink:href="/media/components/masthead/sprite.svg#search"></use>
            </svg>
            Search
          </a>

          <div class="mobile-sections__link"><div class="dropdown dropdown--subtle theme-picker" hidden
      ><button class="dropdown__button theme-picker__button">
        <span class="dropdown__label"></span>
        <svg
          class="dropdown__icon"
          width="10" height="6" viewBox="0 0 10 6"
          xmlns="http://www.w3.org/2000/svg"
          role="img"
        >
          <title>Activating this button will toggle the display of additional content</title>
          <path d="M0 0l5 6 5-6z"/>
        </svg>
      </button>
      <div class="dropdown__content">
        
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#light"></use>
      </svg>
      Light

    </button>
  
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#dark"></use>
      </svg>
      Dark

    </button>
  
    <button  class="dropdown__link theme-picker__option"  >
            <svg width="16" height="16">
        <use xlink:href="/media/sites/slate-com/global-sprite.svg#auto"></use>
      </svg>
      Auto

    </button>
  
      </div>
    </div></div>

          <div class="social social--mobile">
            Follow us
            <a href="https://www.instagram.com/slate/" class="social__badge">
              <svg width="24" height="24">
                <title>Slate on Instagram</title>
                <use xlink:href="/media/sites/slate-com/global-sprite.svg#instagram"></use>
              </svg>
            </a>
            <a href="https://twitter.com/slate" class="social__badge">
              <svg width="24" height="19">
                <title>Slate on Twitter</title>
                <use xlink:href="/media/sites/slate-com/global-sprite.svg#twitter"></use>
              </svg>
            </a>
            <a href="https://www.facebook.com/Slate/" class="social__badge">
              <svg width="12" height="24">
                <title>Slate on Facebook</title>
                <use xlink:href="/media/sites/slate-com/global-sprite.svg#facebook"></use>
              </svg>
            </a>
          </div>

          <div class="mobile-sections__link js-account--subscribe" hidden>
            <a href="https://slate.com/plus?utm_medium=link&utm_campaign=plus&utm_content=nav_bar&utm_source=nav"
              class="mobile-sections__link--subscribe"><b>Subscribe</b></a>
          </div>
          <a href="https://slate.com/sign-in"
            class="js-account--sign-in mobile-sections__link js-redirect-return" hidden>Sign in</a>
          <a href="https://slate.com/account" class="js-account--account mobile-sections__link"
            hidden>Account</a>
          <a href="https://slate.com/sign-out"
            class="js-account--sign-out mobile-sections__link js-redirect-return" hidden>Sign out</a>
        </div>
      </nav>
    </div>

    <div class="mobile-masthead__logo">
      <a href="https://slate.com">
    <svg class="logo" width="124" height="39">
      <title>Slate homepage</title>
      <use xlink:href="/media/sites/slate-com/global-sprite.svg#logo"></use>
    </svg>
  </a>
</div>

    <div class='mobile-masthead__account'>
      <a class="mobile-masthead__link js-account--mobile-account" href="https://slate.com/account" hidden
        >Account</a>
      <div id="mobile-masthead-link" class="mobile-masthead__mobile-link js-account--mobile-subscribe" hidden></div>
    </div>
  </div>

<div class="masthead__wrapper">
      <div class="strapline masthead__container"  >
          <svg width="27" height="30" class="strapline__asterisk">
            <title>*</title>
            <use xlink:href="/media/components/masthead/sprite.svg#asterisk"></use>
          </svg>
            <a class="strapline__text" href="https://slate.com/human-interest/2022/12/ranking-gross-candy-cane-flavors.html">
              Great News for Your Nostalgia Lobe
            </a>

        <div class="social strapline__social">
          Follow Us
          <a href="https://www.instagram.com/slate/" class="social__badge">
            <svg width="18" height="18">
              <title>Slate on Instagram</title>
              <use xlink:href="/media/sites/slate-com/global-sprite.svg#instagram"></use>
            </svg>
          </a>
          <a href="https://twitter.com/slate" class="social__badge">
            <svg width="18" height="15">
              <title>Slate on Twitter</title>
              <use xlink:href="/media/sites/slate-com/global-sprite.svg#twitter"></use>
            </svg>
          </a>
          <a href="https://www.facebook.com/Slate/" class="social__badge">
            <svg width="9" height="18">
              <title>Slate on Facebook</title>
              <use xlink:href="/media/sites/slate-com/global-sprite.svg#facebook"></use>
            </svg>
          </a>
        </div>

      </div>
    </div>

</header>


      <section class="top-ad">
          
<div class="slate-ad ad--desktopOnly ad--leaderboard">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/leaderboard@published"
  data-placeholder="settings"
      data-type="leaderboard"
      data-sizes="970x250,970x90,728x90,1x3"
      data-prebid-sizes = "970x250,970x90,728x90"
      data-zone-id = "768478"
      data-placement-id = "12399445"
      data-criteo-id=""
      data-site-id="271610"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--tabletPortraitOnly ad--leaderboard">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/leaderboardTablet@published"
  data-placeholder="settings"
      data-type="leaderboard-tablet"
      data-sizes="728x90,1x3"
      data-prebid-sizes = "728x90"
      data-zone-id = "768480"
      data-placement-id = "12399447"
      data-criteo-id=""
      data-site-id="271365"
      data-ll-threshold="400"
  >
  </div>
</div>

      </section>

    <main role="main" id="main">
      <div class="l-wrapper">
        <div class="main l-container"
          >
              <article
  data-uri="slate.com/_components/article/instances/ckihviog6000m4lkr71dxqdzf@published"
  data-has-roadblock="false"
  data-rubric="the-world"
  class="article article--article
article--right-rail
"
  itemscope
  itemtype="http://schema.org/Article"

>
  <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Slate" />
    <div itemprop="logo" itemscope itemtype="https://www.schema.org/ImageObject">
      <link itemprop="url" href="https://slate.com/media/sites/slate-com/icon.400x400.png">
      <meta itemprop="width" content="400">
      <meta itemprop="height" content="400">
    </div>
  </div>

  <div class="article__fullbleed-header"></div>

<header class="article__header">
<div itemprop="image" itemscope itemtype="https://www.schema.org/ImageObject">
          <meta itemprop="url" content="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width&#x3D;1200&amp;rect&#x3D;1560x1040&amp;offset&#x3D;0x0">
          <meta itemprop="width" content="1200">
          <meta itemprop="height" content="800">
        </div>
  <a
  class="article__rubric" href="/news-and-politics/the-world" >      The World</a>

  <h1 itemprop="headline" class="article__hed" >India Just Had the Biggest Protest in World History</h1>

<h2 itemprop="alternativeHeadline"
    class="article__dek" 
  >Will it make a difference?</h2>
<div class="article__meta">
        <div class="article__byline" >
By
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
<span itemprop="name"><a href="/author/nitish-pahwa">Nitish Pahwa</a></span></span>
</div>
  <time
  itemprop="datePublished"
  content="2020-12-09T21:13:39+00:00"
  class="article__dateline"
>
  <span>Dec 09, 2020</span><span>4:13 PM</span>
</time>

</div>

    </header>
<div class="article__top-image"  >
      <figure
  data-uri="slate.com/_components/image/instances/ckihviog3000g4lkrsszh5ais@published"
  class="image image--top"
  data-editable="imageInfo"><div class="lazyload-container" style="padding-bottom: 66.66666666666666%;">
        <img
          alt="Protesters are pushed back by police."
class="lazyloaded"
            src="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0"
            srcset="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;320 320w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;480 480w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;600 600w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;840 840w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;960 960w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;1280 1280w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;1440 1440w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;1600 1600w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;1920 1920w,
https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0&amp;width&#x3D;2200 2200w"
            sizes="(min-width: 1440px)970px,
(min-width: 1024px)709px,
(min-width: 768px)620px,
calc(100vw - 30px)"
width="1560"
          height="1040"
        />
        <noscript>
          <img
            class="lazyloaded"
            loading="lazy"
            src="https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?crop&#x3D;1560%2C1040%2Cx0%2Cy0"
            alt="Protesters are pushed back by police."
            width="1560"
            height="1040"
          />
        </noscript>
      </div>
<figcaption class="image__meta">
<span class="image__caption">Protesters scuffle with police during a rally in support of the nationwide general strike called by farmers against the recent agricultural reforms in Allahabad, India, on Tuesday.</span>
<span class="image__credit">Sanjay Kanojia/AFP via Getty Images</span>
</figcaption>
</figure>

  </div>
  <div class="article__share-sidebar share-sidebar">
      <div
  class="social-share"
  aria-label="social media links"
  data-uri="slate.com/_components/social-share/instances/ckihviog3000f4lkrrn5im6ah@published"
>
  <a
    href="https://twitter.com/share?text&#x3D;More+than+half+of+Indian+workers+are+farmers.+And+they%E2%80%99ve+had+enough.&amp;via&#x3D;slate&amp;url&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dtwitter_share" class="social-share__link social-share__link--twitter js-share-link"
    data-share="twitter"
    data-parsely-event="_twitter-tweet"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#twitter-circle"></use>
    </svg>Tweet
  </a>

  <a
    href="https://www.facebook.com/sharer.php?u&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dfacebook_share" class="social-share__link social-share__link--facebook js-share-link"
    data-share="facebook"
    data-parsely-event="_facebook-share"
    aria-label="Share on Facebook"
    role="link"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#facebook-circle"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

  <a
     data-share-url="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html?utm_medium&#x3D;social&amp;utm_campaign&#x3D;traffic&amp;utm_source&#x3D;article&amp;utm_content&#x3D;web_share" class="social-share__link social-share__link--share js-web-share-link"
    data-share="web-share"
    data-parsely-event="_web-share"
    aria-label="Share"
    role="link"
    hidden
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#share"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

<a
      href="https://slate.com/comments/news-and-politics/2020/12/india-farmer-protests-modi.html"
      class="social-share__link social-share__link--comments"
    >
      <svg
        width="25"
        height="25"
        class="social-share__icon"
        role="presentation"
      >
        <use href="/media/sites/slate-com/global-sprite.svg#comments"></use>
      </svg>Comment
    </a>
</div>

  </div>

  <section class="article__body">
      <div class="article__podcast-subscribe"></div>


      <div class="article__left-rail">
        <div class="article__share-sidebar-xl share-sidebar">
            <div
  class="social-share"
  aria-label="social media links"
  data-uri="slate.com/_components/social-share/instances/ckihviog3000f4lkrrn5im6ah@published"
>
  <a
    href="https://twitter.com/share?text&#x3D;More+than+half+of+Indian+workers+are+farmers.+And+they%E2%80%99ve+had+enough.&amp;via&#x3D;slate&amp;url&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dtwitter_share" class="social-share__link social-share__link--twitter js-share-link"
    data-share="twitter"
    data-parsely-event="_twitter-tweet"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#twitter-circle"></use>
    </svg>Tweet
  </a>

  <a
    href="https://www.facebook.com/sharer.php?u&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dfacebook_share" class="social-share__link social-share__link--facebook js-share-link"
    data-share="facebook"
    data-parsely-event="_facebook-share"
    aria-label="Share on Facebook"
    role="link"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#facebook-circle"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

  <a
     data-share-url="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html?utm_medium&#x3D;social&amp;utm_campaign&#x3D;traffic&amp;utm_source&#x3D;article&amp;utm_content&#x3D;web_share" class="social-share__link social-share__link--share js-web-share-link"
    data-share="web-share"
    data-parsely-event="_web-share"
    aria-label="Share"
    role="link"
    hidden
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#share"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

<a
      href="https://slate.com/comments/news-and-politics/2020/12/india-farmer-protests-modi.html"
      class="social-share__link social-share__link--comments"
    >
      <svg
        width="25"
        height="25"
        class="social-share__icon"
        role="presentation"
      >
        <use href="/media/sites/slate-com/global-sprite.svg#comments"></use>
      </svg>Comment
    </a>
</div>

        </div>
      </div>

    <div class="article__content"  itemprop="mainEntityOfPage">
          <p
  class="slate-paragraph slate-graf"
  data-word-count="91"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihviog5000h4lkrkohchf6g@published"
  >In late November, what may have been the single largest protest in human history took place in India, as tens of thousands of farmers marched to the capital to protest proposed new legislation and upward of 250 million people around the subcontinent participated in a 24-hour general strike in solidarity. This massive people’s movement has gained attention worldwide and, moreover, forced the government to come meet the protesters where they are instead of just cracking down and brutalizing them, a first in the six years of Prime Minister Narendra Modi’s rule.</p>

  
<div class="slate-ad ad--mobileOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-mobile"
      data-sizes="300x250,1x3,300x251,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="245"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkry900173g69086qqj09@published"
  >To comprehend this moment, you have to understand the long plight of India’s farmers. To a much greater degree than other major economies, India retains its mass agrarian traditions alongside its developed industrial and tech sectors—agriculture is still the <a href="http://www.fao.org/india/fao-in-india/india-at-a-glance/en/">largest source of livelihood</a> for most Indians, employing <a href="https://www.financialexpress.com/budget/india-economic-survey-2018-for-farmers-agriculture-gdp-msp/1034266/">more than half the subcontinent’s workforce</a>, mostly in small and local farms instead of agribusiness behemoths. Yet the farmers themselves, despite feeding so much of the nation and providing a significant bedrock for India’s economy, have always had a brutal time of it. Colonial-induced famines (temporarily solved by the reforms of the 1960s “<a href="https://journalofethnicfoods.biomedcentral.com/articles/10.1186/s42779-019-0011-9">Green Revolution</a>,” which later would <a href="https://www.npr.org/2009/04/14/102944731/green-revolution-trapping-indias-farmers-in-debt">cause its own issues</a>), bureaucratic and <a href="https://www.downtoearth.org.in/blog/agriculture/indian-agriculture-is-under-an-invisible-emergency-68524">oppressive</a> government policy, exploitation by <a href="https://www.indiaspend.com/73-2-of-rural-women-workers-are-farmers-but-own-12-8-land-holdings/">feudal-minded</a> landholders, and, of course, <a href="https://slate.com/news-and-politics/2019/02/india-dalit-tamil-nadu-caste-climate-change-farming.html">climate change</a> have continually left India’s land workers among the worst off the world over. Even before the <a href="https://www.nytimes.com/2020/09/08/world/asia/india-coronavirus-farmer-suicides-lockdown.html">acceleration in mass despair</a> augured by the pandemic and <a href="https://www.nytimes.com/2020/06/29/world/asia/india-new-delhi-locusts.htm">ensuing locust invasion</a>, farmers had been left completely strapped by crippling debts, losses on marketed goods, and devastation from extreme weather; long-troubling suicide rates reached <a href="https://www.nytimes.com/2020/12/01/magazine/india-documentary-anand-patwardhan.html">staggering new heights</a>. Those who say India has “<a href="https://www.livemint.com/mint-lounge/features/does-india-have-a-problem-of-too-many-farmers-11596426225067.html">too many farmers</a>,” as a writer at Indian business publication Mint and a fellow at the <a href="https://www.npr.org/2020/12/04/943082236/indias-farmers-man-barricades-in-delhi-protesting-new-agriculture-laws">conservative American Enterprise Institute</a> have claimed, are completely missing the point: The country has bled so many other jobs involving so-called unskilled labor, especially lately, that many of the country’s poorest, illiterate, and otherwise disenfranchised have no other labor recourse, especially with no workable safety net on hand.</p>

  
<div class="slate-ad ad--mobileOnly">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mobile-outstream-video"
      data-sizes="300x250"
      data-prebid-sizes = ""
      data-zone-id = ""
      data-placement-id = ""
      data-criteo-id=""
      data-site-id=""
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--mobileOnly">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mobile-outstream-video-backfill"
      data-sizes="300x250,300x251,1x3,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--desktopOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot"
      data-sizes="970x250,970x90,728x90,455x256,300x250,1x3,300x251,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--inArticleBanner ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-xl"
      data-sizes="970x250,970x90,728x90,455x256,300x250,300x251,1x3,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--tabletPortraitOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-tablet"
      data-sizes="728x90,300x250,455x256,1x3,300x251,620x366"
      data-prebid-sizes = "728x90,300x250,620x366"
      data-zone-id = "768488"
      data-placement-id = "12399457"
      data-criteo-id="1157133"
      data-site-id="271364"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="22"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkrye00193g69qzx6zuii@published"
  >So, after the government took action that seemed to depress farmers’ welfare even further, land workers weren’t going to take it anymore.</p>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="203"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkrye001a3g690iqd8tnu@published"
  >In September, Modi rammed three pieces of legislation through Parliament that supposedly serve to remove taxes and other government-imposed financial burdens on farmers to help them directly sell to corporations and encourage private investment in agriculture, following Modi and his ruling Bharatiya Janata Party’s deregulatory agenda. It sounds fine when you describe it so pithily: get rid of the red tape and give farmers free access to bigger markets. But it’s not so simple. The supposedly onerous business barriers the laws remove help provide farmers a guaranteed, timely sale and distribution market for their goods, stop businesses from hoarding produce, keep prices at a fair level, and prevent small farmers from being taken advantage of by agribusiness corporations. Modi’s new laws nominally give farmers a better deal by allowing them to directly sell more produce to more places. What they really do is take away the remaining meager support granted to farmers already deprived of much of the support they need and allow them to be exploited by big agribusiness firms and corporations. With these protections—including guaranteed government-based marketplaces and frameworks to establish minimum prices for goods—cast off, there is little left to stop Big Ag companies within India from swallowing market share.<strong></strong></p>

  
<div class="slate-ad ad--mobileOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-mobile"
      data-sizes="300x250,1x3,300x251,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  <div
  data-uri="slate.com/_components/pull-quote/instances/ckihvnj6d001w3g69kj27kj7l@published"
  class="pull-quote pull-quote--right"
  itemscope aria-hidden="true"
>
  <span class="pull-quote__text" data-editable="quote">The awe-inspiring demonstration has becoming the defining story of India’s current<span class="widont">&nbsp;</span>era</span>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="141"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkryf001b3g69hp4vvlsm@published"
  >The Indian government’s shift toward deregulation and privatization since the 1990s has hit farmers hardest, leaving them without the top-down protections that allowed them to not only manage and preserve their farms but also make sure their goods could actually be sold in a manner that provided subsistence and profit. As a result, more laws tailored to free markets were never going to exactly make land workers happy. “We will lose our lands, we will lose our income, if you let big business decide prices and buy crops. We don’t trust big business. Free markets work in countries with less corruption and more regulation. It can’t work for us here,” one farmer <a href="https://www.bbc.com/news/world-asia-india-55157574">told the BBC last week</a>. And with the country <a href="https://qz.com/india/1939266/now-in-recession-india-is-faring-worse-than-us-germany-france">now entering a steep recession</a> for the first time in decades and providing no welfare in turn, enough was enough.</p>

  
<div class="slate-ad ad--mobileOnly">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mobile-outstream-video"
      data-sizes="300x250"
      data-prebid-sizes = ""
      data-zone-id = ""
      data-placement-id = ""
      data-criteo-id=""
      data-site-id=""
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--mobileOnly">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mobile-outstream-video-backfill"
      data-sizes="300x250,300x251,1x3,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video-xl"
      data-sizes="300x250"
      data-prebid-sizes = ""
      data-zone-id = ""
      data-placement-id = ""
      data-criteo-id=""
      data-site-id=""
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video-xl-backfill"
      data-sizes="970x250,970x90,728x90,455x256,300x250,300x251,1x3,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="111"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkry100153g697s7t83g7@published"
  >Protests had started forming as far back as August, when awareness of the legislation was becoming more widespread but the bills themselves had not been passed yet. They ramped up soon after passage, with farm unions and other trade unions banding together—primarily in the agriculture-heavy states of Punjab and Haryana but also steadily growing elsewhere—to call for <em>Bharat bandh</em> (a Hindi term calling for a general strike that quite literally means “shut down India”). An actual shutdown did hit the railway, halting trains to and from Punjab through October before the campaign relented following concerns about needed supplies. The farmers and unions then decided to take it straight to the capital.</p>

  
<div class="slate-ad ad--tabletDesktop">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video"
      data-sizes="300x250"
      data-prebid-sizes = ""
      data-zone-id = ""
      data-placement-id = ""
      data-criteo-id=""
      data-site-id=""
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--tabletDesktop">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video-backfill"
      data-sizes="970x250,970x90,728x90,455x256,300x250,300x251,1x3,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="86"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkry600163g69bxtbvmz9@published"
  >On Nov. 25, when the marchers reached Delhi, they were met right at the city limits by police, who used tear gas and water cannons against the protesters, and obstructed and damaged the roads outside the city to prevent them from entering. <a href="https://www.indiatimes.com/news/india/swollen-face-injured-eye-farmers-who-feed-the-country-do-not-deserve-such-brutality-528580.html">Photos and videos soon went viral</a> on social media of the brutal policing tactics and crackdowns, eliciting worldwide sympathy for the rallygoers. It didn’t pass worldwide notice that some of these farmers kept on, even feeding some of the very officers who beat them.</p>

  
<div class="slate-ad ad--mobileOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-mobile"
      data-sizes="300x250,1x3,300x251,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="112"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkryc00183g69q427czkk@published"
  >Modi, in his attempt to quietly ease things for agribusiness corporations in the middle of his oppressive pandemic regime, inadvertently sparked the single largest proletariat uprising in world history. And these farmers are pressuring the Modi administration in a way past protesters simply could not. Last week, government officials <a href="https://www.jacobinmag.com/2020/12/general-strike-india-modi-bjp-cpm-bihar">started meeting with farm union leaders</a>, and they also granted the marchers a designated area of Delhi within which to carry on the protest (although this mandated location is far from the Parliament House). However, many protesters wished to remain at the city border, having brought ample equipment to set up <a href="https://www.bbc.com/news/world-asia-india-55213644">camps along the boundaries</a> wherein the demonstrators can prepare food and organize.</p>

  
<div class="slate-ad ad--inArticleBanner ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-xl"
      data-sizes="970x250,970x90,728x90,455x256,300x250,300x251,1x3,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="147"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkryz001c3g69nv0nbupq@published"
  >The farmers are demanding nothing less than a <a href="https://www.bbc.com/news/world-asia-india-55157574">full retraction of the laws</a> and say they are willing to remain at the capital’s outskirts until this is done. They also are asking Parliament for other special demands and regulations to keep small farms competitive in the marketplace, <a href="https://www.indiatoday.in/india-today-insight/story/what-agitating-farmers-want-and-why-the-centre-may-not-oblige-1745475-2020-11-30">according to India Today</a>. The newsmagazine also mentions that “the central government has agreed to work on most of the demands and make them part of the rules—which will need Parliament’s approval—except that of making purchases on [minimum support price] rates mandatory.” Without this last measure, talks with the government have continually stalled and restarted, <a href="https://www.reuters.com/article/india-farms-protests/india-fails-to-end-deadlock-with-farmers-talks-to-resume-next-week-idUSKBN28F0KQ">reaching a deadlock</a>. And on Monday, Union Agriculture Minister Narendra Singh Tomar made a show of meeting with a <a href="https://indianexpress.com/article/india/bjp-supporters-among-20-farmers-who-backed-new-laws-in-meet-with-narendra-tomar-7097348/">small group of farmers who were mostly BJP supporters</a> in favor of the new law, ignoring the masses outside who were very staunchly opposed to it.</p>

  
<div class="slate-ad ad--mobileOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-mobile"
      data-sizes="300x250,1x3,300x251,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="65"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvkrzf001d3g69dpjipolp@published"
  >The BJP is now starting to take more drastic, desperate crackdown measures. The New York Times reported on Tuesday that leaders of opposition parties in Punjab, Haryana, and Uttar Pradesh who have supported the farmers’ protest, including Chief Minister of Delhi Arvind Kejriwal, had been <a href="https://www.nytimes.com/2020/12/08/world/asia/india-farmer-protests-police-detain.html">barricaded in their homes by police</a>, reportedly under the government’s direction. (Police soon relented in Kejriwal’s case after further protests.)</p>

  <aside
  data-uri="slate.com/_components/in-article-recirc/instances/ckihviog5000i4lkr92ovgdfh@published"
  class="in-article-recirc"
  
  data-via="article-inline_recirc-section-news-and-politics"
>
    <h1 class="in-article-recirc__header">
        Popular in
        <a href="/news-and-politics" class="in-article-recirc__topic">
          News &amp; Politics
        </a>
    </h1>
    <ol class="in-article-recirc__list">
        <li class="in-article-recirc__item">
          <a href="https://slate.com/news-and-politics/2022/12/hunter-biden-twitter-nypost-ukraine-china-conspiracy-theories.html" class="in-article-recirc__link">
            
            ’Tis the Season to Debunk Your Family’s Hunter Biden Conspiracy Theories
          </a>
        </li>
        <li class="in-article-recirc__item">
          <a href="https://slate.com/news-and-politics/2022/12/united-kingdom-queen-elizabeth-strikes-energy-prices-disaster.html" class="in-article-recirc__link">
            
            Never Mind the Dead Queen and Disappearing Prime Ministers. Now the U.K. Really Is Falling Apart.
          </a>
        </li>
        <li class="in-article-recirc__item">
          <a href="https://slate.com/news-and-politics/2022/12/january-6-report-summary-clarence-thomas-ginni-ethics.html" class="in-article-recirc__link">
            
            Why the Jan. 6 Committee Let Ginni and Clarence Thomas Off the Hook
          </a>
        </li>
        <li class="in-article-recirc__item">
          <a href="https://slate.com/news-and-politics/2022/12/elliott-winter-storm-cold-freezing-texas-flights.html" class="in-article-recirc__link">
            
            What to Expect From Winter Storm Elliott
          </a>
        </li>
    </ol>
</aside>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="92"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvks0h001e3g69jdoztlms@published"
  >The awe-inspiring demonstration has become the defining story of India’s current era. News sites based in the country, like the Quint and the Economic Times, have entire sections dedicated for live updates on the protests. WWE wrestlers of Indian origin have <a href="https://www.news18.com/news/sports/farmers-protest-wwe-wrestlers-jinder-mahal-sunil-singh-and-samir-singh-extend-support-3153395.html">expressed support for the farmers on Instagram</a>. Even Canadian Prime Minister Justin Trudeau weighed in, in a statement of support for the protesters and concern about the force being used that met with <a href="https://www.aljazeera.com/news/2020/12/2/canada-pm-voices-solidarity-with-farmers-india-says-unwarranted">blowback</a> from the Indian government, which personally told Canadian diplomats in India <a href="https://economictimes.indiatimes.com/news/politics-and-nation/india-summons-canadian-high-commissioner-issues-demarche-over-remarks-by-pm-trudeau-other-leaders-on-farmers-protest/articleshow/79564371.cms">not to have their country interfere</a>.</p>

  
<div class="slate-ad ad--mobileOnly ad--inArticleBanner">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="mid-article-spot-mobile"
      data-sizes="300x250,1x3,300x251,325x508,325x204"
      data-prebid-sizes = "300x250,325x508,325x204"
      data-zone-id = "768494"
      data-placement-id = "12399462"
      data-criteo-id="1157131"
      data-site-id="271366"
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video-xl"
      data-sizes="300x250"
      data-prebid-sizes = ""
      data-zone-id = ""
      data-placement-id = ""
      data-criteo-id=""
      data-site-id=""
      data-ll-threshold="400"
  >
  </div>
</div>

  
<div class="slate-ad ad--desktopXl">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/ckihviog3000d4lkrm9kqeg7p@published"
  data-placeholder="settings"
      data-type="outstream-video-xl-backfill"
      data-sizes="970x250,970x90,728x90,455x256,300x250,300x251,1x3,620x366"
      data-prebid-sizes = "970x250,970x90,728x90,300x250,620x366"
      data-zone-id = "768486"
      data-placement-id = "12399452"
      data-criteo-id="1157134"
      data-site-id="271363"
      data-ll-threshold="400"
  >
  </div>
</div>

  <p
  class="slate-paragraph slate-graf"
  data-word-count="130"
  data-uri="slate.com/_components/slate-paragraph/instances/ckihvks1z001f3g69sficdnro@published"
  >Until very recently, the worldwide rally against U.S. President George W. Bush’s decision to invade Iraq in 2003 had been known as the <a href="https://world.time.com/2013/02/15/viewpoint-why-was-the-biggest-protest-in-world-history-ignored/">largest in world history</a>, amassing 10 million to 15 million people in more than 600 cities across the globe. This summer’s anti–police brutality protests within the U.S.—which also spread internationally—featured the participation of <a href="https://www.nytimes.com/interactive/2020/07/03/us/george-floyd-protests-crowd-size.html">up to 26 million people</a> in the country alone. So even if the 250 million figure is difficult to pin down with certainty, the Indian farmers’ protests still clearly dwarf these numbers by several degrees.  That is, of course, no guarantee of success. After all, this is the same government that crushed dissidents in Kashmir and demonstrators against the Citizenship Amendment Act with relative ease. But that doesn’t mean the farmers shouldn’t keep <span class="slate-paragraph--tombstone">fighting.</span></p>

  <aside
  class="slate-kicker-promo"
  id="kicker" data-uri="slate.com/_components/slate-kicker-promo/instances/ckihviog5000j4lkr4pferj3v@published"></aside>

  <div
  class="social-share"
  aria-label="social media links"
  data-uri="slate.com/_components/social-share/instances/ckihviog5000k4lkr8ikhb61m@published"
>
  <a
    href="https://twitter.com/share?text&#x3D;More+than+half+of+Indian+workers+are+farmers.+And+they%E2%80%99ve+had+enough.&amp;via&#x3D;slate&amp;url&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dtwitter_share" class="social-share__link social-share__link--twitter js-share-link"
    data-share="twitter"
    data-parsely-event="_twitter-tweet"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#twitter-circle"></use>
    </svg>Tweet
  </a>

  <a
    href="https://www.facebook.com/sharer.php?u&#x3D;https%3A%2F%2Fslate.com%2Fnews-and-politics%2F2020%2F12%2Findia-farmer-protests-modi.html%3Futm_medium%3Dsocial%26utm_campaign%3Dtraffic%26utm_source%3Darticle%26utm_content%3Dfacebook_share" class="social-share__link social-share__link--facebook js-share-link"
    data-share="facebook"
    data-parsely-event="_facebook-share"
    aria-label="Share on Facebook"
    role="link"
    target="_blank"
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#facebook-circle"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

  <a
     data-share-url="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html?utm_medium&#x3D;social&amp;utm_campaign&#x3D;traffic&amp;utm_source&#x3D;article&amp;utm_content&#x3D;web_share" class="social-share__link social-share__link--share js-web-share-link"
    data-share="web-share"
    data-parsely-event="_web-share"
    aria-label="Share"
    role="link"
    hidden
  >
    <svg width="25" height="25" class="social-share__icon" role="presentation">
      <use href="/media/sites/slate-com/global-sprite.svg#share"></use>
    </svg><span aria-hidden="true">Share</span>
  </a>

<a
      href="https://slate.com/comments/news-and-politics/2020/12/india-farmer-protests-modi.html"
      class="social-share__link social-share__link--comments"
    >
      <svg
        width="25"
        height="25"
        class="social-share__icon"
        role="presentation"
      >
        <use href="/media/sites/slate-com/global-sprite.svg#comments"></use>
      </svg>Comment
    </a>
</div>

</div>

      <tag-list>
        <ul class="article__tags" >
<li class="article__tag">
              <a href="/tag/india">
                India
              </a>
            </li ><li class="article__tag">
              <a href="/tag/protests">
                Protests
              </a>
            </li ><li class="article__tag">
              <a href="/tag/farming">
                Farming
              </a>
            </li >        </ul>
      </tag-list>

  </section>

      <div class="article__right-rail">   
<div class="slate-ad ad--desktopOnly ad--rightRail">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/articleRrFlex"
  data-placeholder="settings"
      data-type="rr-article-flex"
      data-sizes="300x250,300x600,160x600"
      data-prebid-sizes = "300x250,300x600,160x600"
      data-zone-id = "768502"
      data-placement-id = "12399463"
      data-criteo-id=""
      data-site-id="271367"
      data-ll-threshold="400"
  >
  </div>
</div>

 </div>

</article>

  <hr class="article__hr">

  <div class="slate-parsely" data-article-url="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html" data-uri="slate.com/_components/slate-parsely/instances/ckihviofd00094lkrdw7gl8rt@published">
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"NewsArticle","articleSection":"The World","dateCreated":"2020-12-09T21:13:39+00:00","headline":"What’s Driving the Biggest Protest in World History?","url":"https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html","keywords":["india","protests","farming","redux","Section:news-and-politics","AdNode:news_and_politics/the_world"],"datePublished":"2020-12-09T21:13:39+00:00","publisher":{"@type":"Organization","name":"Slate","logo":{"@type":"ImageObject","url":"https://slate.com/media/sites/slate-com/icon.400x400.png","width":400,"height":400}},"thumbnailUrl":"https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width=780&height=520&rect=1560x1040&offset=0x0","image":{"@type":"ImageObject","url":"https://compote.slate.com/images/68ac0e99-761d-42b8-b91c-f614e20b0eeb.jpeg?width=1200&rect=1560x1040&offset=0x0","width":1200,"height":800},"author":{"@type":"Person","name":"Nitish Pahwa"},"about":"Millions of Indians have had enough. "}
  </script>
</div>

  <div
  class="slate-adnode"
  data-adnode="news_and_politics/the_world"
  data-uri="slate.com/_components/slate-adnode/instances/ckihvioff000a4lkrtddp0c16@published"
  
></div>

  <script data-uri="slate.com/_components/slate-analytics-js/instances/ckihviofi000c4lkrtbikwnfx@published" class="slate-analytics-js js-analytics-js-data" type="application+json" data-pagetype="article">
  {"headline":"What’s Driving the Biggest Protest in World History?","url":"https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html","tags":["india","protests","farming"],"authors":["Nitish Pahwa"],"section":"News & Politics","rubric":"The World","pub_date":"2020-12-09T21:13:39+00:00","page_id":"slate.com/_components/article/instances/ckihviog6000m4lkr71dxqdzf","page_type":"article","commercialNode":"news_and_politics/the_world"}
</script>

                <div class="piano-mount" data-uri="slate.com/_components/piano-mount/instances/meterwall@published" >
  <div class='piano-mount__container' id="meterwall">
  </div>
</div>

        </div>
        <aside class="l-container" >
            <!-- data-uri="slate.com/_components/taboola-recirc/instances/article@published" -->

  <aside
  class="outbrain-widget"
  data-uri="slate.com/_components/outbrain-widget/instances/article@published"
  
><div
      class="OUTBRAIN"
      data-src="https://slate.com/news-and-politics/2020/12/india-farmer-protests-modi.html"
      data-widget-id="AR_1"
    ></div><script>
        if (window.matchMedia("(max-width: 727px)").matches)
          document
            .querySelector('.OUTBRAIN[data-widget-id="AR_1"]')
            .dataset.widgetId = "MB_1"
      </script><script async src="https://widgets.outbrain.com/outbrain.js"></script></aside>

        </aside>
      </div>
    </main>

    <section class="bottom-ad">
        
<div class="slate-ad ad--sticky-mobile ad--mobileOnly">
  <div class="slate-ad__label">Advertisement</div>
  <div class="slate-ad__creative" data-uri="slate.com/_components/slate-ad/instances/stickyBottom@published"
  data-placeholder="settings"
      data-type="mob-adhesion"
      data-sizes="320x50"
      data-prebid-sizes = "320x50"
      data-zone-id = "1121368"
      data-placement-id = "14423119"
      data-criteo-id=""
      data-site-id="321366"
      data-ll-threshold="400"
  >
  </div>
</div>

    </section>

      <footer class="global-footer" role="contentinfo" data-uri="slate.com/_components/global-footer/instances/default@published" >
	<div class="global-footer__main">
		<div class="global-footer__main-content">
            <div class="global-footer__about">
              <h4 class="global-footer__heading">About</h4>
              <ul class="global-footer__links">
                  <li><a href="/about">About Us</a></li>
                  <li><a href="https://jobs.lever.co/slate">Work With Us</a></li>
                  <li><a href="/contact">Contact</a></li>
                  <li><a href="/pitch">Pitch Guidelines</a></li>
                  <li><a href="/tips">Send Us Tips</a></li>
                  <li><a href="/news-and-politics/corrections">Corrections</a></li>
                  <li><a href="/commenting">Commenting</a></li>
                  <li><a href="http://www.slatereprints.com/">Reprints</a></li>
              </ul>
            </div>
            <div class="global-footer__sub">
              <h4 class="global-footer__heading">Subscriptions</h4>
              <ul class="global-footer__links">
                  <li><a href="https://slate.com/plus">Subscribe</a></li>
                  <li><a href="https://slate.com/sign-in">Sign In</a></li>
                  <li><a href="https://slate.com/account">Account</a></li>
                  <li><a href="/plus/faq">Subscription FAQs</a></li>
                  <li><a href="/podcastfaqs">Podcast FAQs</a></li>
                  <li><a href="/signup">Newsletters</a></li>
                  <li><a href="https://slatehelp.freshdesk.com/support/solutions">Customer Support</a></li>
              </ul>
            </div>
            <div class="global-footer__ad">
              <h4 class="global-footer__heading">Advertising</h4>
              <ul class="global-footer__links">
                  <li><a href="http://mediakit.slate.com/">Site Advertising</a></li>
                  <li><a href="http://mediakit.slate.com/">Podcast Advertising</a></li>
                  <li><a href="http://optout.aboutads.info/">AdChoices</a></li>

                  <li><a onclick="(function(event){window.OneTrust && window.OneTrust.ToggleInfoDisplay(); event.preventDefault(); }(event))"
                        href="/do-not-sell">Cookie Preferences</a></li>
              </ul>
            </div>
		    <div class="global-footer__brand-section">
				<svg width="243" height="30" class="global-footer__logo">
					<title>The Slate Group logo</title>
					<use xlink:href="/media/components/global-footer/slate-group.svg#slategroup"></use>
				</svg>
				<p class="global-footer__brand-text">Slate is published by The Slate Group, a Graham Holdings Company.</p>
				<h4 class="global-footer__heading">Follow Us</h4>
				<div class="global-footer__social-links">
					<a href="https://www.facebook.com/Slate/" class="global-footer__social-link">
						<svg width="25" height="25" class="global-footer__social-badge">
						<use xlink:href="/media/sites/slate-com/global-sprite.svg#facebook-circle"></use>
						</svg>
						Facebook
					</a>
					<a href="https://twitter.com/slate" class="global-footer__social-link">
						<svg width="25" height="25" class="global-footer__social-badge">
						<use xlink:href="/media/sites/slate-com/global-sprite.svg#twitter-circle"></use>
						</svg>
						Twitter
					</a>
					<a href="https://www.instagram.com/slate/" class="global-footer__social-link">
						<svg width="25" height="25" class="global-footer__social-badge">
						<use xlink:href="/media/sites/slate-com/global-sprite.svg#instagram-circle"></use>
						</svg>
						Instagram
					</a>
					<a href="/rss" class="global-footer__social-link">
						<svg width="25" height="25" class="global-footer__social-badge">
						<use xlink:href="/media/sites/slate-com/global-sprite.svg#rss-circle"></use>
						</svg>
						RSS Feed
					</a>
				</div>
		    </div>
		</div>
	</div>
	<div class="global-footer__legal">
		<div class="global-footer__legal-content">
			<ul class="global-footer__legal-links">
				<li class="global-footer__legal-link"><a href="/terms">User Agreement</a></li>
				<li class="global-footer__legal-link"><a href="/privacy">Privacy Policy</a></li>
			</ul>
			<p class="global-footer__legal-text">All contents &copy; 2022 The Slate Group LLC. All rights reserved.</p>
		</div>
	</div>
</footer>


    <div class="foot" >  <div class="piano" data-config="{&quot;url&quot;:&quot;https://experience.tinypass.com&quot;,&quot;aid&quot;:&quot;homyv5Uzpu&quot;,&quot;scroll&quot;:false}" data-uri="slate.com/_components/piano/instances/general@published">
</div>

  <!-- data-uri="slate.com/_components/analytics-body/instances/default@published" -->

<script type="text/javascript">
!function(f,b,e,v,n,t,s){
if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
</script>

<script type="text/javascript">
var _qevents = _qevents || [];

window.slateCMP.TCF.ready.then(function(tcData) {
  var elem = document.createElement('script');
  elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
  elem.defer = true;
  elem.type = "text/javascript";
  var scpt = document.getElementsByTagName('script')[0];
  scpt.parentNode.insertBefore(elem, scpt);
});

_qevents.push({
qacct:"p-fw53_-Tq3MNK1"
});
</script>

<noscript>
<div style="display:none;">
<img src="//pixel.quantserve.com/pixel/p-fw53_-Tq3MNK1.gif" border="0" height="1" width="1" alt="Quantcast"/>
</div>
</noscript>


  <div data-uri="slate.com/_components/adblock-message/instances/general@published" class="adblock-message" hidden></div>

  <div data-uri="slate.com/_components/webapp-serviceworker/instances/default@published" data-onesignal-id="265824b5-c7bc-45dc-ba30-563fefa1485a" data-is-eu="false"></div>

  <!-- data-uri="slate.com/_components/taboola-footer/instances/default@published" -->

<div id="amzn-assoc-ad-797217ac-ca6e-482f-8925-4c302e9c855c" data-uri="slate.com/_components/amazon-oneclick/instances/global@published"></div>


</div>

      <style>
    @keyframes fadeInKilnLogo{0%{opacity:0}to{opacity:1}}.clay-kiln-logo{background-color:hsla(0,0%,100%,.8);display:none;height:100vh;left:0;opacity:0;position:fixed;top:0;width:100vw;z-index:99999}.clay-kiln-logo.show{animation:.2s ease forwards fadeInKilnLogo;display:block}.clay-kiln-logo svg{box-sizing:border-box;height:110px;left:calc(50vw - 155px);position:fixed;top:calc(50vh - 55px);width:310px}
  </style>
  <div class="clay-kiln-logo"><svg width="308" height="109" viewBox="0 0 308 109" xmlns="http://www.w3.org/2000/svg"><g fill="none"><path d="M119.973 97.014c-16.469 0-26.796-10.718-26.796-24.837V25.514c0-14.117 10.327-24.835 26.796-24.835s25.751 10.718 25.751 24.835v8.757c0 1.831-1.57 3.398-3.399 3.398h-11.242c-1.831 0-3.398-1.567-3.398-3.398v-8.757c0-4.314-2.353-8.758-7.712-8.758-5.883 0-8.365 4.444-8.365 8.758v46.663c0 4.314 2.482 8.759 8.365 8.759 5.359 0 7.712-4.445 7.712-8.759V63.42c0-1.829 1.567-3.399 3.398-3.399h11.242c1.829 0 3.399 1.57 3.399 3.399v8.757c0 14.119-9.282 24.837-25.751 24.837m70.261-1.569h-35.553c-1.831 0-3.398-1.57-3.398-3.398V5.384c0-1.831 1.567-3.268 3.398-3.268h11.764a3.236 3.236 0 0 1 3.268 3.268v70.715c0 1.831 1.567 3.268 3.398 3.268h17.123c1.829 0 3.398 1.569 3.398 3.398v9.282c0 1.828-1.569 3.398-3.398 3.398m41.038-68.624c-.13-.916-.916-1.437-1.57-1.437-.653 0-1.437.521-1.437 1.437l-4.181 30.456c-.262 1.829.913 3.268 2.874 3.268h5.621c1.829 0 2.877-1.439 2.744-3.268l-4.051-30.456zm26.274 68.624H245.65c-1.961 0-3.66-1.437-3.922-3.269l-2.745-14.77c-.391-1.829-2.09-3.398-3.922-3.398h-10.586c-1.961 0-3.66 1.569-3.922 3.398l-2.744 14.77c-.392 1.832-2.091 3.269-3.922 3.269h-11.894c-1.961 0-3.006-1.437-2.615-3.269l18.561-86.792c.391-1.831 2.09-3.268 4.051-3.268h15.556c1.829 0 3.66 1.437 4.052 3.268l18.56 86.792c.394 1.832-.783 3.269-2.612 3.269zm32.645-44.705c-.261.916-.653 2.223-.915 3.401-.13 1.175-.26 2.22-.26 3.136v34.77c0 1.828-1.439 3.398-3.4 3.398h-11.764c-1.829 0-3.398-1.57-3.398-3.398v-34.9c0-1.048-.13-2.223-.392-3.53-.13-1.046-.392-2.223-.783-3.007L252.677 5.252c-.524-1.699.392-3.136 2.223-3.136h10.719c2.482 0 4.051 1.307 4.443 3.136l8.236 28.627c.26.916.913 1.308 1.437 1.308.654 0 1.175-.392 1.437-1.308l8.366-28.627c.524-1.829 1.831-3.136 4.314-3.136h10.85c1.959 0 2.874 1.437 2.221 3.136L290.191 50.74" fill="#8F9081"/><g transform="translate(0 2)"><path d="M43.428 67.018c-.095.28-.251.78-.445 1.483a55.428 55.428 0 0 0-.928 3.95c-2.01 10.079-2.01 21.274 1.347 32.507a2.265 2.265 0 1 0 4.34-1.296c-3.123-10.444-3.123-20.917-1.242-30.325.268-1.365.56-2.58.85-3.627.102-.363.192-.677.275-.94l.09-.286a2.269 2.269 0 0 0-1.41-2.876 2.269 2.269 0 0 0-2.88 1.41h.003zm29.28 1.468a23.792 23.792 0 0 1 .364 1.222c.292 1.048.582 2.264.854 3.627 1.877 9.41 1.877 19.88-1.242 30.328a2.262 2.262 0 0 0 1.52 2.821 2.27 2.27 0 0 0 2.822-1.524c3.355-11.237 3.355-22.433 1.343-32.511a55.27 55.27 0 0 0-.927-3.95 27.541 27.541 0 0 0-.445-1.482 2.268 2.268 0 0 0-2.878-1.41 2.268 2.268 0 0 0-1.41 2.877v.002zM4.916 70.803c.426-9.235 4.204-15 10.296-18.235 2.226-1.184 4.63-1.948 7.052-2.368a24.755 24.755 0 0 1 2.401-.293c.454-.03.79-.04.984-.04h-.003a2.267 2.267 0 0 0 .08-4.533h-.036c-.31 0-.761.01-1.335.05-.88.061-1.842.174-2.865.35-2.864.497-5.72 1.402-8.407 2.83C5.602 52.538.888 59.73.384 70.593a2.27 2.27 0 0 0 2.161 2.368 2.263 2.263 0 0 0 2.368-2.159h.002zm117.064-.208c-.504-10.864-5.214-18.056-12.698-22.03-2.686-1.427-5.54-2.334-8.403-2.83a28.462 28.462 0 0 0-2.867-.349 19.32 19.32 0 0 0-1.336-.05h-.034a2.266 2.266 0 1 0 .077 4.532c.193-.003.528.007.98.037.731.05 1.539.146 2.404.295 2.418.42 4.826 1.183 7.052 2.368 6.092 3.234 9.87 9 10.296 18.235a2.266 2.266 0 1 0 4.527-.21l.002.002z" fill="#BCBBAD"/><path d="M60.769 87.022c27.784 0 50.31-8.928 50.31-36.712C111.078 22.524 84.144 0 60.768 0c-23.377 0-50.31 22.524-50.31 50.31 0 27.785 22.524 36.712 50.31 36.712z" fill="#CECDC0"/><path d="M55.803 54.52c.33 2.158 2.177 3.772 4.366 3.772 2.191 0 4.04-1.617 4.366-3.778a.677.677 0 0 0-.571-.772.675.675 0 0 0-.772.567c-.229 1.503-1.512 2.625-3.023 2.625-1.511 0-2.792-1.12-3.022-2.62a.678.678 0 0 0-.773-.567.677.677 0 0 0-.57.772v.002z" fill="#9A998C"/><ellipse fill="#9A998C" cx="37.592" cy="39.248" rx="3.625" ry="5.665"/><ellipse fill="#9A998C" cx="82.928" cy="39.248" rx="3.625" ry="5.665"/><path d="M72.024 1.68c16.925 7.673 31.495 25.085 31.495 45.338 0 27.35-22.22 36.138-49.63 36.138-11.273 0-21.665-1.489-29.997-5.141 9.212 6.654 22.587 9.218 37.478 9.218 27.782 0 50.306-8.924 50.306-36.71 0-23.619-19.461-43.432-39.652-48.844" fill="#BCBBAD"/></g></g></svg></div>
  <script>
    !function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1215)}({100:function(t,n){function e(t,n,e,r){for(var o=t.length,u=e+(r?1:-1);r?u--:++u<o;)if(n(t[u],u,t))return u;return-1}t.exports=e},1215:function(t,n,e){"use strict";var r=e(740),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e(260),(0,o.default)()},137:function(t,n){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=e},138:function(t,n){function e(t){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;n&&(t=n)}if("number"==typeof t)return i[t];var e=t+"",u=r[e.toLowerCase()];if(u)return u;var u=o[e.toLowerCase()];return u||(1===e.length?e.charCodeAt(0):void 0)}e.isEventKey=function(t,n){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;if(null===e||void 0===e)return!1;if("string"==typeof n){var u=r[n.toLowerCase()];if(u)return u===e;var u=o[n.toLowerCase()];if(u)return u===e}else if("number"==typeof n)return n===e;return!1}},n=t.exports=e;var r=n.code=n.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=n.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */
for(u=97;u<123;u++)r[String.fromCharCode(u)]=u-32;for(var u=48;u<58;u++)r[u-48]=u;for(u=1;u<13;u++)r["f"+u]=u+111;for(u=0;u<10;u++)r["numpad "+u]=u+96;var i=n.names=n.title={};for(u in r)i[r[u]]=u;for(var c in o)r[c]=o[c]},142:function(t,n,e){function r(t,n,e){return n===n?i(t,n,e):o(t,u,e)}var o=e(100),u=e(211),i=e(212);t.exports=r},174:function(t,n,e){"use strict";function r(t){var n=void 0,e=void 0,r=void 0;t=t||window.location,n=t.protocol+"//"+t.host+t.pathname+t.search,e=n.indexOf("?edit=true"),r=n.indexOf("&edit=true"),e>-1?n=n.substring(0,e):r>-1?n=n.substring(0,r):n.indexOf("?")>-1?n+="&edit=true":n+="?edit=true",t.assign(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},190:function(t,n,e){function r(t){return t?(t=o(t))===u||t===-u?(t<0?-1:1)*i:t===t?t:0:0===t?t:0}var o=e(87),u=1/0,i=1.7976931348623157e308;t.exports=r},211:function(t,n){function e(t){return t!==t}t.exports=e},212:function(t,n){function e(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}t.exports=e},213:function(t,n,e){function r(t){return null==t?[]:o(t,u(t))}var o=e(214),u=e(42);t.exports=r},214:function(t,n,e){function r(t,n){return o(n,function(n){return t[n]})}var o=e(43);t.exports=r},260:function(t,n){},3:function(t,n){var e=Array.isArray;t.exports=e},4:function(t,n){function e(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}t.exports=e},41:function(t,n){function e(t){return null!=t&&"object"==typeof t}t.exports=e},42:function(t,n,e){var r=e(75),o=r(Object.keys,Object);t.exports=o},43:function(t,n){function e(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}t.exports=e},44:function(t,n,e){function r(t){return null!=t&&u(t.length)&&!o(t)}var o=e(49),u=e(137);t.exports=r},49:function(t,n,e){function r(t){if(!u(t))return!1;var n=o(t);return n==c||n==f||n==i||n==a}var o=e(50),u=e(4),i="[object AsyncFunction]",c="[object Function]",f="[object GeneratorFunction]",a="[object Proxy]";t.exports=r},5:function(t,n,e){function r(t){return"string"==typeof t||!u(t)&&i(t)&&o(t)==c}var o=e(50),u=e(3),i=e(41),c="[object String]";t.exports=r},50:function(t,n){function e(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=e},51:function(t,n,e){function r(t){var n=o(t),e=n%1;return n===n?e?n-e:n:0}var o=e(190);t.exports=r},62:function(t,n){function e(){return!1}t.exports=e},7:function(t,n,e){function r(t,n,e,r){t=u(t)?t:f(t),e=e&&!r?c(e):0;var s=t.length;return e<0&&(e=a(s+e,0)),i(t)?e<=s&&t.indexOf(n,e)>-1:!!s&&o(t,n,e)>-1}var o=e(142),u=e(44),i=e(5),c=e(51),f=e(213),a=Math.max;t.exports=r},740:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=document.querySelector(".clay-kiln-logo");t&&t.classList.add("show")}function u(){document.addEventListener("keydown",function(t){var n=(0,a.default)(t);(0,c.default)(["c","l","a","y"],n)&&!0===t.shiftKey?p+=n:p="","clay"===p?o():p.length>4&&(0,c.default)(p,"clay")?(0,l.default)():p.length>4&&(p="")}),document.addEventListener("keyup",function(){"clay"===p&&(0,l.default)()})}Object.defineProperty(n,"__esModule",{value:!0});var i=e(7),c=r(i);n.default=u;var f=e(138),a=r(f),s=e(174),l=r(s),p=""},75:function(t,n){function e(t,n){return function(e){return t(n(e))}}t.exports=e},87:function(t,n,e){function r(t){if("number"==typeof t)return t;if(u(t))return i;if(o(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=o(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var e=a.test(t);return e||s.test(t)?l(t.slice(2),e?2:8):f.test(t)?i:+t}var o=e(4),u=e(62),i=NaN,c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=r}});
  </script>

<script type="text/javascript">
      // <![CDATA[
        window.modules=[];
window.modules["1"] = [function(require,module,exports){"use strict";window.criteo_q=window.criteo_q||[];var accountId=92394,deviceType=/iPad/.test(navigator.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"m":"d";function sansConsent(){window._slateCriteo={trackLandingPage:function(){},trackTransaction:function(){}}}function withConsent(){window._slateCriteo={trackLandingPage:trackLandingPage,trackTransaction:trackTransaction},trackHomePage()}function criteoPush(n){injectCriteo(),window.criteo_q.push.apply(window.criteo_q,n)}var injected=!1;function injectCriteo(){injected||(window.criteo_q.push({event:"setAccount",account:accountId},{event:"setSiteType",type:deviceType}),slateGlobal.injectScript("https://dynamic.criteo.com/js/ld/ld.js?a="+accountId),injected=!0)}function trackTransaction(){criteoPush([{event:"trackTransaction",id:"TransactionID",item:[{id:"1",price:"1",quantity:1}]}])}var trackLandingPage=function(){};document.querySelector(".standalone-page .piano-mount")&&(trackLandingPage=function(){criteoPush([{event:"viewItem",item:"1"}])});var homepageTracked=!1;function trackHomePage(){homepageTracked||"/"!==location.pathname||(criteoPush([{event:"viewHome"}]),homepageTracked=!0)}function applyConsent(n){return n?withConsent():sansConsent(),n}module.exports=function(){sansConsent();try{window.nonIabVendorApi.registerVendor("criteo",{categories:["C0004"],initFunc:applyConsent,updateConsentFunc:applyConsent})}catch(n){console.warn("criteo failed",n)}};
}, {}];
window.modules["2"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function l(){}function p(){}var y={};c(y,o,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(_([])));v&&v!==e&&r.call(v,o)&&(y=v);var m=p.prototype=h.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"==_typeof(h)&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(h).then(function(t){f.value=t,a(f)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=p,c(m,"constructor",p),c(p,"constructor",l),l.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var membership=require(3);module.exports=function(t){window.nonIabVendorApi.registerVendor("parsely",{categories:["C0002"],initFunc:function(e){if(!e)return!1;window.PARSELY={autotrack:!1,onReady:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r,n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,membership.isMember();case 2:if(!t.sent){t.next=5;break}e=membership.getSplusCookie(),window.PARSELY.updateDefaults({data:{membershipType:e.membershipType,resourceIds:e.resourceIds.join(",")}});case 5:for(window.PARSELY.beacon.trackPageView(),r=window.slateParsely.leadCaptureEvents,n=0;n<r.length;n++)window.PARSELY.conversions.trackLeadCapture(r[n]);case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()};var r=document.createElement("script");return r.id="parsely-cfg",r.src=t,document.body.appendChild(r),!0},updateConsentFunc:function(t){t||window.PARSELY&&(window.PARSELY=Function.prototype)}})};
}, {"3":3}];
window.modules["3"] = [function(require,module,exports){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function l(){}function f(){}function h(){}var m={};s(m,o,function(){return this});var d=Object.getPrototypeOf,y=d&&d(d(x([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=h.prototype=l.prototype=Object.create(m);function v(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var p=u.arg,l=p.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(l).then(function(e){p.value=e,a(p)},function(e){return n("throw",e,a,s)})}s(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=h,s(g,"constructor",h),s(h,"constructor",f),f.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},v(g),s(g,a,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,n,o,a,s,"throw",e)}a(void 0)})}}var pianoService=require(48),getPianoId=pianoService.getPianoId,getUserResources=pianoService.getUserResources,_require=require(29),toUrl=_require.toUrl,cookies=require(35),membershipCookieAttrs={domain:"."+location.hostname},userCookiesReady=updateUser();function updateUser(){return _updateUser.apply(this,arguments)}function _updateUser(){return(_updateUser=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(isLoggedIn()){e.next=3;break}return cookies.remove("splus",membershipCookieAttrs),e.abrupt("return");case 3:return e.prev=3,e.next=6,getUserResources();case 6:setPianoMember(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error fetching user resources",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}function isMember(){return _isMember.apply(this,arguments)}function _isMember(){return(_isMember=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,userCookiesReady;case 2:return e.abrupt("return",hasSplusCookie());case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function isMemberSkipLookup(){return hasSplusCookie()}function hasSplusCookie(){return!!getSplusCookie()}function getSplusCookie(){return cookies.getJSON("splus")}function setMembershipCookie(e,t){cookies.set(e,t,_objectSpread(_objectSpread({},membershipCookieAttrs),{},{expires:30,SameSite:"Strict",secure:"https:"===location.protocol}))}function setPianoMember(e){if(e.data instanceof Array){var t=e.data.filter(function(e){return e.granted}).map(function(e){return e.resource.rid});if((t=_toConsumableArray(new Set(t))).length>0){var r={membershipType:"piano",resourceIds:t};setMembershipCookie("splus",JSON.stringify(r))}else cookies.remove("splus",membershipCookieAttrs)}}function getMembershipType(){var e="none",t=getSplusCookie();return t&&(e=t.membershipType,t.resourceIds&&(e="".concat(e,"|").concat(t.resourceIds.join("|")))),e}var IS_PURCHASING_KEY="userIsPurchasing";function getMembershipInfo(){return _getMembershipInfo.apply(this,arguments)}function _getMembershipInfo(){return(_getMembershipInfo=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n,o,i,a,s,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,userCookiesReady;case 2:if(hasSplusCookie()){e.next=4;break}return e.abrupt("return");case 4:return t=document.documentElement.dataset.myslateurl,(r=toUrl(t)).pathname="/users/slate_page_info/",(n=sessionStorage.getItem(IS_PURCHASING_KEY))&&r.searchParams.set("purchase",!0),o=5e3,i=new AbortController,setTimeout(function(){return i.abort()},o),e.prev=12,a={method:"GET",credentials:"include",headers:{Accept:"application/json"},signal:i.signal},e.next=16,fetch(r.href,a);case 16:return s=e.sent,e.next=19,s.json();case 19:return u=e.sent,n&&sessionStorage.removeItem(IS_PURCHASING_KEY),window.dispatchEvent(new Event("returnedUserInfo")),e.abrupt("return",u);case 25:e.prev=25,e.t0=e.catch(12),"AbortError"===e.t0.name?console.error("getMembershipInfo timed out after ".concat(o/1e3," seconds"),e.t0):console.error("Fetch for myslate membership info failed:",e.t0),window.dispatchEvent(new Event("userInfoError"));case 29:case"end":return e.stop()}},e,null,[[12,25]])}))).apply(this,arguments)}function getPodcastInfo(e){if(!hasSplusCookie())throw new Error("User is not splus user.");var t=document.documentElement.dataset.myslateurl+"/membership/podcasts_feeds/?feed=".concat(e);return fetch(t,{method:"GET",credentials:"include",headers:{Accept:"application/json"}}).then(function(e){return e.json().then(function(t){if(!e.ok)throw new Error(t.message);return t})})}function postPodcastSmsNumber(e,t){if(!hasSplusCookie())throw new Error("User is not splus user.");var r=document.documentElement.dataset.myslateurl+"/membership/podcasts_sms/",n={method:"POST",credentials:"include",headers:{Accept:"application/json"},body:JSON.stringify({phoneNumber:e,feedId:t})};return fetch(r,n).then(function(e){return e.text().then(function(t){if(!e.ok)throw new Error(t);return t})})}function isLoggedIn(){return!!getLoginId()}function getLoginId(){return getPianoId()}function getFeedUrl(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n.display_name===e)return n.feed_url}}function getUserEmail(){var e=pianoService.getPianoJwt();return e&&e.email.trim().toLowerCase()}function checkAccess(e){return _checkAccess.apply(this,arguments)}function _checkAccess(){return(_checkAccess=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,getMembershipInfo();case 4:if(r=e.sent,!!(r&&r.user&&r.user.membership&&r.user.membership.podcast_feed_links&&r.user.membership.podcast_feed_links.length)){e.next=8;break}return e.abrupt("return",!1);case 8:return n=r.user.membership.podcast_feed_links,e.abrupt("return",!!n.some(function(e){return e.slug===t}));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}module.exports.IS_PURCHASING_KEY=IS_PURCHASING_KEY,module.exports.checkAccess=checkAccess,module.exports.getLoginId=getLoginId,module.exports.getMembershipType=getMembershipType,module.exports.getMembershipInfo=getMembershipInfo,module.exports.isLoggedIn=isLoggedIn,module.exports.isMember=isMember,module.exports.isMemberSkipLookup=isMemberSkipLookup,module.exports.getFeedUrl=getFeedUrl,module.exports.setPianoMember=setPianoMember,module.exports.getSplusCookie=getSplusCookie,module.exports.updateUser=updateUser,module.exports.userCookiesReady=userCookiesReady,module.exports.getPodcastInfo=getPodcastInfo,module.exports.postPodcastSmsNumber=postPodcastSmsNumber,module.exports.getUserEmail=getUserEmail,module.exports.setMembershipCookie=setMembershipCookie;
}, {"29":29,"35":35,"48":48}];
window.modules["9"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,t)})(t)}function _construct(t,e,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TAG_LIST_NAME="tags-list",TagList=function(t){_inherits(r,_wrapNativeSuper(HTMLElement));var e=_createSuper(r);function r(){var t;_classCallCheck(this,r);var n=(t=e.call(this)).firstElementChild,o=getComputedStyle(n).getPropertyValue("--tag-padding"),i=getComputedStyle(n).getPropertyValue("--tag-margin");return t.style.setProperty("--tag-margin",i),t.style.setProperty("--tag-padding",o),t.appendStyles(),t}return _createClass(r,[{key:"connectedCallback",value:function(){this.render(),this.postRender()}},{key:"render",value:function(){var t=this.firstElementChild.clientHeight;this.firstElementChild.setAttribute("data-role",TAG_LIST_NAME);var e='\n      <div class="tags">\n        <div class="tags__mask" style="--mask-height: '.concat(t+1,'px"></div>\n        ').concat(this.innerHTML,"\n      </div>\n    ");this.innerHTML=e}},{key:"postRender",value:function(){var t=this.querySelector("[data-role='".concat(TAG_LIST_NAME,"']")),e=this.querySelector(".tags__mask"),r=_toConsumableArray(t.children).filter(function(t){return!t.classList.contains("tags__mask")});new IntersectionObserver(function(t){e.classList.toggle("prev",!t[0].isIntersecting)},{root:t,threshold:.5}).observe(r[0]),new IntersectionObserver(function(t){e.classList.toggle("next",!t[0].isIntersecting)},{root:t,threshold:.5}).observe(r[r.length-1])}},{key:"appendStyles",value:function(){if(!document.querySelector(".".concat("tag-styles"))){var t=this.getStyles();document.head.insertAdjacentHTML("beforeend",'<style class="'.concat("tag-styles",'">').concat(t,"</style>"))}}},{key:"getStyles",value:function(){return'\n    tag-list {\n      overflow: auto;\n    }\n\n    .tags {\n      position: relative;\n    }\n\n    .tags__mask {\n      position: absolute;\n      height: var(--mask-height);\n      top: 0;\n      left: 0;\n      pointer-events: none;\n      width: 100%;\n      z-index: 1;\n    }\n\n    .tags__mask.prev::before,\n    .tags__mask.next::after {\n      content: "";\n      display: flex;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      width: 5ch\n    }\n\n    .tags__mask.prev::before {\n      background-image: linear-gradient(to left, hsla(var(--bg-color-hsl), 0), hsla(var(--bg-color-hsl), 1));\n      left: 0;\n    }\n\n    .tags__mask.next::after {\n      background-image: linear-gradient(to right, hsla(var(--bg-color-hsl), 0), hsla(var(--bg-color-hsl), 1));\n      right: 0;\n    }\n    '}}]),r}();module.exports=function(){"customElements"in window&&!customElements.get("tag-list")&&customElements.define("tag-list",TagList)};
}, {}];
window.modules["17"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function l(){}function p(){}function h(){}var y={};c(y,o,function(){return this});var v=Object.getPrototypeOf,d=v&&v(v(_([])));d&&d!==e&&r.call(d,o)&&(y=d);var m=h.prototype=l.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=h,c(m,"constructor",h),c(h,"constructor",p),p.displayName=c(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var domEventData,resolveWaitForPageview,getDomEventData=function(t){if(domEventData)return domEventData;try{t=t||document.querySelectorAll("script.js-analytics-js-data")[0],domEventData=JSON.parse(t.textContent)}catch(t){console.warn("unable to get dom event data for amplitude",t)}return domEventData},track=function(t,e){var r=getDomEventData(),n={};Object.assign(n,r,e);try{return amplitude.track(t,n).promise}catch(t){console.error("amplitude.track failed",t)}},waitForPageview=new Promise(function(t,e){resolveWaitForPageview=t});function trackAfterPageview(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];waitForPageview.then(function(){track.apply(void 0,e)})}var page=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,amplitude.track("Loaded a Page",e).promise;case 2:resolveWaitForPageview();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();module.exports.getDomEventData=getDomEventData,module.exports.getInstance=function(){return amplitude},module.exports.page=page,module.exports.track=track,module.exports.trackAfterPageview=trackAfterPageview,exports.log=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(e,r){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,waitForPageview;case 2:window.slateAmplitudeQueue.push(function(t){for(var n in r=_objectSpread(_objectSpread({},getDomEventData()),r))"boolean"==typeof r[n]&&(r[n]="".concat(r[n]).toUpperCase());return t.track(e,r)});case 3:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();
}, {}];
window.modules["20"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=b(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function y(){}var p={};u(p,o,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(E([])));v&&v!==e&&r.call(v,o)&&(p=v);var m=y.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):e.resolve(f).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,u)})}u(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=y,u(m,"constructor",y),u(y,"constructor",h),h.displayName=u(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),u(m,a,"Generator"),u(m,o,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,u,"next",t)}function u(t){asyncGeneratorStep(i,n,o,a,u,"throw",t)}a(void 0)})}}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var getFrag=require(21),POLLING_INTERVAL=2e4;function viewNewEntries(t,e){var r,n=_createForOfIteratorHelper(t);try{var o=function(){var t=r.value;e.unobserve(t.target),setTimeout(function(){t.target.classList.remove("live-update__el--new")},5e3)};for(n.s();!(r=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}}var liveUpdateObserver=new IntersectionObserver(viewNewEntries,{threshold:1});function getData(t){return fetch("https://"+t).then(function(t){return t.json()})}function getHtml(t){return fetch("https://"+t+".html").then(function(t){return t.text()})}function makeLive(t,e){return _makeLive.apply(this,arguments)}function _makeLive(){return(_makeLive=_asyncToGenerator(_regeneratorRuntime().mark(function t(e,r){var n,o,i,a,u,c,s,l,f,h,y;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y=function(){clearInterval(h),document.removeEventListener("visibilitychange",c),window.removeEventListener("focus",c)},f=function(){return(f=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var a,u,c,s,l,f;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,getHtml(e.dataset.uri);case 2:for(a=t.sent,(u=getFrag(a)).querySelectorAll("style").forEach(function(t){document.head.appendChild(t)}),s=function(){var t,r=_slicedToArray(f[l],2),i=r[0],a=r[1],s=new Set(n[i].map(function(t){return t._ref})),h=o[i].filter(function(t){return!s.has(t._ref)}),y=u.querySelector(a),p=_createForOfIteratorHelper(h);try{for(p.s();!(t=p.n()).done;){var d=t.value,v=y.querySelector('[data-uri="'.concat(d._ref,'"]'));v&&(v.classList.add("live-update__el","live-update__el--new"),liveUpdateObserver.observe(v),c=c||v)}}catch(t){p.e(t)}finally{p.f()}var m=e.querySelector(a);m.parentNode.insertBefore(y,m),m.parentNode.removeChild(m)},l=0,f=Object.entries(r);l<f.length;l++)s();c.scrollIntoView({block:c.offsetHeight>window.innerHeight?"start":"nearest",behavior:"smooth"}),n=o,i.hidden=!0;case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)},l=function(){return f.apply(this,arguments)},s=function(){return(s=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.hidden&&i.hidden){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,getData(e.dataset.uri);case 4:(o=t.sent).live||y(),JSON.stringify(n.content)!==JSON.stringify(o.content)&&(i.hidden=!1);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)},c=function(){return s.apply(this,arguments)},t.next=7,getData(e.dataset.uri);case 7:n=t.sent,(i=e.querySelector(".live-update")).addEventListener("submit",function(t){t.preventDefault(),a.disabled=!0,a.classList.add("slate-button--subtle"),a.innerHTML="Loading <span class='slate-loading'></span>",l()}),a=e.querySelector(".live-update__btn"),u=a.outerHTML,i.addEventListener("transitionend",function(){i.hidden&&(a.outerHTML=u)}),h=setInterval(c,POLLING_INTERVAL),document.addEventListener("visibilitychange",c),window.addEventListener("focus",c);case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}exports.makeLive=makeLive;
}, {"21":21}];
window.modules["21"] = [function(require,module,exports){"use strict";module.exports=function(e){var t=document.createDocumentFragment();return t.appendChild(document.createElement("div")),t.firstChild.innerHTML=e,t};
}, {}];
window.modules["24"] = [function(require,module,exports){"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCurrentTheme=getCurrentTheme,exports.getTheme=getTheme,exports.getThemeClass=getThemeClass,exports.onThemeChange=onThemeChange,exports.setTheme=setTheme;var prefersDark=window.matchMedia("(prefers-color-scheme: dark)"),THEME_OPTIONS=["dark","light","auto"],CLASS_OPTIONS=THEME_OPTIONS.map(getThemeClass);function getCurrentTheme(){var e=getTheme();return"dark"===e||"auto"===e&&prefersDark.matches?"dark":"light"}function setTheme(e){var r;localStorage.setItem("theme",e),(r=document.documentElement.classList).remove.apply(r,_toConsumableArray(CLASS_OPTIONS)),document.documentElement.classList.add(getThemeClass(e)),window.dispatchEvent(new Event("theme-change"))}function getTheme(){var e=localStorage.getItem("theme");return THEME_OPTIONS.includes(e)||(e="light"),e}function getThemeClass(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getTheme();return"theme-".concat(e)}function onThemeChange(e){e(),prefersDark.addEventListener("change",e),window.addEventListener("theme-change",e)}
}, {}];
window.modules["25"] = [function(require,module,exports){(function (process){(function (){
"use strict";var getJSONP=require(1114);function authenticate(t){return t.headers.Authorization="Token "+window.process.env.CLAY_ACCESS_KEY,t.credentials="same-origin",t}function addFakeCallback(){return("&callback=cb"+Math.random()).replace(".","")}function checkStatus(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}module.exports.get=function(t,e){return fetch(t,e).then(checkStatus).then(function(t){var e=t.headers.get("content-type");return e.includes("json")?t.json():e.includes("text")?t.text():(console.warn("unable to guess stream reader for response"),t)})},module.exports.getJSONP=function(t){return new Promise(function(e,n){getJSONP(t+addFakeCallback(),function(t,r){t?n(t):e(r)})})},module.exports.getHTML=function(t,e){return fetch(t,e).then(checkStatus).then(function(t){return t.text()})},module.exports.put=function(t,e,n){var r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return n&&authenticate(r),fetch(t,r).then(checkStatus).then(function(t){return t.json()})},module.exports.post=function(t,e,n){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return n&&authenticate(r),fetch(t,r).then(checkStatus).then(function(t){return t.json()})};

}).call(this)}).call(this,require(82))}, {"82":82,"1114":1114}];
window.modules["29"] = [function(require,module,exports){"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,o=[],i=!0,c=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(r){c=!0,a=r}finally{try{i||null==t.return||t.return()}finally{if(c)throw a}}return o}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){c=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function toUrl(r,e){var t;try{t=new URL(r),e&&(t.search=updateParams(t.search,e))}catch(r){t=null}return t}function hasParam(r,e){try{return!!new URL(r).searchParams.get(e)}catch(r){throw r}}function updateParams(r,e){var t=paramStringToObject(r),n=paramStringToObject(e);return new URLSearchParams(_objectSpread(_objectSpread({},t),n)).toString()}function paramStringToObject(r){var e,t={},n=_createForOfIteratorHelper(new URLSearchParams(r).entries());try{for(n.s();!(e=n.n()).done;){var a=_slicedToArray(e.value,2),o=a[0],i=a[1];o=o.trim(),i=i.trim(),t[o]=i}}catch(r){n.e(r)}finally{n.f()}return t}module.exports={toUrl:toUrl,hasParam:hasParam,paramStringToObject:paramStringToObject};
}, {}];
window.modules["33"] = [function(require,module,exports){"use strict";function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var loaded=new Set;function _load(e,r){if(!loaded.has(e)){var t=e.querySelector(".lazyload-container > noscript");if(t){var n=t.parentNode;n.innerHTML=t.innerText,loaded.add(e),e.querySelectorAll("script").forEach(function(e){var r=document.createElement("script");e.src?r.src=e.src:e.textContent&&(r.text=e.textContent),e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e)}),n.classList.add("lazyload-container--loaded"),r.fluid&&(n.style.paddingBottom="",n.classList.add("lazyload-container--fluid"))}else console.error('cannot find "noscript" for unloaded el',e)}}function _unload(e,r){if(loaded.has(e)){var t=e.querySelector(".lazyload-container");if(t&&!t.firstElementChild.matches("noscript")){var n=t.offsetHeight;t.innerHTML="\n      <noscript>\n        ".concat(t.innerHTML,"\n      </noscript>\n    "),loaded.delete(e),t.classList.remove("lazyload-container--loaded"),r.fluid&&(t.style.paddingBottom="".concat(n,"px"),t.classList.remove("lazyload-container--fluid"))}else console.error("cannot find container to unload el",e)}}module.exports.createObserver=function(e){e=_objectSpread({intersectionObserverOptions:{rootMargin:"100% 0% 100% 0%"},limit:1/0,fluid:!1,onLoad:function(){},onUnload:function(){}},e);var r=new Map,t=new IntersectionObserver(function(t){t.forEach(function(t){var n;r.has(t.target)?n=r.get(t.target):(n={el:t.target},r.set(t.target,n)),n.isIntersecting=t.isIntersecting,n.offsetTop=t.boundingClientRect.top+window.scrollY,!n.loaded&&n.isIntersecting&&(_load(t.target,e),n.loaded=!0,e.onLoad(t.target,e))});var n=[];r.forEach(function(e){e.loaded&&n.push(e)});var o=n.length-e.limit;o>0&&n.filter(function(e){return!e.isIntersecting}).map(function(e){return e.distance=Math.abs(e.offsetTop-window.scrollY),e}).sort(function(e,r){return r.distance-e.distance}).slice(0,o).forEach(function(r){_unload(r.el,e),r.loaded=!1,e.onUnload(r.el,e)})},e.intersectionObserverOptions);return{observe:function(){return t.observe.apply(t,arguments)},unobserve:function(){return t.unobserve.apply(t,arguments)},load:function(r){return _load(r,e)},unload:function(r){return _unload(r,e)}}},window.addEventListener("load",function(){var e=_toConsumableArray(document.querySelectorAll(".lazyload-html--auto"));if(e.length>0){var r,t=exports.createObserver({fluid:!0}),n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;t.observe(o)}}catch(e){n.e(e)}finally{n.f()}}});
}, {}];
window.modules["35"] = [function(require,module,exports){!function(e){var n;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var t=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=t,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function r(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(t);/^[\{\[]/.test(c)&&(t=c)}catch(e){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var u in i)i[u]&&(f+="; "+u,!0!==i[u]&&(f+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+f}}function c(e,t){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var f=i[c].split("="),u=f.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=n(f[0]);if(u=(o.read||o)(u,a)||n(u),t)try{u=JSON.parse(u)}catch(e){}if(r[a]=u,e===a)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(n,t){i(n,"",e(t,{expires:-1}))},r.defaults={},r.withConverter=t,r}(function(){})});
}, {}];
window.modules["44"] = [function(require,module,exports){"use strict";exports.formatArticleData=function(t){return{content_created:t.pub_date,content_author:t.authors.join(","),content_section:t.section,tags:t.tags,custom_variables:{contentRubric:t.rubric,amplitudePageType:t.page_type}}},exports.allowedOrigins=["https://sandbox.tinypass.com","https://id.tinypass.com","https://buy.tinypass.com"];
}, {}];
window.modules["45"] = [function(require,module,exports){"use strict";var dropdownSelector=".dropdown",buttonSelector=".dropdown__button",contentSelector=".dropdown__content";module.exports=function(e){var t=e.matches(dropdownSelector)?e:e.querySelector(dropdownSelector);if(t){var r=t.querySelector(contentSelector);r.id="dropdown-"+(new Date).getTime();var o=t.querySelector(buttonSelector);o.setAttribute("aria-controls",r.id);var n={click:function(e){t.contains(e.target)||c()},keyup:function(e){["Escape","Esc"].includes(e.key)&&c()}};t.addEventListener("click",function(){return"true"===o.getAttribute("aria-expanded")?c():function(){for(var e in o.setAttribute("aria-expanded","true"),n)document.body.addEventListener(e,n[e])}()})}function c(){for(var e in o.setAttribute("aria-expanded","false"),n)document.body.removeEventListener(e,n[e])}};
}, {}];
window.modules["46"] = [function(require,module,exports){"use strict";var dropdown=require(45),darkMode=require(24),passcode=require(47);function munge(e){return e.trim().toLowerCase()}function constructThemePickers(e){var r=e.querySelectorAll(".theme-picker");function n(e){r.forEach(function(r){r.querySelector(".dropdown__label").innerHTML=e.innerHTML});var n=munge(e.innerText);darkMode.setTheme(n)}r.forEach(function(e){e.querySelectorAll(".theme-picker__option").forEach(function(e){var r=munge(e.innerText);document.documentElement.classList.contains("theme-"+r)&&n(e),e.addEventListener("click",function(e){n(e.currentTarget)})}),dropdown(e),e.hidden=!1})}"theme"in localStorage?module.exports=constructThemePickers:module.exports=function(e){return passcode.activates("beta",function(){return constructThemePickers(e)})};
}, {"24":24,"45":45,"47":47}];
window.modules["47"] = [function(require,module,exports){"use strict";exports.activates=function(e,t){var n=[];document.addEventListener("keypress",function(i){(n=n.concat(i.key).splice(-e.length)).join("")===e&&t()});var i=[];document.addEventListener("touchend",function(e){i.push(e.timeStamp);var n=e.timeStamp-3e3,c=i.findIndex(function(e){return e>=n});7===(i=i.slice(c)).length&&(t(),i=[])})};
}, {}];
window.modules["48"] = [function(require,module,exports){"use strict";var cookies=require(35),PIANOAPITIMEOUT=3e3;module.exports={getExtendedUserData:function(t){return new Promise(function(e,o){var i=setTimeout(o,PIANOAPITIMEOUT);window.tp||(window.tp=[]);window.tp.push(["init",function(){tp.pianoId.loadExtendedUser({formName:t,extendedUserLoaded:function(t){clearTimeout(i),t?e(t):o(t)}})}])})},getCustomFieldValue:function(t,e){if(t.custom_field_values)for(var o=0;o<t.custom_field_values.length;o++)if(t.custom_field_values[o].field_name===e)return t.custom_field_values[o].value},getPianoJwt:function(){var t=cookies.get("__utp");if(t)try{var e=atob(t.split(".")[1]);return JSON.parse(e)}catch(e){return void console.error("Error parsing __utp cookie: ".concat(t),e)}},getPianoId:function(){var t=module.exports.getPianoJwt();if(t)return t.sub},getUser:function(){return new Promise(function(t,e){var o=setTimeout(e,PIANOAPITIMEOUT);window.tp||(window.tp=[]),window.tp.push(["init",function(){try{clearTimeout(o),t(window.tp.pianoId.getUser())}catch(t){e(t)}}])})},getUserResources:function(){return new Promise(function(t,e){var o=setTimeout(e,PIANOAPITIMEOUT);window.tp||(window.tp=[]),window.tp.push(["init",function(){try{window.tp.api.callApi("/access/list",{},function(e){clearTimeout(o),t(e)})}catch(t){e(t)}}])})}};
}, {"35":35}];
window.modules["51"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o=r&&r.prototype instanceof h?r:h,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function l(){}function p(){}var d={};c(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==r&&e.call(y,o)&&(d=y);var m=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(r){c(t,r,function(t){return this._invoke(r,t)})})}function w(t,r){var n;this._invoke=function(o,i){function a(){return new r(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"==_typeof(h)&&e.call(h,"__await")?r.resolve(h.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):r.resolve(h).then(function(t){f.value=t,a(f)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function E(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=p,c(m,"constructor",p),c(p,"constructor",l),l.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new w(u(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),f},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),f}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:L(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),f}},t}function asyncGeneratorStep(t,r,e,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var _require=require(25),get=_require.get;function constructUserEndpoint(t){var r=constructBaseEndpoint();if(t){var e=new URL(r);e.pathname="".concat(e.pathname).concat(t,"/"),r=e.href}return r}function constructOptOutEndpoint(t){if(!t)throw Error("You must provide an email to opt out of communication.");var r=constructBaseEndpoint(),e=new URL(r);return e.pathname="".concat(e.pathname,"optout/").concat(t,"/"),r=e.href}function constructBaseEndpoint(){var t=document.documentElement.dataset.myslateurl,r="".concat(t,"/proxies/newsletters/");return new URL(r).href}module.exports.getSubscriptions=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(r){var e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=constructUserEndpoint(r),t.prev=1,t.next=4,get(e);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),Error("Error fetching user newsletter subscriptions from ".concat(e),t.t0);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(r){return t.apply(this,arguments)}}(),module.exports.updateSubscriptions=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var r,e,n,o,i=arguments;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>0&&void 0!==i[0]?i[0]:{},e=i.length>1?i[1]:void 0){t.next=4;break}throw Error("You must provide an email to update subscriptions.");case 4:return t.prev=4,n=constructUserEndpoint(e),o={method:"POST",credentials:"include",body:JSON.stringify(r)},t.next=9,get(n,o);case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(4),Error("Error updating user newsletter subscriptions with endpoint ".concat(n," and data ").concat(JSON.stringify(r)),t.t0);case 15:case"end":return t.stop()}},t,null,[[4,12]])})),module.exports.optOutOfSubscriptions=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(r,e){var n,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=constructOptOutEndpoint(r),t.prev=1,o={method:"GET",credentials:"include"},t.next=5,get(n,o);case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(1),Error("Something went wrong while opting out.",t.t0);case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(r,e){return t.apply(this,arguments)}}(),module.exports.getAllNewsletters=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var r,e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=constructBaseEndpoint(),e=new URL("".concat(r,"/all/")).href,t.prev=2,t.next=5,get(e);case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(2),Error("Unable to fetch newsletters",t.t0);case 11:case"end":return t.stop()}},t,null,[[2,8]])}));
}, {"25":25}];
window.modules["52"] = [function(require,module,exports){"use strict";module.exports.track=function(e,t,a){try{var i=Object.assign({},window.slatePermutiveData&&window.slatePermutiveData.page||{});t&&(i=Object.assign(i,t)),i.article&&i.article.gsChannels&&delete i.article.gsChannels,window.permutive&&window.permutive.track(e,i,a)}catch(e){console.error("failed to log permutive",e)}};
}, {}];
window.modules["54"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===h)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function l(){}function p(){}var y={};c(y,o,function(){return this});var v=Object.getPrototypeOf,d=v&&v(v(E([])));d&&d!==r&&e.call(d,o)&&(y=d);var g=p.prototype=f.prototype=Object.create(y);function m(t){["next","throw","return"].forEach(function(r){c(t,r,function(t){return this._invoke(r,t)})})}function w(t,r){var n;this._invoke=function(o,i){function a(){return new r(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"==_typeof(f)&&e.call(f,"__await")?r.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):r.resolve(f).then(function(t){h.value=t,a(h)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=s(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function x(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=p,c(g,"constructor",p),c(p,"constructor",l),l.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new w(u(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(g),c(g,a,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),h}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;L(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:E(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),h}},t}function asyncGeneratorStep(t,r,e,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}function hashBuff2Hex(t){return Array.from(new Uint8Array(t)).map(function(t){return t.toString(16).padStart(2,"0")}).join("")}function hashBuff2Base64(t){for(var r="",e=new Uint8Array(t),n=e.byteLength,o=0;o<n;o++)r+=String.fromCharCode(e[o]);return window.btoa(r)}function hash(t){return _hash.apply(this,arguments)}function _hash(){return(_hash=_asyncToGenerator(_regeneratorRuntime().mark(function t(r){var n,o,i,a,c,u=arguments;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:"base64",r){t.next=4;break}return console.error("No value passed to hash"),t.abrupt("return");case 4:return t.prev=4,i=new TextEncoder,a=i.encode(r),t.next=9,window.crypto.subtle.digest("SHA-256",a);case 9:if(c=t.sent,"hex"!==n){t.next=14;break}o=hashBuff2Hex(c),t.next=19;break;case 14:if("base64"!==n){t.next=18;break}o=hashBuff2Base64(c),t.next=19;break;case 18:throw new Error("Encoding: ".concat(n," not supported"),e);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(4),console.error(t.t0);case 24:return t.abrupt("return",o);case 25:case"end":return t.stop()}},t,null,[[4,21]])}))).apply(this,arguments)}module.exports.hash=hash;
}, {}];
window.modules["55"] = [function(require,module,exports){var isObject=require(1179),now=require(1305),toNumber=require(1304),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(n,i,t){var e,r,o,u,a,c,v=0,f=!1,m=!1,d=!0;if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);function T(i){var t=e,o=r;return e=r=void 0,v=i,u=n.apply(o,t)}function s(n){var t=n-c;return void 0===c||t>=i||t<0||m&&n-v>=o}function b(){var n=now();if(s(n))return l(n);a=setTimeout(b,function(n){var t=i-(n-c);return m?nativeMin(t,o-(n-v)):t}(n))}function l(n){return a=void 0,d&&e?T(n):(e=r=void 0,u)}function w(){var n=now(),t=s(n);if(e=arguments,r=this,c=n,t){if(void 0===a)return function(n){return v=n,a=setTimeout(b,i),f?T(n):u}(c);if(m)return clearTimeout(a),a=setTimeout(b,i),T(c)}return void 0===a&&(a=setTimeout(b,i)),u}return i=toNumber(i)||0,isObject(t)&&(f=!!t.leading,o=(m="maxWait"in t)?nativeMax(toNumber(t.maxWait)||0,i):o,d="trailing"in t?!!t.trailing:d),w.cancel=function(){void 0!==a&&clearTimeout(a),v=0,e=c=r=a=void 0},w.flush=function(){return void 0===a?u:l(now())},w}module.exports=debounce;
}, {"1179":1179,"1304":1304,"1305":1305}];
window.modules["56"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var Cookies=require(35),slateAmplitude=require(17),MAX_ADBLOCKER_DELAY=3e3;exports.getValue=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),t.abrupt("return",new Promise(function(t){!function r(){var n=Date.now()-e,o=Cookies.get("__adblocker");void 0!==o||n>MAX_ADBLOCKER_DELAY?(t([o&&"true"===o,n]),void 0===o&&isSample()&&trackTiming(e)):setTimeout(r,500)}()}));case 2:case"end":return t.stop()}},t)})),Cookies.remove("__adblocker");var setNptTechAdblockerCookie=function(t){Cookies.set("__adblocker",!!t)};function d(t){return Math.floor(Math.random()*(t-1+1)+1)}exports.enable=function(){var t=document.createElement("script");t.src="//www.npttech.com/advertising.js",t.addEventListener("error",function(){setNptTechAdblockerCookie(!0)}),document.head.appendChild(t)};var isSample=function(){return 20===d(20)||"#adblockdebug"===location.hash};function trackTiming(t){!function e(){setTimeout(function(){var r=Cookies.get("__adblocker");void 0!==r?slateAmplitude.log("Ad Blocker Timing Sample",{adBlocker:"true"===r,adBlockerDelay:Date.now()-t}):e()},500)}()}
}, {"17":17,"35":35}];
window.modules["57"] = [function(require,module,exports){"use strict";var _require=require(58),getRedirectUrl=_require.getRedirectUrl,isSpotifyPlus=_require.isSpotifyPlus,redirectToSpotify=_require.redirectToSpotify;function afterCheckoutClose(e){if("checkoutCompleted"===e.state||"voucherRedemptionCompleted"===e.state){if(isSpotifyPlus())return void redirectToSpotify();location.href=getRedirectUrl()||"/account"}}module.exports=afterCheckoutClose;
}, {"58":58}];
window.modules["58"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function l(){}function h(){}function p(){}var y={};c(y,o,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(L([])));v&&v!==e&&r.call(v,o)&&(y=v);var m=p.prototype=l.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){f.value=t,a(f)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var _require=require(29),hasParam=_require.hasParam;function isValidOrigin(t){var e=new URL(t).origin;return["spotify.com","slate.com"].some(function(t){return e==="https://".concat(t)||e.endsWith(".".concat(t))})}function getRedirectUrl(){var t=new URL(location.href).searchParams.get("redirect_uri");if(t)return isValidOrigin(t)?t:"/"}function isSpotifyPlus(){return"/spotify-plus"===location.pathname||"/_pages/ckw5hrtr4000pz3m9pdlxohl1.html"===location.pathame||hasParam(location.href,"spotify")}function redirectToSpotify(){return _redirectToSpotify.apply(this,arguments)}function _redirectToSpotify(){return(_redirectToSpotify=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r,n,o=arguments;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:"/account/podcasts",'You\'re about to be redirected to Spotify. Click "OK" to proceed. Click "Cancel" to sign in as another user.',window.confirm('You\'re about to be redirected to Spotify. Click "OK" to proceed. Click "Cancel" to sign in as another user.')){t.next=6;break}return window.tp.pianoId.logout(),location.href="/sign-in",t.abrupt("return");case 6:return r=e,t.prev=7,t.next=10,getSpotifyFeedUrls();case 10:if((n=t.sent).length){t.next=13;break}throw new Error("No Spotify feed URLs retrieved from MySlate");case 13:r=n[0],t.next=19;break;case 16:t.prev=16,t.t0=t.catch(7),console.error(t.t0);case 19:return location.href=r,t.abrupt("return");case 21:case"end":return t.stop()}},t,null,[[7,16]])}))).apply(this,arguments)}function getSpotifyFeedUrls(){return _getSpotifyFeedUrls.apply(this,arguments)}function _getSpotifyFeedUrls(){return(_getSpotifyFeedUrls=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r,n,o,i,a,c,u,s;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.documentElement.dataset.myslateurl||"https://my.slate.com",(r=new URL(e)).pathname="membership/setup_feeds/",n=r.href,t.prev=4,i={method:"GET",credentials:"include",headers:{Accept:"application/json"}},t.next=8,fetch(n,i).then(function(t){return t.json()});case 8:o=t.sent,t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(4),Error("Error getting user feeds from Supporting Cast: ".concat(t.t0));case 14:a=[],c=0;case 16:if(!(c<o.length)){t.next=31;break}if(o[c].desktop_schemes&&o[c].desktop_schemes.length){t.next=19;break}return t.abrupt("continue",28);case 19:u=o[c].desktop_schemes,s=0;case 21:if(!(s<u.length)){t.next=28;break}if("Spotify"===u[s]._name){t.next=24;break}return t.abrupt("continue",25);case 24:a.push(u[s]._url);case 25:s++,t.next=21;break;case 28:c++,t.next=16;break;case 31:return t.abrupt("return",a);case 32:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}module.exports={getRedirectUrl:getRedirectUrl,isSpotifyPlus:isSpotifyPlus,redirectToSpotify:redirectToSpotify};
}, {"29":29}];
window.modules["59"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function l(){}function h(){}function p(){}var y={};c(y,o,function(){return this});var v=Object.getPrototypeOf,d=v&&v(v(P([])));d&&d!==e&&r.call(d,o)&&(y=d);var g=p.prototype=l.prototype=Object.create(y);function m(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==_typeof(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){f.value=t,a(f)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(g),c(g,a,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var slateAmplitude=require(17),_require=require(60),getMorgioniProps=_require.getMorgioniProps,piano=require(48),_require2=require(3),IS_PURCHASING_KEY=_require2.IS_PURCHASING_KEY;function afterCheckout(t){return _afterCheckout.apply(this,arguments)}function _afterCheckout(){return(_afterCheckout=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r,n,o,i,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,piano.getExtendedUserData("attribution-menu");case 2:if(r=t.sent,n=_objectSpread({price:e.chargeAmount,plan_type:e.rid},getMorgioniProps()),o=piano.getCustomFieldValue(r,"attribution_menu")){try{(i=JSON.parse(o))instanceof Array&&(o=i.join())}catch(t){}(a=piano.getCustomFieldValue(r,"attribution_menu_other"))&&(o+=": "+a),n["S+ Purchase Attribution"]=o}slateAmplitude.track("Slate Plus: Purchase",n),sessionStorage.setItem(IS_PURCHASING_KEY,!0);try{window.fbq("track","Purchase",{currency:e.chargeCurrency,value:e.chargeAmount})}catch(t){console.warn("fb purchase event failed",t)}try{window.gtag("event","conversion",{send_to:"AW-794295919/I6C8CKDPrIsBEO_83_oC"})}catch(t){console.warn("google conversion event failed",t)}window._slateCriteo.trackTransaction();case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}module.exports=afterCheckout;
}, {"3":3,"17":17,"48":48,"60":60}];
window.modules["60"] = [function(require,module,exports){"use strict";function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var o,n,a=[],i=!0,c=!1;try{for(t=t.call(r);!(i=(o=t.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(r){c=!0,n=r}finally{try{i||null==t.return||t.return()}finally{if(c)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var o=0,n=function(){};return{s:n,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){c=!0,a=r},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var STORAGE_KEY="morgioni",PARAM_NAMES=["utm_medium","utm_campaign","utm_content","utm_source"];function setMorgioniProps(){if(location.search){var r=new URLSearchParams(location.search).get("redirect_uri"),e={};if(r){var t,o=_createForOfIteratorHelper(new URLSearchParams(r));try{for(o.s();!(t=o.n()).done;){var n=_slicedToArray(t.value,2),a=n[0],i=n[1];i&&PARAM_NAMES.includes(a)&&(e[a]=i)}}catch(r){o.e(r)}finally{o.f()}}if(Object.keys(e).length>0){var c=_objectSpread(_objectSpread({},getMorgioniProps()),e);try{localStorage.setItem(STORAGE_KEY,JSON.stringify(c))}catch(r){console.error("failed to store event props",r)}}}}function getMorgioniProps(){try{return JSON.parse(localStorage.getItem(STORAGE_KEY))||void 0}catch(r){console.error("failed to access event props",r)}}function removeMorgioniProps(){localStorage.removeItem(STORAGE_KEY)}module.exports={getMorgioniProps:getMorgioniProps,setMorgioniProps:setMorgioniProps,removeMorgioniProps:removeMorgioniProps};
}, {}];
window.modules["61"] = [function(require,module,exports){"use strict";function onCheckoutStateChange(t){switch(t.stateName){case"state2":window.tfaPush({notify:"subscription",name:"subscription-form-visible",sourceurl:location.href})}}module.exports=onCheckoutStateChange;
}, {}];
window.modules["62"] = [function(require,module,exports){"use strict";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function experienceExecute(e){var r=e.result.events.find(function(e){return"experienceExecute"===e.eventType});if(r){var t=r.eventExecutionContext,n=t.userSegments;if("COMPOSER1X"in n){var a={};n.COMPOSER1X.segments.forEach(function(e){var r=_slicedToArray(e.split(":"),3),t=r[0],n=r[2];t=t.toLowerCase();["ltc","lts"].includes(t)&&(a["piano_".concat(t)]=n)}),t.splitTests.length&&(a.piano_segment_id=[],a.piano_segment_name=[],t.splitTests.forEach(function(e){a.piano_segment_id.push(e.variantId),a.piano_segment_name.push(e.variantName)}));var i=new amplitude.Identify;for(var o in a)i.set(o,a[o]);amplitude.identify(i)}}}module.exports=experienceExecute;
}, {}];
window.modules["63"] = [function(require,module,exports){"use strict";function showOffer(e){window._slateCriteo.trackLandingPage()}module.exports=showOffer;
}, {}];
window.modules["64"] = [function(require,module,exports){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return O()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function h(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(E([])));g&&g!==t&&r.call(g,o)&&(d=g);var m=h.prototype=f.prototype=Object.create(d);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,c){var u=s(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,c)},function(e){n("throw",e,a,c)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=h,c(m,"constructor",h),c(h,"constructor",p),p.displayName=c(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(w.prototype),c(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},v(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,c,"next",e)}function c(e){asyncGeneratorStep(i,n,o,a,c,"throw",e)}a(void 0)})}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var profileFrame,slateAmplitude=require(17),membership=require(3),_require=require(60),getMorgioniProps=_require.getMorgioniProps,setMorgioniProps=_require.setMorgioniProps,cookies=require(35),piano=require(48),_require2=require(58),getRedirectUrl=_require2.getRedirectUrl,redirectToSpotify=_require2.redirectToSpotify;function init(){var e=window.tp;e.amplitude=slateAmplitude,e.morgioni={getMorgioniProps:getMorgioniProps,setMorgioniProps:setMorgioniProps},e.fireAmplitude=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.morgioni.setMorgioniProps();var n=_objectSpread(_objectSpread({},e.morgioni.getMorgioniProps()),r);slateAmplitude.track(t,n)},e.redirectToSpotify=redirectToSpotify,"/sign-in"===location.pathname||0===location.pathname.indexOf("/_pages/ckcwddy7w0000fhnb8lirc5ip")?signInExperience():"/create-account"!==location.pathname&&0!==location.pathname.indexOf("/_pages/ckd7owq8k00hp0mnbelmdx0lm")||createAccountExperience(),e.pianoId.isUserValid()||"/account/podcasts"!==location.pathname||addNoAccessClass(),e.pianoId.init({loggedIn:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,membership.userCookiesReady;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),loggedOut:function(e){[".local.dev.slate.com",".dev.slate.com",".stage.slate.com",".slate.com"].forEach(function(e){["__utp","splus","sp_secure_id","coral_secure_login_token"].forEach(function(t){cookies.remove(t,{domain:e})})})},profileUpdate:function(){sendUserDataToProfileFrame()}})}function addNoAccessClass(){document.body.classList.add("js-podcast-feed--no-access")}function renderScreen(e){window.tp.pianoId.show({displayMode:"inline",screen:e,containerSelector:"#createAccountOrSignIn"})}function signInExperience(){window.tp.pianoId.getUser()?location.href=getRedirectUrl()||"/":renderScreen("login")}function createAccountExperience(){window.tp.pianoId.getUser()?location.href=getRedirectUrl()||"/account":renderScreen("register")}function sendUserDataToProfileFrame(){return _sendUserDataToProfileFrame.apply(this,arguments)}function _sendUserDataToProfileFrame(){return(_sendUserDataToProfileFrame=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,piano.getExtendedUserData("attribution-menu");case 2:t=e.sent,profileFrame.source.postMessage({userData:t},profileFrame.origin);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var accountEl=document.querySelector("#account");accountEl&&window.addEventListener("message",function(e){e.data.profileReady&&null!==e.origin.match(/\btinypass\.com$/)&&(profileFrame={source:e.source,origin:e.origin},sendUserDataToProfileFrame())}),module.exports=init;
}, {"3":3,"17":17,"35":35,"48":48,"58":58,"60":60}];
window.modules["65"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(L([])));v&&v!==e&&r.call(v,o)&&(d=v);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,c(m,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var membership=require(3),_require=require(48),getCustomFieldValue=_require.getCustomFieldValue,getExtendedUserData=_require.getExtendedUserData,_require2=require(51),updateSubscriptions=_require2.updateSubscriptions,slateAmplitude=require(17),_require3=require(58),getRedirectUrl=_require3.getRedirectUrl,isSpotifyPlus=_require3.isSpotifyPlus,redirectToSpotify=_require3.redirectToSpotify;function loginSuccessHandler(t){return _loginSuccessHandler.apply(this,arguments)}function _loginSuccessHandler(){return(_loginSuccessHandler=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r,n,o,i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,membership.updateUser();case 2:if(r={},!e.registration){t.next=15;break}return slateAmplitude.track("Account: Create New",r),n=e.params.email,t.next=8,getExtendedUserData("RegistrationFields");case 8:if(o=t.sent,i=getCustomFieldValue(o,"marketing_opt_in"),!JSON.parse(i)){t.next=13;break}return t.next=13,updateSubscriptions({subscribed:["Marketing"]},n);case 13:return"PIANOID"===e.source&&(location.href=getRedirectUrl()||"/account"),t.abrupt("return");case 15:if(slateAmplitude.track("Account: Sign In",r),"PIANOID"!==e.source){t.next=27;break}return t.next=19,membership.isMember();case 19:if(t.t0=t.sent,!t.t0){t.next=22;break}t.t0=isSpotifyPlus();case 22:if(!t.t0){t.next=26;break}return t.next=25,redirectToSpotify();case 25:return t.abrupt("return");case 26:location.href=getRedirectUrl()||"/";case 27:case"end":return t.stop()}},t)}))).apply(this,arguments)}module.exports=loginSuccessHandler;
}, {"3":3,"17":17,"48":48,"51":51,"58":58}];
window.modules["68"] = [function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var STORAGE_KEY="promoline-testing",_require=require(29),toUrl=_require.toUrl;function getStorageValuePrefix(r){return toUrl(r).pathname}var storedValue=localStorage.getItem(STORAGE_KEY);if(storedValue){var prefix=getStorageValuePrefix(location.href);storedValue=0===storedValue.indexOf(prefix)?storedValue.slice(prefix.length):"",localStorage.removeItem(STORAGE_KEY)}function storeTestedPromoline(r,e){try{localStorage.setItem(STORAGE_KEY,getStorageValuePrefix(e)+r)}catch(r){console.warn("failed to store promoline testing candidate",r)}}exports.trackExperimentalPromolines=function(r){var e=_toConsumableArray(r.querySelectorAll("span[data-promoline-variant]")).find(function(r){return!r.hidden}),t=null==e?void 0:e.closest("a[href]");if(t){var o=function(r){storeTestedPromoline(e.innerText,t.href)};t.addEventListener("click",o),t.addEventListener("contextmenu",o),t.addEventListener("touchstart",o,{passive:!0})}},exports.retrieveExperimentalPromoline=function(){return storedValue};
}, {"29":29}];
window.modules["70"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.allowedTypes=void 0;var allowedTypes={leaderboard:!0,"leaderboard-tablet":!0,"mid-article-spot-mobile":!0,"mid-article-spot-tablet":!0,"mid-article-spot":!0,"mid-article-spot-xl":!0,"mid-article-box":!0,"mobile-outstream-video":!1,"outstream-video":!1,"outstream-video-xl":!1,"mobile-outstream-video-backfill":!0,"outstream-video-backfill":!0,"outstream-video-xl-backfill":!0,"rr-flex":!0,"rr-article-flex":!0,"mob-adhesion":!0,"hp-mob-mid":!0,"hp-mob-top":!0,"hp-leaderboard-mid":!0,"hp-leaderboard-mid-tablet":!0,"hp-leaderboard-bottom":!0,"hp-leaderboard-bottom-tablet":!0,"hp-native-main":!1,"hp-native-flex":!0,"rr-front-flex":!0,"mobile-front":!0,"rr-podcast":!0,"podcast-headline":!1,"mobile-only-bottom":!0,"leaderboard-mobile":!1,"hp-mob-bottom":!0,"recirc-flex-left":!0,"recirc-flex-right":!0,"recirc-mob":!0};exports.allowedTypes=allowedTypes;
}, {}];
window.modules["71"] = [function(require,module,exports){"use strict";var _require=require(1596),isElementInViewport=_require.isElementInViewport,sticky="ad--sticky-desktop",hide="ad--sticky-hide",time=3e3,leaderboard=document.querySelector(".top-ad"),leaderboardIds=["leaderboard-1","leaderboard-tablet-1"],refresh=!1,isLeaderboardSticky=!1;function unstick(e){var t=e.slot.getSlotElementId();leaderboardIds.includes(t)&&isLeaderboardSticky&&setTimeout(function(){leaderboard.classList.add(hide),done()},time)}function stick(e){var t=e.slot.getSlotElementId(),r=document.querySelector("#"+t);leaderboardIds.includes(t)&&(isElementInViewport(r)||refresh||(refresh=!0,isLeaderboardSticky=!0,leaderboard.classList.add(sticky)))}function done(){setTimeout(function(){leaderboard.classList.remove(hide),leaderboard.classList.remove(sticky),isLeaderboardSticky=!1},1e3)}module.exports.enableStickyLeaderboard=function(){window.googletag.cmd.push(function(){var e=googletag.pubads();e.addEventListener("slotOnload",function(e){return stick(e)}),e.addEventListener("impressionViewable",function(e){return unstick(e)})})};
}, {"1596":1596}];
window.modules["73"] = [function(require,module,exports){var debounce=require(55),isObject=require(1179),FUNC_ERROR_TEXT="Expected a function";function throttle(e,i,t){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return isObject(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),debounce(e,i,{leading:n,maxWait:i,trailing:r})}module.exports=throttle;
}, {"55":55,"1179":1179}];
window.modules["74"] = [function(require,module,exports){"use strict";var STORAGE_KEY="via",DELIMITER="_";function store(e){if(e.length){pageType&&e.unshift(pageType);var t=e.join(DELIMITER);try{sessionStorage.setItem(STORAGE_KEY,t)}catch(e){console.warn("failed to store via",e)}}else sessionStorage.removeItem(STORAGE_KEY)}exports.retrieve=function(){try{var e=sessionStorage.getItem(STORAGE_KEY);return sessionStorage.removeItem(STORAGE_KEY),e}catch(e){console.warn("failed to retrieve via",e)}};var pageType,PREFIXES={article:"article",homepage:"homepage","vertical front":"section","rubric front":"rubric"};function collectVias(e){var t=e.target;if(t.closest("a[href],form[action]")){var a=[];for(t=t.closest("[data-via]");t;)a.push(t.dataset.via),t=t.parentElement.closest("[data-via]");store(a)}}exports.setPageType=function(e){pageType=PREFIXES[e]},document.documentElement.addEventListener("click",collectVias),document.documentElement.addEventListener("submit",collectVias);
}, {}];
window.modules["75"] = [function(require,module,exports){"use strict";var TWA_PROTOCOL="android-app:",KEY_IS_TWA="isTrustedWebActivity",ANDROID_QUERY_PARAM="android-app",PACKAGE_NAME="com.wapo.slate.android";function isTrustedWebActivity(){var r=document.referrer&&document.referrer.trim()||"";if(0===r.length)return!1;var e=new URL(r);return e.protocol===TWA_PROTOCOL&&(e.hostname===PACKAGE_NAME||0===e.pathname.indexOf("//".concat(PACKAGE_NAME)))}function hasAndroidSearchParam(){return!!location.search&&"1"===new URLSearchParams(location.search).get(ANDROID_QUERY_PARAM)}function isAndroidSession(){if("Y"===sessionStorage.getItem(KEY_IS_TWA))return!0;var r=isTrustedWebActivity()||hasAndroidSearchParam();return r&&sessionStorage.setItem(KEY_IS_TWA,"Y"),r}module.exports.isAndroidSession=isAndroidSession;
}, {}];
window.modules["76"] = [function(require,module,exports){"use strict";var abStringRe=new RegExp("^([0-9]+)_([0-9]+)$");function parseAbTestString(e){return abStringRe.exec(e)}function isValidAbTestString(e){return!!parseAbTestString(e)}module.exports.parseAbTestString=parseAbTestString,module.exports.isValidAbTestString=isValidAbTestString;
}, {}];
window.modules["77"] = [function(require,module,exports){"use strict";var visitStart=!1;function isVisitStart(){try{return window.sessionStorage.getItem("visitstarted")||(window.sessionStorage.setItem("visitstarted","1"),visitStart=!0),visitStart}catch(t){console.error(t)}}module.exports.isVisitStart=isVisitStart;
}, {}];
window.modules["78"] = [function(require,module,exports){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).webVitals={})}(this,function(e){"use strict";var t,n,i,a,r=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},o=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},u=!1,c=function(e,t){u||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",function(){}),u=!0),addEventListener("visibilitychange",function n(i){"hidden"===document.visibilityState&&(e(i),t&&removeEventListener("visibilitychange",n,!0))},!0)},f=function(e){addEventListener("pageshow",function(t){t.persisted&&e(t)},!0)},s="function"==typeof WeakSet?new WeakSet:new Set,d=function(e,t,n){var i;return function(){t.value>=0&&(n||s.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},m=-1,p=function(){return"hidden"===document.visibilityState?0:1/0},v=function(){c(function(e){var t=e.timeStamp;m=t},!0)},l=function(){return m<0&&(m=p(),v(),f(function(){setTimeout(function(){m=p(),v()},0)})),{get timeStamp(){return m}}},y={passive:!0,capture:!0},h=new Date,S=function(e,a){t||(t=a,n=e,i=new Date,b(removeEventListener),g())},g=function(){if(n>=0&&n<i-h){var e={entryType:"first-input",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+n};a.forEach(function(t){t(e)}),a=[]}},T=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){S(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,y),removeEventListener("pointercancel",i,y)};addEventListener("pointerup",n,y),addEventListener("pointercancel",i,y)}(t,e):S(t,e)}},b=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,T,y)})};e.getCLS=function(e,t){var n,i=r("CLS",0),a=function(e){e.hadRecentInput||(i.value+=e.value,i.entries.push(e),n())},u=o("layout-shift",a);u&&(n=d(e,i,t),c(function(){u.takeRecords().map(a),n()}),f(function(){i=r("CLS",0),n=d(e,i,t)}))},e.getFCP=function(e,t){var n,i=l(),a=r("FCP"),u=o("paint",function(e){"first-contentful-paint"===e.name&&(u&&u.disconnect(),e.startTime<i.timeStamp&&(a.value=e.startTime,a.entries.push(e),s.add(a),n()))});u&&(n=d(e,a,t),f(function(i){a=r("FCP"),n=d(e,a,t),requestAnimationFrame(function(){requestAnimationFrame(function(){a.value=performance.now()-i.timeStamp,s.add(a),n()})})}))},e.getFID=function(e,i){var u,m=l(),p=r("FID"),v=function(e){e.startTime<m.timeStamp&&(p.value=e.processingStart-e.startTime,p.entries.push(e),s.add(p),u())},y=o("first-input",v);u=d(e,p,i),y&&c(function(){y.takeRecords().map(v),y.disconnect()},!0),y&&f(function(){var o;p=r("FID"),u=d(e,p,i),a=[],n=-1,t=null,b(addEventListener),o=v,a.push(o),g()})},e.getLCP=function(e,t){var n,i=l(),a=r("LCP"),u=function(e){var t=e.startTime;t<i.timeStamp&&(a.value=t,a.entries.push(e)),n()},m=o("largest-contentful-paint",u);if(m){n=d(e,a,t);var p=function(){s.has(a)||(m.takeRecords().map(u),m.disconnect(),s.add(a),n())};["keydown","click"].forEach(function(e){addEventListener(e,p,{once:!0,capture:!0})}),c(p,!0),f(function(i){a=r("LCP"),n=d(e,a,t),requestAnimationFrame(function(){requestAnimationFrame(function(){a.value=performance.now()-i.timeStamp,s.add(a),n()})})})}},e.getTTFB=function(e){var t,n=r("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},Object.defineProperty(e,"__esModule",{value:!0})});
}, {}];
window.modules["79"] = [function(require,module,exports){"use strict";var Cookies=require(35),_require=require(77),isVisitStart=_require.isVisitStart,VISIT_COOKIE_NAME="slatevisits",MONTHLY_VISIT_COOKIE_NAME="slatevisitsmon";function cookieSettings(t){var i={domain:document.documentElement.dataset.trackingdomain,secure:!0,SameSite:"Strict"};return t?Object.assign(t,i):i}function setTotalVisits(t){Cookies.set(VISIT_COOKIE_NAME,t,cookieSettings({expires:1825}))}function setMonthlyVisits(t){Cookies.set(MONTHLY_VISIT_COOKIE_NAME,t,cookieSettings({expires:30}))}function getTotalVisits(){return Cookies.get(VISIT_COOKIE_NAME)}function getMonthlyVisits(){return Cookies.get(MONTHLY_VISIT_COOKIE_NAME)}function incrementVisitCookies(){var t=getTotalVisits();setTotalVisits(t=t?parseInt(t)+1:1);var i=Cookies.get(MONTHLY_VISIT_COOKIE_NAME);setMonthlyVisits(i=i?parseInt(i)+1:1)}function getVisitCounts(){return isVisitStart()&&incrementVisitCookies(),{totalVisits:getTotalVisits()||"1",monthlyVisits:getMonthlyVisits()||"1"}}module.exports.getVisitCounts=getVisitCounts;
}, {"35":35,"77":77}];
window.modules["80"] = [function(require,module,exports){var before=require(1302);function once(e){return before(2,e)}module.exports=once;
}, {"1302":1302}];
window.modules["82"] = [function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
}, {}];
window.modules["90"] = [function(require,module,exports){var baseGet=require(1191);function get(e,t,r){var a=null==e?void 0:baseGet(e,t);return void 0===a?r:a}module.exports=get;
}, {"1191":1191}];
window.modules["92"] = [function(require,module,exports){"use strict";function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var slateAmplitude=require(17),slatePermutive=require(52);function trackShare(e){var r=e.dataset.share,t={type:r,action:e.dataset.parselyEvent};slateAmplitude.track("Clicked Social Share",t),slatePermutive.track("Social",{platform:r})}function handleSocial(e){e.preventDefault();trackShare(this),openPopupWindow(this)}function handleWebShare(e){return function(r){r.preventDefault();navigator.share&&(trackShare(this),navigator.share(e).catch(function(e){return console.log("Error sharing",e)}))}}function openPopupWindow(e){var r=e.href;window.open(r,"sharewindow","toolbar=0,status=0,width=620,height=280")}function generatePayload(e){var r={title:"Slate",text:document.title,url:e.dataset.shareUrl};return navigator.canShare&&navigator.canShare(r)?r:null}function setupShareButtons(e,r,t){var a=generatePayload(r);if(a){r.hidden=!1,r.classList.add("".concat(e,"--mobile-only"));var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){n.value.classList.add("".concat(e,"--desktop-only"))}}catch(e){o.e(e)}finally{o.f()}r.addEventListener("click",handleWebShare(a))}for(var i=0;i<t.length;i++)t[i].addEventListener("click",handleSocial)}module.exports.trackShare=trackShare,module.exports.handleSocial=handleSocial,module.exports.handleWebShare=handleWebShare,module.exports.openPopupWindow=openPopupWindow,module.exports.setupShareButtons=setupShareButtons;
}, {"17":17,"52":52}];
window.modules["96"] = [function(require,module,exports){var Module=function(){"use strict";function t(t,e){var n=new(Function.prototype.bind.apply(t,[null].concat(e)));return t.module.context[t.refName]=n,n}function e(t,e,n){var i=function(t){var e,n;for(e=0;e<t.length;e++)if((n=t[e])&&1===n.nodeType)return t[e];throw new Error("Must have element to bind controller")}(n),r=t.apply(null,e),o=new(Function.prototype.bind.apply(r,[null].concat(n)));return o.events&&function(t,e,n){var i,r,o,s,u;for(r in t)if(t.hasOwnProperty(r))if(-1===(s=r.lastIndexOf(" ")))e.addEventListener(r,n[t[r]].bind(n));else for(o=r.substring(s+1),u=e.querySelectorAll(r.substring(0,s)),i=0;i<u.length;i++)u[i].addEventListener(o,n[t[r]].bind(n))}(o.events,i,o),o}function n(t,e,n,i){var r;if("string"!=typeof n)throw new Error("Name must be a string");if("function"==typeof i?r=[]:(r=i.slice(0,i.length-1),i=i[i.length-1]),"function"!=typeof i)throw new Error("Must define function as last argument or last element of definition array");return i.refName=n,i.dependencies=r,i.module=t,i.providerStrategy=e,i}function i(t){var e,n=[],r=t.module,o=t.dependencies;for(e=0;e<o.length;e++)if(r.context[o[e]])n[e]=r.context[o[e]];else{if(!r.definitions[o[e]])throw new Error(o[e]+" not defined");n[e]=i(r.definitions[o[e]])}return t.providerStrategy(t,n,Array.prototype.slice.call(arguments,1))}var r=function(){this.definitions={},this.context={}};return r.prototype={providers:{controller:e,service:t},instantiate:i,get:function(t){if(this.context[t])return this.context[t];if(this.definitions[t]&&"function"==typeof this.definitions[t])return i.apply(this,[this.definitions[t]].concat(Array.prototype.slice.call(arguments,1)));if("undefined"!=typeof require)return i.apply(this,[n(this,e,t,require(t))].concat(Array.prototype.slice.call(arguments,1)));throw new Error(t+" is not defined")},controller:function(t,i){return this.definitions[t]=n(this,e,t,i),this},service:function(e,i){return this.definitions[e]=n(this,t,e,i),this},value:function(t,e){return this.context[t]=e,this}},r}(),DS=new Module,attach=this;void 0===this&&(attach=window),DS.value("$window",attach),DS.value("$document",attach.document),attach.DS=DS,DS.value("$module",DS),"undefined"!=typeof exports&&(module.exports=DS);
}, {}];
window.modules["97"] = [function(require,module,exports){var runtime=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(t){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function d(){}function g(){}function m(){}var w={};w[i]=function(){return this};var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}return g.prototype=b.constructor=m,m.constructor=g,g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===g||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(t){Function("r","regeneratorRuntime = r")(runtime)}
}, {}];
window.modules["98"] = [function(require,module,exports){!function(t,e,n){if("undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&"object"==typeof define.amd)define(n);else{var r=n(),i=e[t];r.noConflict=function(){return e[t]=i,r},e[t]=r}}(this.localEventifyLibraryName||"Eventify",this,function(){"use strict";var t,e={listenTo:"on",listenToOnce:"once"},n=(Array.prototype.slice,0),r=/\s+/,i=function(){return this};function s(t,e,n,i){var s,l,o,c;if(!n)return!0;if("object"==typeof n){for(s in n)n.hasOwnProperty(s)&&t[e].apply(t,[s,n[s]].concat(i));return!1}if(r.test(n)){for(l=0,o=(c=n.split(r)).length;l<o;l+=1)t[e].apply(t,[c[l]].concat(i));return!1}return!0}function l(t,e){var n,r=0,i=t.length,s=e[0],l=e[1],o=e[2];switch(e.length){case 0:for(;r<i;)(n=t[r]).callback.call(n.ctx),r+=1;return;case 1:for(;r<i;)(n=t[r]).callback.call(n.ctx,s),r+=1;return;case 2:for(;r<i;)(n=t[r]).callback.call(n.ctx,s,l),r+=1;return;case 3:for(;r<i;)(n=t[r]).callback.call(n.ctx,s,l,o),r+=1;return;default:for(;r<i;)(n=t[r]).callback.apply(n.ctx,e),r+=1}}return i.prototype={on:function(t,e,n){return s(this,"on",t,[e,n])&&e?(this._events=this._events||{},(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){var r,i,l,o,c=this;return s(this,"once",t,[e,n])&&e?(i=function(){c.off(t,r);var n=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.apply(this,n)},o=!1,(r=function(){if(o)return l;var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return o=!0,l=i.apply(this,t),i=null,l})._callback=e,this.on(t,r,n)):this},off:function(t,e,n){var r,i,l,o,c,a,f,h;if(!this._events||!s(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(c=0,a=(o=t?[t]:Object.keys(this._events)).length;c<a;c+=1)if(t=o[c],l=this._events[t]){if(this._events[t]=r=[],e||n)for(f=0,h=l.length;f<h;f+=1)i=l[f],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(){if(!this._events)return this;var t,e,n=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),r=n[0],i=n.slice(1);return s(this,"trigger",r,i)?(t=this._events[r],e=this._events.all,t&&l(t,i),e&&l(e,n),this):this},stopListening:function(t,e,n){var r,i,s=this._listeners;if(!s)return this;for(i in r=!e&&!n,"object"==typeof e&&(n=this),s={},t&&(s[t._listenerId]=t),s)s.hasOwnProperty(i)&&(s[i].off(e,n,this),r&&delete this._listeners[i]);return this}},Object.keys(e).forEach(function(t){var r=e[t];i.prototype[t]=function(t,e,i){var s=this._listeners||(this._listeners={});return t._listenerId=t._listenerId||function(t){var e=(n+=1)+"";return t?t+e:e}("l"),s[t._listenerId]=t,"object"==typeof e&&(i=this),t[r](e,i,this),this}}),(t=new i).version="2.0.0",t.enable=function(t){var e,n,r=Object.keys(i.prototype);for(t=t||{},e=0,n=r.length;e<n;e+=1)t[r[e]]=this[r[e]];return t},t.create=function(){return Object.create(i.prototype)},t.mixin=t.enable,t.proto=i.prototype,t});
}, {}];
window.modules["99"] = [function(require,module,exports){module.exports=require(1307);
}, {"1307":1307}];
window.modules["100"] = [function(require,module,exports){var arrayMap=require(1166),baseIteratee=require(1218),basePickBy=require(1244),getAllKeysIn=require(1286);function pickBy(e,r){if(null==e)return{};var a=arrayMap(getAllKeysIn(e),function(e){return[e]});return r=baseIteratee(r),basePickBy(e,a,function(e,a){return r(e,a[0])})}module.exports=pickBy;
}, {"1166":1166,"1218":1218,"1244":1244,"1286":1286}];
window.modules["101"] = [function(require,module,exports){"use strict";var bqLog=require(1595),EVENT_NAME="Ads Performance",SAMPLING=.05,eventProperties={};function sendRequest(){bqLog.track(EVENT_NAME,eventProperties),Math.random()<SAMPLING&&window.slateAmplitudeQueue.push(function(e){e.track(EVENT_NAME,eventProperties)})}function getIncrementalValue(e){var t,n=convertToCents(e[0].cpm);1===e.length?t=n:t=n-convertToCents(e[1].cpm);return convertToDollars(t)}function sortBids(e){return e.sort(function(e,t){return e.cpm<t.cpm?1:-1})}function convertToCents(e){return Math.round(100*e)}function convertToDollars(e){return e/100}function roundCpm(e){return Math.round(100*e)/100}module.exports.leaderboardRequest=function(e){eventProperties.timeToLeaderboardRequest=e},module.exports.firstRequest=function(e){eventProperties.timeToFirstAdRequest=e},module.exports.firstAdLoaded=function(e,t){eventProperties.timeToFirstAdLoad=e,eventProperties.campaignId=t,sendRequest()},module.exports.prebidWinner=function(e){var t=sortBids(e),n=t[0];bqLog.track("Prebid Winning Bid",{bidder:n.bidder,cpm:roundCpm(n.cpm),adUnit:n.adUnitCode,incrementalValue:getIncrementalValue(t),indexDisabled:window.tests.disable_index})};
}, {"1595":1595}];
window.modules["102"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==e&&r.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,i,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(v),c(v,a,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var _require=require(3),getUserEmail=_require.getUserEmail,_require2=require(54),hash=_require2.hash;module.exports.zoneIds={leaderboard:"1157134","leaderboard-tablet":"1157133","mid-article-spot-mobile":"1157131","hp-mob-mid":"1157131","hp-mob-top":"1157131","mobile-outstream-video-backfill":"1157131","mobile-only-bottom":"1157131","hp-mob-bottom":"1157131","recirc-mob":"1157131","mid-article-spot-tablet":"1157133","mid-article-spot":"1157134","mid-article-spot-xl":"1157134","outstream-video-backfill":"1157134","outstream-video-xl-backfill":"1157134","mid-article-box":"1157131","hp-native-flex":"1157131","rr-flex":"1157132","rr-article-flex":"1157132","recirc-flex-left":"1157132","recirc-flex-right":"1157132","mobile-front":"1157131","rr-podcast":"1157131","rr-front-flex":"1157132","hp-leaderboard-mid":"1157134","hp-leaderboard-mid-tablet":"1157133","hp-leaderboard-bottom":"1157134","hp-leaderboard-bottom-tablet":"1157133","mob-adhesion":"1362447"},module.exports.syncEmail=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=getUserEmail()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,hash(e,"hex");case 5:if(r=t.sent){t.next=8;break}return t.abrupt("return");case 8:pbjs.que.push(function(){pbjs.setBidderConfig({bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source:"slate.com",uids:[{id:r,atype:3,ext:{stype:"hemsha256"}}]}]}}}}}})});case 9:case"end":return t.stop()}},t)}));
}, {"3":3,"54":54}];
window.modules["103"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inventoryCodes=void 0;var inventoryCodes={leaderboard:"slate_d_leaderboard_pb","leaderboard-tablet":"slate_d_leaderboard_pb","mid-article-spot-mobile":"slate_m_infeedrec_pb","hp-mob-mid":"slate_m_infeedrec_pb","hp-mob-top":"slate_m_infeedrec_pb","mobile-outstream-video-backfill":"slate_m_infeedrec_pb","mobile-only-bottom":"slate_m_infeedrec_pb","hp-mob-bottom":"slate_m_infeedrec_pb","recirc-mob":"slate_m_infeedrec_pb","mob-adhesion":"slate_320x50_hdx_prebid","mid-article-spot-tablet":"slate_d_leaderboard_inline_pb","mid-article-spot":"slate_d_leaderboard_inline_pb","mid-article-spot-xl":"slate_d_leaderboard_inline_pb","outstream-video-backfill":"slate_d_leaderboard_inline_pb","outstream-video-xl-backfill":"slate_d_leaderboard_inline_pb","mid-article-box":"slate_dm_inline_rec_pb","hp-native-flex":"slate_dm_inline_rec_pb","rr-flex":"slate_d_rrail_largerec_pb","rr-article-flex":"slate_d_rrail_largerec_pb","recirc-flex-left":"slate_d_rrail_largerec_pb","recirc-flex-right":"slate_d_rrail_largerec_pb","mobile-front":"Slate_NonArticle_Mobile_Prebid","rr-podcast":"Slate_NonArticle_Mobile_Prebid","rr-front-flex":"Slate_NonArticle_Desktop_Prebid","hp-leaderboard-mid":"Slate_NonArticle_Desktop_Prebid","hp-leaderboard-mid-tablet":"Slate_NonArticle_Desktop_Prebid","hp-leaderboard-bottom":"Slate_NonArticle_Desktop_Prebid","hp-leaderboard-bottom-tablet":"Slate_NonArticle_Desktop_Prebid"};exports.inventoryCodes=inventoryCodes;
}, {}];
window.modules["104"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.domain=void 0,exports.getUnit=getUnit;var domain="slate-d.openx.net";function getUnit(){var e;switch(window.location.href.split("/")[3]){case"news-and-politics":e="557570604";break;case"culture":e="557570603";break;case"technology":e="557570606";break;case"business":e="557570607";break;case"human-interest":e="557570605";break;case"":e="557570601";break;default:e="557570602"}return e}exports.domain=domain;
}, {}];
window.modules["105"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adSlot=adSlot,exports.publisherId=void 0;var publisherId="161864";function adSlot(){var e;switch(window.location.href.split("/")[3]){case"news-and-politics":e="4456585";break;case"culture":e="4456584";break;case"technology":e="4456587";break;case"business":e="4456588";break;case"human-interest":e="4456586";break;case"":e="4456582";break;default:e="4456583"}return e}exports.publisherId=publisherId;
}, {}];
window.modules["106"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sizes=void 0;var sizes={leaderboard:[[970,250],[970,90],[728,90]],"leaderboard-tablet":[[728,90]],"mid-article-spot-mobile":[[300,250]],"hp-mob-mid":[[300,250]],"hp-mob-top":[[300,250]],"mobile-outstream-video-backfill":[[300,250]],"mobile-only-bottom":[[300,250]],"hp-mob-bottom":[[300,250]],"recirc-mob":[[300,250]],"mid-article-spot-tablet":[[728,90],[300,250]],"mid-article-spot":[[970,250],[970,90],[728,90],[300,250]],"mid-article-spot-xl":[[970,250],[970,90],[728,90],[300,250]],"outstream-video-backfill":[[970,250],[970,90],[728,90],[300,250]],"outstream-video-xl-backfill":[[970,250],[970,90],[728,90],[300,250]],"mid-article-box":[[300,250]],"hp-native-flex":[[300,250]],"rr-flex":[[300,250],[300,600],[160,600]],"rr-article-flex":[[300,250],[300,600],[160,600]],"recirc-flex-left":[[300,250],[300,600],[160,600]],"recirc-flex-right":[[300,250],[300,600],[160,600]],"mobile-front":[[300,250]],"rr-podcast":[[300,250]],"rr-front-flex":[[300,250],[300,600],[160,600]],"hp-leaderboard-mid":[[970,250],[970,90],[728,90]],"hp-leaderboard-mid-tablet":[[728,90]],"hp-leaderboard-bottom":[[970,250],[970,90],[728,90]],"hp-leaderboard-bottom-tablet":[[728,90]],"mob-adhesion":[[320,50]]};exports.sizes=sizes;
}, {}];
window.modules["107"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.placementIds=void 0;var placementIds={"mob-adhesion":"_mBJrAZ6WvF",leaderboard:"_mn5P4mLiWZ","hp-leaderboard-mid":"_mn5P4mLiWZ","hp-leaderboard-bottom":"_mn5P4mLiWZ","leaderboard-tablet":"_vFXQXj3ivh","hp-leaderboard-mid-tablet":"_vFXQXj3ivh","hp-leaderboard-bottom-tablet":"_vFXQXj3ivh","mid-article-spot-mobile":"_uG77kNNswo","hp-mob-mid":"_uG77kNNswo","hp-mob-top":"_uG77kNNswo","mobile-outstream-video-backfill":"_uG77kNNswo","mobile-only-bottom":"_uG77kNNswo","hp-mob-bottom":"_uG77kNNswo","recirc-mob":"_uG77kNNswo","mobile-front":"_uG77kNNswo","mid-article-spot-tablet":"_phl6yqtyoC","mid-article-spot":"_phl6yqtyoC","mid-article-spot-xl":"_phl6yqtyoC","outstream-video-backfill":"_phl6yqtyoC","outstream-video-xl-backfill":"_phl6yqtyoC","mid-article-box":"_phl6yqtyoC","hp-native-flex":"_phl6yqtyoC","rr-podcast":"_phl6yqtyoC","rr-flex":"_g4BCn53GiZ","rr-article-flex":"_g4BCn53GiZ","recirc-flex-left":"_g4BCn53GiZ","recirc-flex-right":"_g4BCn53GiZ","rr-front-flex":"_g4BCn53GiZ"};exports.placementIds=placementIds;
}, {}];
window.modules["108"] = [function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPlacementId=getPlacementId,exports.siteId=void 0;var siteId="8a9691a701828264e2266bbeb2fe04a4";function getPlacementId(){var e;switch(window.location.href.split("/")[3]){case"news-and-politics":e="8a969d2d01828264dcb66bbf78d804f7";break;case"culture":e="8a9691a701828264e2266bbf3c2104a8";break;case"technology":e="8a969d2d01828264dcb66bbfc87104f9";break;case"business":e="8a969d2d01828264dcb66bbfea8c04fa";break;case"human-interest":e="8a969d2d01828264dcb66bbfa49d04f8";break;case"":e="8a9691a701828264e2266bbef84204a6";break;default:e="8a9691a701828264e2266bbf1a2504a7"}return e}exports.siteId=siteId;
}, {}];
window.modules["109"] = [function(require,module,exports){!function(t,e){var i=function(t,e){"use strict";if(!e.getElementsByClassName)return;var i,n,a=e.documentElement,r=t.Date,s=t.HTMLPictureElement,o=t.addEventListener,l=t.setTimeout,d=t.requestAnimationFrame||l,c=t.requestIdleCallback,u=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,z=function(t,e){return m[e]||(m[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),m[e].test(t.getAttribute("class")||"")&&m[e]},v=function(t,e){z(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},y=function(t,e){var i;(i=z(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(i," "))},h=function(t,e,i){var n=i?"addEventListener":"removeEventListener";i&&h(t,e),f.forEach(function(i){t[n](i,e)})},b=function(t,n,a,r,s){var o=e.createEvent("Event");return a||(a={}),a.instance=i,o.initEvent(n,!r,!s),o.detail=a,t.dispatchEvent(o),o},p=function(e,i){var a;!s&&(a=t.picturefill||n.pf)?(i&&i.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",i.src),a({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},A=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,i){for(i=i||t.offsetWidth;i<n.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},E=(L=[],x=[],W=L,T=function(){var t=W;for(W=L.length?x:L,M=!0,N=!1;t.length;)t.shift()();M=!1},B=function(t,i){M&&!i?t.apply(this,arguments):(W.push(t),N||(N=!0,(e.hidden?l:d)(T)))},B._lsFlush=T,B),_=function(t,e){return e?function(){E(t)}:function(){var e=this,i=arguments;E(function(){t.apply(e,i)})}},w=function(t){var e,i,n=function(){e=null,t()},a=function(){var t=r.now()-i;t<99?l(a,99-t):(c||n)(n)};return function(){i=r.now(),e||(e=l(a,99))}};var M,N,L,x,W,T,B;!function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in n=t.lazySizesConfig||t.lazysizesConfig||{},i)e in n||(n[e]=i[e]);t.lazySizesConfig=n,l(function(){n.init&&R()})}();var F=function(){var s,d,f,m,C,M,N,L,x,W,T,B,F,R,k,D,H,O,P,$=/^img$/i,I=/^iframe$/i,q="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),j=0,G=0,J=-1,K=function(t){G--,(!t||G<0||!t.target)&&(G=0)},Q=function(t){return null==B&&(B="hidden"==A(e.body,"visibility")),B||"hidden"!=A(t.parentNode,"visibility")&&"hidden"!=A(t,"visibility")},U=function(t,i){var n,r=t,s=Q(t);for(L-=i,T+=i,x-=i,W+=i;s&&(r=r.offsetParent)&&r!=e.body&&r!=a;)(s=(A(r,"opacity")||1)>0)&&"visible"!=A(r,"overflow")&&(n=r.getBoundingClientRect(),s=W>n.left&&x<n.right&&T>n.top-1&&L<n.bottom+1);return s},V=function(){var t,r,o,l,c,u,f,g,z,v,y,h,b=i.elements;if((m=n.loadMode)&&G<8&&(t=b.length)){for(r=0,J++,v=!n.expand||n.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:n.expand,i._defEx=v,y=v*n.expFactor,h=n.hFac,B=null,j<y&&G<1&&J>2&&m>2&&!e.hidden?(j=y,J=0):j=m>1&&J>1&&G<6?v:0;r<t;r++)if(b[r]&&!b[r]._lazyRace)if(q)if((g=b[r].getAttribute("data-expand"))&&(u=1*g)||(u=j),z!==u&&(M=innerWidth+u*h,N=innerHeight+u,f=-1*u,z=u),o=b[r].getBoundingClientRect(),(T=o.bottom)>=f&&(L=o.top)<=N&&(W=o.right)>=f*h&&(x=o.left)<=M&&(T||W||x||L)&&(n.loadHidden||Q(b[r]))&&(d&&G<3&&!g&&(m<3||J<4)||U(b[r],u))){if(nt(b[r]),c=!0,G>9)break}else!c&&d&&!l&&G<4&&J<4&&m>2&&(s[0]||n.preloadAfterLoad)&&(s[0]||!g&&(T||W||x||L||"auto"!=b[r].getAttribute(n.sizesAttr)))&&(l=s[0]||b[r]);else nt(b[r]);l&&!c&&nt(l)}},X=(F=V,k=0,D=n.throttleDelay,H=n.ricTimeout,O=function(){R=!1,k=r.now(),F()},P=c&&H>49?function(){c(O,{timeout:H}),H!==n.ricTimeout&&(H=n.ricTimeout)}:_(function(){l(O)},!0),function(t){var e;(t=!0===t)&&(H=33),R||(R=!0,(e=D-(r.now()-k))<0&&(e=0),t||e<9?P():l(P,e))}),Y=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(K(t),v(e,n.loadedClass),y(e,n.loadingClass),h(e,tt),b(e,"lazyloaded"))},Z=_(Y),tt=function(t){Z({target:t.target})},et=function(t){var e,i=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},it=_(function(t,e,i,a,r){var s,o,d,c,m,z;(m=b(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(i?v(t,n.autosizesClass):t.setAttribute("sizes",a)),o=t.getAttribute(n.srcsetAttr),s=t.getAttribute(n.srcAttr),r&&(d=t.parentNode,c=d&&u.test(d.nodeName||"")),z=e.firesLoad||"src"in t&&(o||s||c),m={target:t},v(t,n.loadingClass),z&&(clearTimeout(f),f=l(K,2500),h(t,tt,!0)),c&&g.call(d.getElementsByTagName("source"),et),o?t.setAttribute("srcset",o):s&&!c&&(I.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}}(t,s):t.src=s),r&&(o||c)&&p(t,{src:s})),t._lazyRace&&delete t._lazyRace,y(t,n.lazyClass),E(function(){var e=t.complete&&t.naturalWidth>1;z&&!e||(e&&v(t,"ls-is-cached"),Y(m),t._lazyCache=!0,l(function(){"_lazyCache"in t&&delete t._lazyCache},9))},!0)}),nt=function(t){var e,i=$.test(t.nodeName),a=i&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==a;(!r&&d||!i||!t.getAttribute("src")&&!t.srcset||t.complete||z(t,n.errorClass)||!z(t,n.lazyClass))&&(e=b(t,"lazyunveilread").detail,r&&S.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,G++,it(t,e,r,a,i))},at=function(){if(!d)if(r.now()-C<999)l(at,999);else{var t=w(function(){n.loadMode=3,X()});d=!0,n.loadMode=3,X(),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){C=r.now(),i.elements=e.getElementsByClassName(n.lazyClass),s=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),o("scroll",X,!0),o("resize",X,!0),t.MutationObserver?new MutationObserver(X).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",X,!0),a.addEventListener("DOMAttrModified",X,!0),setInterval(X,999)),o("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,X,!0)}),/d$|^c/.test(e.readyState)?at():(o("load",at),e.addEventListener("DOMContentLoaded",X),l(at,2e4)),i.elements.length?(V(),E._lsFlush()):X()},checkElems:X,unveil:nt}}(),S=(D=_(function(t,e,i,n){var a,r,s;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),u.test(e.nodeName||""))for(a=e.getElementsByTagName("source"),r=0,s=a.length;r<s;r++)a[r].setAttribute("sizes",n);i.detail.dataAttr||p(t,i.detail)}),H=function(t,e,i){var n,a=t.parentNode;a&&(i=C(t,a,i),(n=b(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&D(t,a,n,i))},O=w(function(){var t,e=k.length;if(e)for(t=0;t<e;t++)H(k[t])}),{_:function(){k=e.getElementsByClassName(n.autosizesClass),o("resize",O)},checkElems:O,updateElem:H}),R=function(){R.i||(R.i=!0,S._(),F._())};var k,D,H,O;return i={cfg:n,autoSizer:S,loader:F,init:R,uP:p,aC:v,rC:y,hC:z,fire:b,gW:C,rAF:E}}(t,t.document);t.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window);
}, {}];
window.modules["110"] = [function(require,module,exports){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Layzr=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=f(),r=void 0,i=void 0,o=void 0,c={normal:e.normal||"data-normal",retina:e.retina||"data-retina",srcset:e.srcset||"data-srcset",threshold:e.threshold||0},s=document.body.classList.contains("srcset")||"srcset"in document.createElement("img"),u=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.create(null);function r(t,e){return n[t]=n[t]||[],n[t].push(e),this}function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?n[t].splice(n[t].indexOf(e),1):delete n[t],this}return t({},e,{on:r,once:function(t,e){return e._once=!0,r(t,e),this},off:i,emit:function(t){for(var e=this,r=arguments.length,o=Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];var s=n[t]&&n[t].slice();return s&&s.forEach(function(n){n._once&&i(t,n),n.apply(e,o)}),this}})}({handlers:function(t){var e=t?"addEventListener":"removeEventListener";return["scroll","resize"].forEach(function(t){return window[e](t,l)}),this},check:h,update:v});return a;function f(){return window.scrollY||window.pageYOffset}function l(){n=f(),r||(window.requestAnimationFrame(function(){return h()}),r=!0)}function d(t){var e=n,r=e+o,i=function(t){return t.getBoundingClientRect().top+n}(t),s=i+t.offsetHeight,u=c.threshold/100*o;return s>=e-u&&i<=r+u}function h(){return o=window.innerHeight,i.forEach(function(t){return d(t)&&function(t){if(a.emit("src:before",t),s&&t.hasAttribute(c.srcset))t.setAttribute("srcset",t.getAttribute(c.srcset));else{var e=u>1&&t.getAttribute(c.retina);t.setAttribute("src",e||t.getAttribute(c.normal))}a.emit("src:after",t),[c.normal,c.retina,c.srcset].forEach(function(e){return t.removeAttribute(e)}),v()}(t)}),r=!1,this}function v(){return i=Array.prototype.slice.call(document.querySelectorAll("["+c.normal+"]")),this}}});
}, {}];
window.modules["143"] = [function(require,module,exports){var MapCache=require(1136),FUNC_ERROR_TEXT="Expected a function";function memoize(e,a){if("function"!=typeof e||null!=a&&"function"!=typeof a)throw new TypeError(FUNC_ERROR_TEXT);var c=function(){var r=arguments,t=a?a.apply(this,r):r[0],n=c.cache;if(n.has(t))return n.get(t);var o=e.apply(this,r);return c.cache=n.set(t,o)||n,o};return c.cache=new(memoize.Cache||MapCache),c}memoize.Cache=MapCache,module.exports=memoize;
}, {"1136":1136}];
window.modules["216"] = [function(require,module,exports){}, {}];
window.modules["256"] = [function(require,module,exports){}, {}];
window.modules["1114"] = [function(require,module,exports){(function (process){(function (){
!function(n){"use strict";var e,t=n.jsonpClient,o="undefined"!=typeof process?process.browser:"undefined"!=typeof window,r=/[\\?|&]callback=([a-z0-9_]+)/i,i=function(){var n,t,o,r,i=Array.prototype.slice.apply(arguments),a=i.slice(0,-1),l=0,c=[];try{if("function"!=typeof(n=i.slice(-1)[0]))throw new Error("Callback not found")}catch(n){throw new Error("jsonpClient expects a callback")}for("string"!=typeof a[0]&&(a=a[0]),r=function(){var e=0;for(c=c.sort(function(n,e){return n.position>e.position}),e=0;c.length>e;e+=1)c[e]=c[e].data;c.unshift(null),n.apply(null,c)},o=function(o,i){e(a[l],function(e,o){if(!t){if(t=e,e)return n(e);c.push({data:o,position:i}),c.length===a.length&&r()}})},l=0;a.length>l;l+=1)o(a[l],l)};i.noConflict=function(){return n.jsonpClient=t,i},e=o?function(){var n,e,t=document.getElementsByTagName("head")[0];return e=function(n,e){var o=document.createElement("script"),r=!1;o.src=n,o.async=!0,o.onload=o.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,o.onload=o.onreadystatechange=null,o&&o.parentNode&&o.parentNode.removeChild(o),e())},t.appendChild(o)},n=function(n,e){var t=n.match(r);if(!t)return e(new Error("Could not find callback on URL"));e(null,t[1])},function(t,o){n(t,function(n,r){var i,a=window[r];if(n)return o(n);window[r]=function(n){i=n},e(t,function(n){if(n||i||(n=new Error("Calling to "+r+" did not returned a JSON response.Make sure the callback "+r+" exists and is properly formatted.")),a)window[r]=a;else try{delete window[r]}catch(n){window[r]=void 0}o(n,i)})})}}():require(1115),"undefined"!=typeof module&&module.exports?module.exports=i:n.jsonpClient=i}(this);

}).call(this)}).call(this,require(82))}, {"82":82,"1115":1115}];
window.modules["1115"] = [function(require,module,exports){(function (process,global){(function (){
"use strict";var evalJsonp,parseJsonp,evalOrParseJavascript,fetchRemoteJsonp,fetchUrl,fetchLocalJsonp,request=require(256),vm=require(1116),fs=require(216),parensRegex=/(^\(|\);?\s*$)/,functionRegex=/^[a-z\d_]*\(/i,functionNameRegex=/([\w\d_]*)\(/,enableLocalFileSupport="test"===window.process.env.NODE_ENV||window.process.env.JSONP_CLIENT_ENABLE_LOCAL_SUPPORT;if("test"===window.process.env.NODE_ENV&&window.process.env.SUPERAGENT_MOCK){var mockConfig=global.superAgentMockConfig||require(window.process.env.SUPERAGENT_MOCK);require(256)(request,mockConfig)}parseJsonp=function(e,t){var r,n,o=null;try{r=e.replace(functionRegex,"").replace(parensRegex,""),n=JSON.parse(r)}catch(e){o=e}t(o,n)},evalJsonp=function(e,t){var r,n;e=(e||"")+"",r=vm.createContext({error:null,cbData:null}),n="function "+(e.match(functionNameRegex)||[null,!1])[1]+" (data) { cbData = data }  try { "+e+" } catch(e) { error = e;} ";try{vm.runInContext(n,r)}catch(e){t(new Error(e))}if(r.error)return t(new Error(r.error));t(null,r.cbData)},evalOrParseJavascript=function(e,t){e=e.toString(),parseJsonp(e,function(r,n){if(r)return evalJsonp(e,function(e,r){t(e,r)});t(r,n)})},fetchUrl=function(e,t){request.get(e).buffer(!0).accept("application/javascript").parse(function(e,t){e.text="",e.setEncoding("utf8"),e.on("data",function(t){e.text=e.text+t}),e.on("end",t)}).end(function(r,n){!r&&n&&n.status&&n.status>=400&&(r=new Error("Could not fetch url "+e+", with status "+(n&&n.status||"unknown")+". Got error: "+(r&&r.message)+".")),t(r,n&&n.text||"cb({})")})},fetchRemoteJsonp=function(e,t){fetchUrl(e,function(e,r){if(e)return t(e);evalOrParseJavascript(r,t)})},fetchLocalJsonp=enableLocalFileSupport?function(e,t){e=e.split("?")[0],fs.readFile(e,function(e,r){if(e)return t(e);evalOrParseJavascript(r,t)})}:fetchRemoteJsonp,module.exports=function(e,t){e.match(/^http/)?fetchRemoteJsonp(e,t):fetchLocalJsonp(e,t)};

}).call(this)}).call(this,require(82),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})}, {"82":82,"216":216,"256":256,"1116":1116}];
window.modules["1116"] = [function(require,module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var c=Object_keys(n),i=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t};
}, {}];
window.modules["1120"] = [function(require,module,exports){var getNative=require(1121),root=require(1122),DataView=getNative(root,"DataView");module.exports=DataView;
}, {"1121":1121,"1122":1122}];
window.modules["1121"] = [function(require,module,exports){var baseIsNative=require(1212),getValue=require(1290);function getNative(e,a){var t=getValue(e,a);return baseIsNative(t)?t:void 0}module.exports=getNative;
}, {"1212":1212,"1290":1290}];
window.modules["1122"] = [function(require,module,exports){var freeGlobal=require(1284),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root;
}, {"1284":1284}];
window.modules["1123"] = [function(require,module,exports){var hashClear=require(1128),hashDelete=require(1124),hashGet=require(1125),hashHas=require(1127),hashSet=require(1126);function Hash(e){var h=-1,a=null==e?0:e.length;for(this.clear();++h<a;){var s=e[h];this.set(s[0],s[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash;
}, {"1124":1124,"1125":1125,"1126":1126,"1127":1127,"1128":1128}];
window.modules["1124"] = [function(require,module,exports){function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}module.exports=hashDelete;
}, {}];
window.modules["1125"] = [function(require,module,exports){var nativeCreate=require(1296),HASH_UNDEFINED="__lodash_hash_undefined__",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var r=t[e];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty.call(t,e)?t[e]:void 0}module.exports=hashGet;
}, {"1296":1296}];
window.modules["1126"] = [function(require,module,exports){var nativeCreate=require(1296),HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}module.exports=hashSet;
}, {"1296":1296}];
window.modules["1127"] = [function(require,module,exports){var nativeCreate=require(1296),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty.call(t,e)}module.exports=hashHas;
}, {"1296":1296}];
window.modules["1128"] = [function(require,module,exports){var nativeCreate=require(1296);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}module.exports=hashClear;
}, {"1296":1296}];
window.modules["1129"] = [function(require,module,exports){var listCacheClear=require(1130),listCacheDelete=require(1131),listCacheGet=require(1134),listCacheHas=require(1133),listCacheSet=require(1132);function ListCache(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache;
}, {"1130":1130,"1131":1131,"1132":1132,"1133":1133,"1134":1134}];
window.modules["1130"] = [function(require,module,exports){function listCacheClear(){this.__data__=[],this.size=0}module.exports=listCacheClear;
}, {}];
window.modules["1131"] = [function(require,module,exports){var assocIndexOf=require(1176),arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var r=this.__data__,a=assocIndexOf(r,e);return!(a<0)&&(a==r.length-1?r.pop():splice.call(r,a,1),--this.size,!0)}module.exports=listCacheDelete;
}, {"1176":1176}];
window.modules["1132"] = [function(require,module,exports){var assocIndexOf=require(1176);function listCacheSet(s,e){var t=this.__data__,a=assocIndexOf(t,s);return a<0?(++this.size,t.push([s,e])):t[a][1]=e,this}module.exports=listCacheSet;
}, {"1176":1176}];
window.modules["1133"] = [function(require,module,exports){var assocIndexOf=require(1176);function listCacheHas(s){return assocIndexOf(this.__data__,s)>-1}module.exports=listCacheHas;
}, {"1176":1176}];
window.modules["1134"] = [function(require,module,exports){var assocIndexOf=require(1176);function listCacheGet(e){var s=this.__data__,a=assocIndexOf(s,e);return a<0?void 0:s[a][1]}module.exports=listCacheGet;
}, {"1176":1176}];
window.modules["1135"] = [function(require,module,exports){var getNative=require(1121),root=require(1122),Map=getNative(root,"Map");module.exports=Map;
}, {"1121":1121,"1122":1122}];
window.modules["1136"] = [function(require,module,exports){var mapCacheClear=require(1141),mapCacheDelete=require(1140),mapCacheGet=require(1137),mapCacheHas=require(1138),mapCacheSet=require(1139);function MapCache(e){var a=-1,p=null==e?0:e.length;for(this.clear();++a<p;){var t=e[a];this.set(t[0],t[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache;
}, {"1137":1137,"1138":1138,"1139":1139,"1140":1140,"1141":1141}];
window.modules["1137"] = [function(require,module,exports){var getMapData=require(1288);function mapCacheGet(a){return getMapData(this,a).get(a)}module.exports=mapCacheGet;
}, {"1288":1288}];
window.modules["1138"] = [function(require,module,exports){var getMapData=require(1288);function mapCacheHas(a){return getMapData(this,a).has(a)}module.exports=mapCacheHas;
}, {"1288":1288}];
window.modules["1139"] = [function(require,module,exports){var getMapData=require(1288);function mapCacheSet(e,a){var t=getMapData(this,e),i=t.size;return t.set(e,a),this.size+=t.size==i?0:1,this}module.exports=mapCacheSet;
}, {"1288":1288}];
window.modules["1140"] = [function(require,module,exports){var getMapData=require(1288);function mapCacheDelete(e){var a=getMapData(this,e).delete(e);return this.size-=a?1:0,a}module.exports=mapCacheDelete;
}, {"1288":1288}];
window.modules["1141"] = [function(require,module,exports){var Hash=require(1123),ListCache=require(1129),Map=require(1135);function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear;
}, {"1123":1123,"1129":1129,"1135":1135}];
window.modules["1142"] = [function(require,module,exports){var getNative=require(1121),root=require(1122),Promise=getNative(root,"Promise");module.exports=Promise;
}, {"1121":1121,"1122":1122}];
window.modules["1143"] = [function(require,module,exports){var getNative=require(1121),root=require(1122),Set=getNative(root,"Set");module.exports=Set;
}, {"1121":1121,"1122":1122}];
window.modules["1144"] = [function(require,module,exports){var MapCache=require(1136),setCacheAdd=require(1145),setCacheHas=require(1146);function SetCache(e){var a=-1,t=null==e?0:e.length;for(this.__data__=new MapCache;++a<t;)this.add(e[a])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache;
}, {"1136":1136,"1145":1145,"1146":1146}];
window.modules["1145"] = [function(require,module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(_){return this.__data__.set(_,HASH_UNDEFINED),this}module.exports=setCacheAdd;
}, {}];
window.modules["1146"] = [function(require,module,exports){function setCacheHas(a){return this.__data__.has(a)}module.exports=setCacheHas;
}, {}];
window.modules["1147"] = [function(require,module,exports){var ListCache=require(1129),stackClear=require(1151),stackDelete=require(1148),stackGet=require(1149),stackHas=require(1150),stackSet=require(1152);function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack;
}, {"1129":1129,"1148":1148,"1149":1149,"1150":1150,"1151":1151,"1152":1152}];
window.modules["1148"] = [function(require,module,exports){function stackDelete(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}module.exports=stackDelete;
}, {}];
window.modules["1149"] = [function(require,module,exports){function stackGet(t){return this.__data__.get(t)}module.exports=stackGet;
}, {}];
window.modules["1150"] = [function(require,module,exports){function stackHas(a){return this.__data__.has(a)}module.exports=stackHas;
}, {}];
window.modules["1151"] = [function(require,module,exports){var ListCache=require(1129);function stackClear(){this.__data__=new ListCache,this.size=0}module.exports=stackClear;
}, {"1129":1129}];
window.modules["1152"] = [function(require,module,exports){var ListCache=require(1129),Map=require(1135),MapCache=require(1136),LARGE_ARRAY_SIZE=200;function stackSet(e,a){var t=this.__data__;if(t instanceof ListCache){var i=t.__data__;if(!Map||i.length<LARGE_ARRAY_SIZE-1)return i.push([e,a]),this.size=++t.size,this;t=this.__data__=new MapCache(i)}return t.set(e,a),this.size=t.size,this}module.exports=stackSet;
}, {"1129":1129,"1135":1135,"1136":1136}];
window.modules["1153"] = [function(require,module,exports){var root=require(1122),Symbol=root.Symbol;module.exports=Symbol;
}, {"1122":1122}];
window.modules["1154"] = [function(require,module,exports){var root=require(1122),Uint8Array=root.Uint8Array;module.exports=Uint8Array;
}, {"1122":1122}];
window.modules["1155"] = [function(require,module,exports){var getNative=require(1121),root=require(1122),WeakMap=getNative(root,"WeakMap");module.exports=WeakMap;
}, {"1121":1121,"1122":1122}];
window.modules["1157"] = [function(require,module,exports){function arrayEach(r,a){for(var n=-1,e=null==r?0:r.length;++n<e&&!1!==a(r[n],n,r););return r}module.exports=arrayEach;
}, {}];
window.modules["1158"] = [function(require,module,exports){function arrayFilter(r,a){for(var e=-1,l=null==r?0:r.length,t=0,n=[];++e<l;){var o=r[e];a(o,e,r)&&(n[t++]=o)}return n}module.exports=arrayFilter;
}, {}];
window.modules["1159"] = [function(require,module,exports){var baseTimes=require(1165),isArguments=require(1160),isArray=require(1161),isBuffer=require(1164),isIndex=require(1162),isTypedArray=require(1163),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(e,r){var s=isArray(e),i=!s&&isArguments(e),t=!s&&!i&&isBuffer(e),a=!s&&!i&&!t&&isTypedArray(e),n=s||i||t||a,y=n?baseTimes(e.length,String):[],u=y.length;for(var o in e)!r&&!hasOwnProperty.call(e,o)||n&&("length"==o||t&&("offset"==o||"parent"==o)||a&&("buffer"==o||"byteLength"==o||"byteOffset"==o)||isIndex(o,u))||y.push(o);return y}module.exports=arrayLikeKeys;
}, {"1160":1160,"1161":1161,"1162":1162,"1163":1163,"1164":1164,"1165":1165}];
window.modules["1160"] = [function(require,module,exports){var baseIsArguments=require(1203),isObjectLike=require(1204),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};module.exports=isArguments;
}, {"1203":1203,"1204":1204}];
window.modules["1161"] = [function(require,module,exports){var isArray=Array.isArray;module.exports=isArray;
}, {}];
window.modules["1162"] = [function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,n){var r=typeof e;return!!(n=null==n?MAX_SAFE_INTEGER:n)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<n}module.exports=isIndex;
}, {}];
window.modules["1163"] = [function(require,module,exports){var baseIsTypedArray=require(1216),baseUnary=require(1259),nodeUtil=require(1298),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray;
}, {"1216":1216,"1259":1259,"1298":1298}];
window.modules["1164"] = [function(require,module,exports){var root=require(1122),stubFalse=require(1315),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer;
}, {"1122":1122,"1315":1315}];
window.modules["1165"] = [function(require,module,exports){function baseTimes(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}module.exports=baseTimes;
}, {}];
window.modules["1166"] = [function(require,module,exports){function arrayMap(r,a){for(var n=-1,e=null==r?0:r.length,l=Array(e);++n<e;)l[n]=a(r[n],n,r);return l}module.exports=arrayMap;
}, {}];
window.modules["1167"] = [function(require,module,exports){function arrayPush(r,a){for(var e=-1,n=a.length,t=r.length;++e<n;)r[t+e]=a[e];return r}module.exports=arrayPush;
}, {}];
window.modules["1169"] = [function(require,module,exports){function arraySome(r,e){for(var n=-1,o=null==r?0:r.length;++n<o;)if(e(r[n],n,r))return!0;return!1}module.exports=arraySome;
}, {}];
window.modules["1173"] = [function(require,module,exports){function eq(e,n){return e===n||e!=e&&n!=n}module.exports=eq;
}, {}];
window.modules["1174"] = [function(require,module,exports){var defineProperty=require(1177);function baseAssignValue(e,r,i){"__proto__"==r&&defineProperty?defineProperty(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}module.exports=baseAssignValue;
}, {"1177":1177}];
window.modules["1175"] = [function(require,module,exports){var baseAssignValue=require(1174),eq=require(1173),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function assignValue(e,s,a){var r=e[s];hasOwnProperty.call(e,s)&&eq(r,a)&&(void 0!==a||s in e)||baseAssignValue(e,s,a)}module.exports=assignValue;
}, {"1173":1173,"1174":1174}];
window.modules["1176"] = [function(require,module,exports){var eq=require(1173);function assocIndexOf(e,r){for(var n=e.length;n--;)if(eq(e[n][0],r))return n;return-1}module.exports=assocIndexOf;
}, {"1173":1173}];
window.modules["1177"] = [function(require,module,exports){var getNative=require(1121),defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();module.exports=defineProperty;
}, {"1121":1121}];
window.modules["1179"] = [function(require,module,exports){function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}module.exports=isObject;
}, {}];
window.modules["1180"] = [function(require,module,exports){var baseForOwn=require(1182),createBaseEach=require(1181),baseEach=createBaseEach(baseForOwn);module.exports=baseEach;
}, {"1181":1181,"1182":1182}];
window.modules["1181"] = [function(require,module,exports){var isArrayLike=require(1272);function createBaseEach(r,e){return function(a,i){if(null==a)return a;if(!isArrayLike(a))return r(a,i);for(var t=a.length,n=e?t:-1,u=Object(a);(e?n--:++n<t)&&!1!==i(u[n],n,u););return a}}module.exports=createBaseEach;
}, {"1272":1272}];
window.modules["1182"] = [function(require,module,exports){var baseFor=require(1186),keys=require(1188);function baseForOwn(e,r){return e&&baseFor(e,r,keys)}module.exports=baseForOwn;
}, {"1186":1186,"1188":1188}];
window.modules["1186"] = [function(require,module,exports){var createBaseFor=require(1187),baseFor=createBaseFor();module.exports=baseFor;
}, {"1187":1187}];
window.modules["1187"] = [function(require,module,exports){function createBaseFor(e){return function(r,t,a){for(var n=-1,o=Object(r),c=a(r),u=c.length;u--;){var f=c[e?u:++n];if(!1===t(o[f],f,o))break}return r}}module.exports=createBaseFor;
}, {}];
window.modules["1188"] = [function(require,module,exports){var arrayLikeKeys=require(1159),baseKeys=require(1223),isArrayLike=require(1272);function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}module.exports=keys;
}, {"1159":1159,"1223":1223,"1272":1272}];
window.modules["1191"] = [function(require,module,exports){var castPath=require(1192),toKey=require(1193);function baseGet(e,t){for(var a=0,r=(t=castPath(t,e)).length;null!=e&&a<r;)e=e[toKey(t[a++])];return a&&a==r?e:void 0}module.exports=baseGet;
}, {"1192":1192,"1193":1193}];
window.modules["1192"] = [function(require,module,exports){var isArray=require(1161),isKey=require(1230),stringToPath=require(1264),toString=require(1263);function castPath(r,t){return isArray(r)?r:isKey(r,t)?[r]:stringToPath(toString(r))}module.exports=castPath;
}, {"1161":1161,"1230":1230,"1263":1263,"1264":1264}];
window.modules["1193"] = [function(require,module,exports){var isSymbol=require(1256),INFINITY=1/0;function toKey(r){if("string"==typeof r||isSymbol(r))return r;var e=r+"";return"0"==e&&1/r==-INFINITY?"-0":e}module.exports=toKey;
}, {"1256":1256}];
window.modules["1194"] = [function(require,module,exports){var arrayPush=require(1167),isArray=require(1161);function baseGetAllKeys(r,a,e){var s=a(r);return isArray(r)?s:arrayPush(s,e(r))}module.exports=baseGetAllKeys;
}, {"1161":1161,"1167":1167}];
window.modules["1195"] = [function(require,module,exports){var Symbol=require(1153),getRawTag=require(1197),objectToString=require(1196),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}module.exports=baseGetTag;
}, {"1153":1153,"1196":1196,"1197":1197}];
window.modules["1196"] = [function(require,module,exports){var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(t){return nativeObjectToString.call(t)}module.exports=objectToString;
}, {}];
window.modules["1197"] = [function(require,module,exports){var Symbol=require(1153),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(t){var o=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var a=!0}catch(t){}var e=nativeObjectToString.call(t);return a&&(o?t[symToStringTag]=r:delete t[symToStringTag]),e}module.exports=getRawTag;
}, {"1153":1153}];
window.modules["1199"] = [function(require,module,exports){function baseHasIn(n,e){return null!=n&&e in Object(n)}module.exports=baseHasIn;
}, {}];
window.modules["1203"] = [function(require,module,exports){var baseGetTag=require(1195),isObjectLike=require(1204),argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}module.exports=baseIsArguments;
}, {"1195":1195,"1204":1204}];
window.modules["1204"] = [function(require,module,exports){function isObjectLike(e){return null!=e&&"object"==typeof e}module.exports=isObjectLike;
}, {}];
window.modules["1205"] = [function(require,module,exports){var baseIsEqualDeep=require(1206),isObjectLike=require(1204);function baseIsEqual(e,s,a,u,i){return e===s||(null==e||null==s||!isObjectLike(e)&&!isObjectLike(s)?e!=e&&s!=s:baseIsEqualDeep(e,s,a,u,baseIsEqual,i))}module.exports=baseIsEqual;
}, {"1204":1204,"1206":1206}];
window.modules["1206"] = [function(require,module,exports){var Stack=require(1147),equalArrays=require(1210),equalByTag=require(1208),equalObjects=require(1209),getTag=require(1207),isArray=require(1161),isBuffer=require(1164),isTypedArray=require(1163),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(r,e,a,t,u,s){var g=isArray(r),i=isArray(e),y=g?arrayTag:getTag(r),c=i?arrayTag:getTag(e),o=(y=y==argsTag?objectTag:y)==objectTag,T=(c=c==argsTag?objectTag:c)==objectTag,A=y==c;if(A&&isBuffer(r)){if(!isBuffer(e))return!1;g=!0,o=!1}if(A&&!o)return s||(s=new Stack),g||isTypedArray(r)?equalArrays(r,e,a,t,u,s):equalByTag(r,e,y,a,t,u,s);if(!(a&COMPARE_PARTIAL_FLAG)){var q=o&&hasOwnProperty.call(r,"__wrapped__"),l=T&&hasOwnProperty.call(e,"__wrapped__");if(q||l){var b=q?r.value():r,_=l?e.value():e;return s||(s=new Stack),u(b,_,a,t,s)}}return!!A&&(s||(s=new Stack),equalObjects(r,e,a,t,u,s))}module.exports=baseIsEqualDeep;
}, {"1147":1147,"1161":1161,"1163":1163,"1164":1164,"1207":1207,"1208":1208,"1209":1209,"1210":1210}];
window.modules["1207"] = [function(require,module,exports){var DataView=require(1120),Map=require(1135),Promise=require(1142),Set=require(1143),WeakMap=require(1155),baseGetTag=require(1195),toSource=require(1214),mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(e){var a=baseGetTag(e),t=a==objectTag?e.constructor:void 0,r=t?toSource(t):"";if(r)switch(r){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return a}),module.exports=getTag;
}, {"1120":1120,"1135":1135,"1142":1142,"1143":1143,"1155":1155,"1195":1195,"1214":1214}];
window.modules["1208"] = [function(require,module,exports){var Symbol=require(1153),Uint8Array=require(1154),eq=require(1173),equalArrays=require(1210),mapToArray=require(1281),setToArray=require(1282),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,r,a,t,o,s,y){switch(a){case dataViewTag:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case arrayBufferTag:return!(e.byteLength!=r.byteLength||!s(new Uint8Array(e),new Uint8Array(r)));case boolTag:case dateTag:case numberTag:return eq(+e,+r);case errorTag:return e.name==r.name&&e.message==r.message;case regexpTag:case stringTag:return e==r+"";case mapTag:var b=mapToArray;case setTag:var g=t&COMPARE_PARTIAL_FLAG;if(b||(b=setToArray),e.size!=r.size&&!g)return!1;var u=y.get(e);if(u)return u==r;t|=COMPARE_UNORDERED_FLAG,y.set(e,r);var l=equalArrays(b(e),b(r),t,o,s,y);return y.delete(e),l;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(r)}return!1}module.exports=equalByTag;
}, {"1153":1153,"1154":1154,"1173":1173,"1210":1210,"1281":1281,"1282":1282}];
window.modules["1209"] = [function(require,module,exports){var getAllKeys=require(1283),COMPARE_PARTIAL_FLAG=1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function equalObjects(t,e,r,o,n,c){var a=r&COMPARE_PARTIAL_FLAG,s=getAllKeys(t),l=s.length;if(l!=getAllKeys(e).length&&!a)return!1;for(var i=l;i--;){var u=s[i];if(!(a?u in e:hasOwnProperty.call(e,u)))return!1}var f=c.get(t),A=c.get(e);if(f&&A)return f==e&&A==t;var v=!0;c.set(t,e),c.set(e,t);for(var y=a;++i<l;){var P=t[u=s[i]],g=e[u];if(o)var p=a?o(g,P,u,e,t,c):o(P,g,u,t,e,c);if(!(void 0===p?P===g||n(P,g,r,o,c):p)){v=!1;break}y||(y="constructor"==u)}if(v&&!y){var O=t.constructor,b=e.constructor;O!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof O&&O instanceof O&&"function"==typeof b&&b instanceof b)&&(v=!1)}return c.delete(t),c.delete(e),v}module.exports=equalObjects;
}, {"1283":1283}];
window.modules["1210"] = [function(require,module,exports){var SetCache=require(1144),arraySome=require(1169),cacheHas=require(1261),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,r,a,t,i,u){var A=a&COMPARE_PARTIAL_FLAG,n=e.length,c=r.length;if(n!=c&&!(A&&c>n))return!1;var f=u.get(e),o=u.get(r);if(f&&o)return f==r&&o==e;var _=-1,s=!0,R=a&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(u.set(e,r),u.set(r,e);++_<n;){var h=e[_],l=r[_];if(t)var v=A?t(l,h,_,r,e,u):t(h,l,_,e,r,u);if(void 0!==v){if(v)continue;s=!1;break}if(R){if(!arraySome(r,function(e,r){if(!cacheHas(R,r)&&(h===e||i(h,e,a,t,u)))return R.push(r)})){s=!1;break}}else if(h!==l&&!i(h,l,a,t,u)){s=!1;break}}return u.delete(e),u.delete(r),s}module.exports=equalArrays;
}, {"1144":1144,"1169":1169,"1261":1261}];
window.modules["1211"] = [function(require,module,exports){var Stack=require(1147),baseIsEqual=require(1205),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseIsMatch(r,e,a,t){var i=a.length,u=i,n=!t;if(null==r)return!u;for(r=Object(r);i--;){var s=a[i];if(n&&s[2]?s[1]!==r[s[0]]:!(s[0]in r))return!1}for(;++i<u;){var A=(s=a[i])[0],E=r[A],R=s[1];if(n&&s[2]){if(void 0===E&&!(A in r))return!1}else{var _=new Stack;if(t)var f=t(E,R,A,r,e,_);if(!(void 0===f?baseIsEqual(R,E,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,t,_):f))return!1}}return!0}module.exports=baseIsMatch;
}, {"1147":1147,"1205":1205}];
window.modules["1212"] = [function(require,module,exports){var isFunction=require(1213),isMasked=require(1215),isObject=require(1179),toSource=require(1214),reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}module.exports=baseIsNative;
}, {"1179":1179,"1213":1213,"1214":1214,"1215":1215}];
window.modules["1213"] = [function(require,module,exports){var baseGetTag=require(1195),isObject=require(1179),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var n=baseGetTag(e);return n==funcTag||n==genTag||n==asyncTag||n==proxyTag}module.exports=isFunction;
}, {"1179":1179,"1195":1195}];
window.modules["1214"] = [function(require,module,exports){var funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}module.exports=toSource;
}, {}];
window.modules["1215"] = [function(require,module,exports){var coreJsData=require(1269),maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}module.exports=isMasked;
}, {"1269":1269}];
window.modules["1216"] = [function(require,module,exports){var baseGetTag=require(1195),isLength=require(1217),isObjectLike=require(1204),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1,module.exports=baseIsTypedArray;
}, {"1195":1195,"1204":1204,"1217":1217}];
window.modules["1217"] = [function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}module.exports=isLength;
}, {}];
window.modules["1218"] = [function(require,module,exports){var baseMatches=require(1221),baseMatchesProperty=require(1222),identity=require(1219),isArray=require(1161),property=require(1220);function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}module.exports=baseIteratee;
}, {"1161":1161,"1219":1219,"1220":1220,"1221":1221,"1222":1222}];
window.modules["1219"] = [function(require,module,exports){function identity(t){return t}module.exports=identity;
}, {}];
window.modules["1220"] = [function(require,module,exports){var baseProperty=require(1246),basePropertyDeep=require(1247),isKey=require(1230),toKey=require(1193);function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}module.exports=property;
}, {"1193":1193,"1230":1230,"1246":1246,"1247":1247}];
window.modules["1221"] = [function(require,module,exports){var baseIsMatch=require(1211),getMatchData=require(1229),matchesStrictComparable=require(1228);function baseMatches(a){var t=getMatchData(a);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(e){return e===a||baseIsMatch(e,a,t)}}module.exports=baseMatches;
}, {"1211":1211,"1228":1228,"1229":1229}];
window.modules["1222"] = [function(require,module,exports){var baseIsEqual=require(1205),get=require(90),hasIn=require(1232),isKey=require(1230),isStrictComparable=require(1231),matchesStrictComparable=require(1228),toKey=require(1193),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(e,r){return isKey(e)&&isStrictComparable(r)?matchesStrictComparable(toKey(e),r):function(a){var t=get(a,e);return void 0===t&&t===r?hasIn(a,e):baseIsEqual(r,t,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}module.exports=baseMatchesProperty;
}, {"90":90,"1193":1193,"1205":1205,"1228":1228,"1230":1230,"1231":1231,"1232":1232}];
window.modules["1223"] = [function(require,module,exports){var isPrototype=require(1224),nativeKeys=require(1225),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var r=[];for(var t in Object(e))hasOwnProperty.call(e,t)&&"constructor"!=t&&r.push(t);return r}module.exports=baseKeys;
}, {"1224":1224,"1225":1225}];
window.modules["1224"] = [function(require,module,exports){var objectProto=Object.prototype;function isPrototype(o){var t=o&&o.constructor;return o===("function"==typeof t&&t.prototype||objectProto)}module.exports=isPrototype;
}, {}];
window.modules["1225"] = [function(require,module,exports){var overArg=require(1292),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys;
}, {"1292":1292}];
window.modules["1226"] = [function(require,module,exports){var isObject=require(1179),isPrototype=require(1224),nativeKeysIn=require(1227),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var r=isPrototype(e),t=[];for(var o in e)("constructor"!=o||!r&&hasOwnProperty.call(e,o))&&t.push(o);return t}module.exports=baseKeysIn;
}, {"1179":1179,"1224":1224,"1227":1227}];
window.modules["1227"] = [function(require,module,exports){function nativeKeysIn(n){var e=[];if(null!=n)for(var r in Object(n))e.push(r);return e}module.exports=nativeKeysIn;
}, {}];
window.modules["1228"] = [function(require,module,exports){function matchesStrictComparable(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}module.exports=matchesStrictComparable;
}, {}];
window.modules["1229"] = [function(require,module,exports){var isStrictComparable=require(1231),keys=require(1188);function getMatchData(r){for(var e=keys(r),t=e.length;t--;){var a=e[t],i=r[a];e[t]=[a,i,isStrictComparable(i)]}return e}module.exports=getMatchData;
}, {"1188":1188,"1231":1231}];
window.modules["1230"] = [function(require,module,exports){var isArray=require(1161),isSymbol=require(1256),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(r,e){if(isArray(r))return!1;var s=typeof r;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=r&&!isSymbol(r))||(reIsPlainProp.test(r)||!reIsDeepProp.test(r)||null!=e&&r in Object(e))}module.exports=isKey;
}, {"1161":1161,"1256":1256}];
window.modules["1231"] = [function(require,module,exports){var isObject=require(1179);function isStrictComparable(e){return e==e&&!isObject(e)}module.exports=isStrictComparable;
}, {"1179":1179}];
window.modules["1232"] = [function(require,module,exports){var baseHasIn=require(1199),hasPath=require(1294);function hasIn(a,s){return null!=a&&hasPath(a,s,baseHasIn)}module.exports=hasIn;
}, {"1199":1199,"1294":1294}];
window.modules["1234"] = [function(require,module,exports){var arrayLikeKeys=require(1159),baseKeysIn=require(1226),isArrayLike=require(1272);function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}module.exports=keysIn;
}, {"1159":1159,"1226":1226,"1272":1272}];
window.modules["1244"] = [function(require,module,exports){var baseGet=require(1191),baseSet=require(1245),castPath=require(1192);function basePickBy(e,a,t){for(var r=-1,s=a.length,b={};++r<s;){var c=a[r],i=baseGet(e,c);t(i,c)&&baseSet(b,castPath(c,e),i)}return b}module.exports=basePickBy;
}, {"1191":1191,"1192":1192,"1245":1245}];
window.modules["1245"] = [function(require,module,exports){var assignValue=require(1175),castPath=require(1192),isIndex=require(1162),isObject=require(1179),toKey=require(1193);function baseSet(e,r,t,i){if(!isObject(e))return e;for(var s=-1,a=(r=castPath(r,e)).length,o=a-1,u=e;null!=u&&++s<a;){var n=toKey(r[s]),c=t;if("__proto__"===n||"constructor"===n||"prototype"===n)return e;if(s!=o){var _=u[n];void 0===(c=i?i(_,n,u):void 0)&&(c=isObject(_)?_:isIndex(r[s+1])?[]:{})}assignValue(u,n,c),u=u[n]}return e}module.exports=baseSet;
}, {"1162":1162,"1175":1175,"1179":1179,"1192":1192,"1193":1193}];
window.modules["1246"] = [function(require,module,exports){function baseProperty(r){return function(e){return null==e?void 0:e[r]}}module.exports=baseProperty;
}, {}];
window.modules["1247"] = [function(require,module,exports){var baseGet=require(1191);function basePropertyDeep(e){return function(r){return baseGet(r,e)}}module.exports=basePropertyDeep;
}, {"1191":1191}];
window.modules["1255"] = [function(require,module,exports){var Symbol=require(1153),arrayMap=require(1166),isArray=require(1161),isSymbol=require(1256),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(r){if("string"==typeof r)return r;if(isArray(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return symbolToString?symbolToString.call(r):"";var o=r+"";return"0"==o&&1/r==-INFINITY?"-0":o}module.exports=baseToString;
}, {"1153":1153,"1161":1161,"1166":1166,"1256":1256}];
window.modules["1256"] = [function(require,module,exports){var baseGetTag=require(1195),isObjectLike=require(1204),symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}module.exports=isSymbol;
}, {"1195":1195,"1204":1204}];
window.modules["1257"] = [function(require,module,exports){var trimmedEndIndex=require(1258),reTrimStart=/^\s+/;function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,""):e}module.exports=baseTrim;
}, {"1258":1258}];
window.modules["1258"] = [function(require,module,exports){var reWhitespace=/\s/;function trimmedEndIndex(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}module.exports=trimmedEndIndex;
}, {}];
window.modules["1259"] = [function(require,module,exports){function baseUnary(n){return function(r){return n(r)}}module.exports=baseUnary;
}, {}];
window.modules["1261"] = [function(require,module,exports){function cacheHas(a,c){return a.has(c)}module.exports=cacheHas;
}, {}];
window.modules["1262"] = [function(require,module,exports){var identity=require(1219);function castFunction(t){return"function"==typeof t?t:identity}module.exports=castFunction;
}, {"1219":1219}];
window.modules["1263"] = [function(require,module,exports){var baseToString=require(1255);function toString(r){return null==r?"":baseToString(r)}module.exports=toString;
}, {"1255":1255}];
window.modules["1264"] = [function(require,module,exports){var memoizeCapped=require(1297),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(rePropName,function(e,a,p,o){r.push(p?o.replace(reEscapeChar,"$1"):a||e)}),r});module.exports=stringToPath;
}, {"1297":1297}];
window.modules["1269"] = [function(require,module,exports){var root=require(1122),coreJsData=root["__core-js_shared__"];module.exports=coreJsData;
}, {"1122":1122}];
window.modules["1272"] = [function(require,module,exports){var isFunction=require(1213),isLength=require(1217);function isArrayLike(i){return null!=i&&isLength(i.length)&&!isFunction(i)}module.exports=isArrayLike;
}, {"1213":1213,"1217":1217}];
window.modules["1281"] = [function(require,module,exports){function mapToArray(r){var a=-1,o=Array(r.size);return r.forEach(function(r,n){o[++a]=[n,r]}),o}module.exports=mapToArray;
}, {}];
window.modules["1282"] = [function(require,module,exports){function setToArray(r){var o=-1,e=Array(r.size);return r.forEach(function(r){e[++o]=r}),e}module.exports=setToArray;
}, {}];
window.modules["1283"] = [function(require,module,exports){var baseGetAllKeys=require(1194),getSymbols=require(1285),keys=require(1188);function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}module.exports=getAllKeys;
}, {"1188":1188,"1194":1194,"1285":1285}];
window.modules["1284"] = [function(require,module,exports){(function (global){(function (){
var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})}, {}];
window.modules["1285"] = [function(require,module,exports){var arrayFilter=require(1158),stubArray=require(1293),objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(r){return null==r?[]:(r=Object(r),arrayFilter(nativeGetSymbols(r),function(e){return propertyIsEnumerable.call(r,e)}))}:stubArray;module.exports=getSymbols;
}, {"1158":1158,"1293":1293}];
window.modules["1286"] = [function(require,module,exports){var baseGetAllKeys=require(1194),getSymbolsIn=require(1287),keysIn=require(1234);function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,getSymbolsIn)}module.exports=getAllKeysIn;
}, {"1194":1194,"1234":1234,"1287":1287}];
window.modules["1287"] = [function(require,module,exports){var arrayPush=require(1167),getPrototype=require(1291),getSymbols=require(1285),stubArray=require(1293),nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(r){for(var e=[];r;)arrayPush(e,getSymbols(r)),r=getPrototype(r);return e}:stubArray;module.exports=getSymbolsIn;
}, {"1167":1167,"1285":1285,"1291":1291,"1293":1293}];
window.modules["1288"] = [function(require,module,exports){var isKeyable=require(1289);function getMapData(a,e){var t=a.__data__;return isKeyable(e)?t["string"==typeof e?"string":"hash"]:t.map}module.exports=getMapData;
}, {"1289":1289}];
window.modules["1289"] = [function(require,module,exports){function isKeyable(e){var o=typeof e;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e}module.exports=isKeyable;
}, {}];
window.modules["1290"] = [function(require,module,exports){function getValue(e,u){return null==e?void 0:e[u]}module.exports=getValue;
}, {}];
window.modules["1291"] = [function(require,module,exports){var overArg=require(1292),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype;
}, {"1292":1292}];
window.modules["1292"] = [function(require,module,exports){function overArg(r,e){return function(n){return r(e(n))}}module.exports=overArg;
}, {}];
window.modules["1293"] = [function(require,module,exports){function stubArray(){return[]}module.exports=stubArray;
}, {}];
window.modules["1294"] = [function(require,module,exports){var castPath=require(1192),isArguments=require(1160),isArray=require(1161),isIndex=require(1162),isLength=require(1217),toKey=require(1193);function hasPath(e,r,t){for(var s=-1,i=(r=castPath(r,e)).length,a=!1;++s<i;){var n=toKey(r[s]);if(!(a=null!=e&&t(e,n)))break;e=e[n]}return a||++s!=i?a:!!(i=null==e?0:e.length)&&isLength(i)&&isIndex(n,i)&&(isArray(e)||isArguments(e))}module.exports=hasPath;
}, {"1160":1160,"1161":1161,"1162":1162,"1192":1192,"1193":1193,"1217":1217}];
window.modules["1296"] = [function(require,module,exports){var getNative=require(1121),nativeCreate=getNative(Object,"create");module.exports=nativeCreate;
}, {"1121":1121}];
window.modules["1297"] = [function(require,module,exports){var memoize=require(143),MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var m=memoize(e,function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e}),r=m.cache;return m}module.exports=memoizeCapped;
}, {"143":143}];
window.modules["1298"] = [function(require,module,exports){var freeGlobal=require(1284),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var e=freeModule&&freeModule.require&&freeModule.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil;
}, {"1284":1284}];
window.modules["1302"] = [function(require,module,exports){var toInteger=require(1303),FUNC_ERROR_TEXT="Expected a function";function before(e,r){var t;if("function"!=typeof r)throw new TypeError(FUNC_ERROR_TEXT);return e=toInteger(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}module.exports=before;
}, {"1303":1303}];
window.modules["1303"] = [function(require,module,exports){var toFinite=require(1321);function toInteger(t){var e=toFinite(t),r=e%1;return e==e?r?e-r:e:0}module.exports=toInteger;
}, {"1321":1321}];
window.modules["1304"] = [function(require,module,exports){var baseTrim=require(1257),isObject=require(1179),isSymbol=require(1256),NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=isObject(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var t=reIsBinary.test(e);return t||reIsOctal.test(e)?freeParseInt(e.slice(2),t?2:8):reIsBadHex.test(e)?NAN:+e}module.exports=toNumber;
}, {"1179":1179,"1256":1256,"1257":1257}];
window.modules["1305"] = [function(require,module,exports){var root=require(1122),now=function(){return root.Date.now()};module.exports=now;
}, {"1122":1122}];
window.modules["1307"] = [function(require,module,exports){var arrayEach=require(1157),baseEach=require(1180),castFunction=require(1262),isArray=require(1161);function forEach(r,a){return(isArray(r)?arrayEach:baseEach)(r,castFunction(a))}module.exports=forEach;
}, {"1157":1157,"1161":1161,"1180":1180,"1262":1262}];
window.modules["1315"] = [function(require,module,exports){function stubFalse(){return!1}module.exports=stubFalse;
}, {}];
window.modules["1321"] = [function(require,module,exports){var toNumber=require(1304),INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(e){return e?(e=toNumber(e))===INFINITY||e===-INFINITY?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}module.exports=toFinite;
}, {"1304":1304}];
window.modules["1595"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function track(t,o){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var e=arguments.length>3?arguments[3]:void 0;if(!t||!t.length)throw new Error("eventName is required. Got ".concat(t));if(t.length>255)throw new Error("eventName must be shorter than 255 characters. Got ".concat(t));var n=new URL("".concat(document.location.protocol,"//").concat(document.location.hostname));if(n.pathname="analytics",n.searchParams.set("eventName",encodeURIComponent(t)),o){if("object"!==_typeof(o))throw new Error("eventData must be an object. Got ".concat(o));n.searchParams.set("eventData",encodeURIComponent(JSON.stringify(o)))}return e||(e=Function.prototype),fetch(n).then(e)}module.exports.track=track;
}, {}];
window.modules["1596"] = [function(require,module,exports){"use strict";function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElementInViewport=isElementInViewport;
}, {}];
window.modules["slate-ad.client"] = [function(require,module,exports){"use strict";var isMember=require(3).isMemberSkipLookup(),_require=require(70),allowedTypes=_require.allowedTypes,sticky=require(71),googletag=googletag||{};googletag.cmd=googletag.cmd||[],DS.controller("slate-ad",["adService","$visibility","headerBidding",function(e,t,i){function o(e){return"outstream-video"===e.type||"mobile-outstream-video"===e.type||"outstream-video-xl"===e.type}return function(n){var r=e.createAd(n);isMember&&(function(e){return"mob-adhesion"===e.type}(r)||o(r))?n.parentElement.setAttribute("hidden",""):(function(e){return"outstream-video-backfill"===e.type||"mobile-outstream-video-backfill"===e.type||"outstream-video-xl-backfill"===e.type}(r)&&(n.parentElement.style.display="none"),function(e){return"leaderboard-tablet-1"===e.id||"leaderboard-1"===e.id||"leaderboard-mobile-1"===e.id}(r)?(isMember||sticky.enableStickyLeaderboard(),function(o,n){if(t.isElementNotHidden(n))if(t.isElementInViewport(n))window.googletag.cmd.push(function(){allowedTypes[o.type]?i.prebid(o):e.requestAd(o)});else{var r=new t.Visible(n);r.on("shown",function(){window.googletag.cmd.push(function(){allowedTypes[o.type]?i.prebid(o):e.requestAd(o)})})}}(r,n)):function(){var e=document.querySelector(".homepage-sponsorship");if(o=!1,e)var t=e.getAttribute("data-sponsorship-start"),i=(new Date).getTime(),o=i>t&&i-t<864e5;return o}()||function(e){return"podcast-headline"===e.type}(r)||o(r)?function(i,o){t.isElementNotHidden(o)&&window.googletag.cmd.push(function(){e.requestAd(i)})}(r,n):function(o,n){new t.Visible(n,{preloadThreshhold:o.threshold}).on("preload",function(){t.isElementNotHidden(n)&&(allowedTypes[o.type]?i.prebid(o):window.googletag.cmd.push(function(){e.requestAd(o)}))})}(r,n))}}]);
}, {"3":3,"70":70,"71":71}];
window.modules["slate-paywall.client"] = [function(require,module,exports){"use strict";
}, {}];
window.modules["analytics-js-loader.client"] = [function(require,module,exports){"use strict";var initCriteo=require(1),initParsely=require(2);module.exports=function(e){void 0===e.dataset.disableClientJs&&(!function(e,t){var n=e.amplitude||{_q:[]};if(n.invoked)e.console&&console.error&&console.error("Amplitude snippet has been loaded.");else{var i=function(e,t){e.prototype[t]=function(){return this._q.push({name:t,args:Array.prototype.slice.call(arguments,0)}),this}};n.invoked=!0;var r=t.createElement("script");r.type="text/javascript",r.integrity="sha384-/0FKNSjZEbwwhsSBlbjzSbHZnyVPxH26AOT9SHs7EpWmwnUSkC29p/Wr61hTTAs5",r.crossOrigin="anonymous",r.async=!0,r.src="https://cdn.amplitude.com/libs/analytics-browser-1.1.4-min.js.gz",r.onload=function(){e.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK")};var o=t.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o);for(var s=function(){return this._q=[],this},a=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove","getUserProperties"],u=0;u<a.length;u++)i(s,a[u]);n.Identify=s;for(var d=function(){return this._q=[],this},c=["getEventProperties","setProductId","setQuantity","setPrice","setRevenue","setRevenueType","setEventProperties"],l=0;l<c.length;l++)i(d,c[l]);n.Revenue=d;var p=["getDeviceId","setDeviceId","getSessionId","setSessionId","getUserId","setUserId","setOptOut","setTransport","reset"],g=["init","add","remove","track","logEvent","identify","groupIdentify","setGroup","revenue","flush"];(function(e){function t(t,n){e[t]=function(){var i=arguments,r={promise:new Promise(function(n){e._q.push({name:t,args:Array.prototype.slice.call(i,0),resolve:n})})};if(n)return r}}for(var n=0;n<p.length;n++)t(p[n],!1);for(var i=0;i<g.length;i++)t(g[i],!0)})(n),e.amplitude=n}}(window,document),window.nonIabVendorApi.registerVendor("amplitude",{categories:["C0002"],initFunc:function(t){var n=e.dataset.amplitudeApiKey,i={logLevel:e.dataset.amplitudeLogLevel,domain:e.dataset.amplitudeDomain};return window.amplitude.init(n,null,i).promise.then(function(){window.slateAmplitudeQueue.init(window.amplitude,t)}),!0},updateConsentFunc:function(e){window.slateAmplitudeQueue.push(function(t){t.setOptOut(!e)})}}),initParsely(e.dataset.parselyScriptSrc),window.nonIabVendorApi.registerVendor("fbPixel",{categories:["C0002","C0003","C0004"],initFunc:function(e){return window.fbq("consent",e?"grant":"revoke"),window.fbq("set","autoConfig",!1,"166975463695820"),window.fbq("init","166975463695820"),window.fbq("track","PageView"),!0},updateConsentFunc:function(e){window.fbq("consent",e?"grant":"revoke")}}),window.nonIabVendorApi.registerVendor("google-tag-manager-marketing",{categories:["C0002","C0004","gad"],initFunc:function(e){if(!e)return!1;var t=document.createElement("script");t.src="//www.googletagmanager.com/gtag/js?id=AW-794295919";var n=document.getElementsByTagName("script")[0];function i(){dataLayer.push(arguments)}return n.parentNode.insertBefore(t,n),window.dataLayer=window.dataLayer||[],i("js",new Date),i("config","AW-794295919"),window.gtag=i,!0},updateConsentFunc:function(e){}}),initCriteo())};
}, {"1":1,"2":2}];
window.modules["slate-ad-aps.client"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===h)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function l(){}function p(){}var y={};c(y,o,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(L([])));v&&v!==r&&e.call(v,o)&&(y=v);var m=p.prototype=f.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(r){c(t,r,function(t){return this._invoke(r,t)})})}function w(t,r){var n;this._invoke=function(o,i){function a(){return new r(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"==_typeof(f)&&e.call(f,"__await")?r.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):r.resolve(f).then(function(t){h.value=t,a(h)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=s(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function x(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=p,c(m,"constructor",p),c(p,"constructor",l),l.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new w(u(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),x(e),h}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;x(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:L(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),h}},t}function asyncGeneratorStep(t,r,e,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var membership=require(3),_require=require(54),hash=_require.hash;try{window.__uspapi("getUSPData",1,function(t,r){var e={si_section:getApsSection()};r&&(e.us_privacy=t.uspString),window.slateCMP.TCF.ready.then(function(){window.apstag&&window.apstag.init({pubID:"3075",adServer:"googletag",params:e,deals:!0,gdpr:{cmpTimeout:200}}),syncEmailWithAps()})})}catch(t){console.warn("__uspapi failed",t)}function getApsSection(){var t=document.querySelector("div[data-adnode]"),r="";return t&&(r=t.getAttribute("data-adnode")),r.replace("/","   ").replace(/_/g," ")}function syncEmailWithAps(){return _syncEmailWithAps.apply(this,arguments)}function _syncEmailWithAps(){return(_syncEmailWithAps=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var r,e;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=membership.getUserEmail()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,hash(r,"hex");case 5:if(e=t.sent){t.next=8;break}return t.abrupt("return");case 8:apstag.rpa({hashedRecords:[{type:"email",record:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}
}, {"3":3,"54":54}];
window.modules["piano-mount.client"] = [function(require,module,exports){"use strict";var _debounce=require(55),_require=require(44),allowedOrigins=_require.allowedOrigins;function eventAllowed(e){return-1!==allowedOrigins.indexOf(e.origin)&&e.data.slate}function waitForPiano(e){e.classList.add("piano-mount--loading");var n=function(e){eventAllowed(e)&&i()},i=_debounce(function(){e.classList.remove("piano-mount--loading","piano-mount--error"),window.removeEventListener("message",n),clearTimeout(o)},200);window.addEventListener("message",n);var o=setTimeout(function(){e.classList.remove("piano-mount--loading"),e.classList.add("piano-mount--error")},3e4)}module.exports=function(e){waitForPiano(e)};
}, {"44":44,"55":55}];
window.modules["masthead.client"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function h(){}function p(){}var d={};c(d,o,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==e&&r.call(m,o)&&(d=m);var v=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(v),c(v,a,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var menu,membership=require(3),dropdown=require(45),initializeThemePicker=require(46),_require=require(44),allowedOrigins=_require.allowedOrigins;function toggleMenu(t){(menu=menu||t.target.closest(".menu")).classList.toggle("menu--open"),document.documentElement.classList.toggle("menu-open",menu.classList.contains("menu--open"))}function addRedirectParam(t){var e=new URL(location.href).searchParams.get("redirect_uri"),r=new URL(t.currentTarget.href),n=e||location.href;r.searchParams.set("redirect_uri",n),t.currentTarget.href=r.toString()}function getVisibleSelectors(){return _getVisibleSelectors.apply(this,arguments)}function _getVisibleSelectors(){return(_getVisibleSelectors=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={signedOut:["mobile-subscribe","sign-in","subscribe"],signedIn:["mobile-subscribe","account","sign-out","subscribe"],member:["mobile-account","account","sign-out"]},t.next=3,membership.isMember();case 3:if(!t.sent){t.next=7;break}r="member",t.next=8;break;case 7:r=membership.isLoggedIn()?"signedIn":"signedOut";case 8:return t.abrupt("return",e[r]);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function eventAllowed(t){return-1!==allowedOrigins.indexOf(t.origin)&&t.data.slate}module.exports=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var r,n,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,getVisibleSelectors();case 2:for(r=t.sent,n=0;n<r.length;n++)o=".js-account--".concat(r[n]),document.querySelectorAll(o).forEach(function(t){return t.hidden=!1});e.querySelectorAll(".js-toggle-menu").forEach(function(t){t.addEventListener("click",toggleMenu)}),e.querySelectorAll(".js-redirect-return").forEach(function(t){t.addEventListener("click",addRedirectParam)}),dropdown(e),initializeThemePicker(e),window.addEventListener("message",function(t){if(eventAllowed(t)&&"redirect"===t.data.type){var e=t.data.path,r=document.location.href,n=new URL(e,window.location.origin);n.searchParams.append("redirect_uri",r),window.location.href=n}});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();
}, {"3":3,"44":44,"45":45,"46":46}];
window.modules["article.client"] = [function(require,module,exports){"use strict";var _require=require(20),makeLive=_require.makeLive,initTagList=require(9);module.exports=function(e){initTagList(),e.dataset.live&&makeLive(e,{content:".article__content"})};
}, {"9":9,"20":20}];
window.modules["slate-parsely.client"] = [function(require,module,exports){"use strict";
}, {}];
window.modules["slate-analytics-js.client"] = [function(require,module,exports){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return x()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function d(){}var h={};s(h,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=d.prototype=f.prototype=Object.create(h);function v(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,s(g,"constructor",d),s(d,"constructor",p),p.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},v(g),s(g,a,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,n,o,a,s,"throw",e)}a(void 0)})}}var _once=require(80),_throttle=require(73),Cookies=require(35),via=require(74),_require=require(77),isVisitStart=_require.isVisitStart,_require2=require(79),getVisitCounts=_require2.getVisitCounts,slateAmplitude=require(17),slatePermutive=require(52),_require3=require(75),isAndroidSession=_require3.isAndroidSession,_require4=require(48),getExtendedUserData=_require4.getExtendedUserData,getCustomFieldValue=_require4.getCustomFieldValue,membership=require(3),adblockDetection=require(56),promolineTesting=require(68),_require5=require(76),isValidAbTestString=_require5.isValidAbTestString,_require6=require(78),getCLS=_require6.getCLS,getFID=_require6.getFID,getLCP=_require6.getLCP,webVitals={};[getCLS,getFID,getLCP].map(function(e){e(function(e){webVitals[e.name]=e.value},!0)});var loginId=membership.getLoginId();function castAsAmplitudeBool(e){return e?"TRUE":"FALSE"}var getAffiliateLinks=_once(function(){for(var e=[],t=document.body.querySelectorAll('a[href*="amazon"]'),r=0;r<t.length;r++){var n=t[r];-1===new URL(n.href).host.indexOf("amazon")||n.matches(".product a")||e.push(n)}return e});function isChumBoxLoaded(){return!!document.querySelector(".outbrain-widget")}function trackAffiliateLinks(){getAffiliateLinks().forEach(function(e){e.addEventListener("click",function(e){slateAmplitude.track("Click - Affiliate Link")})})}function getUserMembershipType(){return _getUserMembershipType.apply(this,arguments)}function _getUserMembershipType(){return(_getUserMembershipType=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,r,n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,membership.isMember();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failure to get isMember");case 9:if(t){e.next=11;break}return e.abrupt("return");case 11:return r=membership.getMembershipType(),e.prev=12,e.next=15,getExtendedUserData("MyAccountFields");case 15:n=e.sent,getCustomFieldValue(n,"is_staff")&&(r="".concat(r,"|staff")),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(12),console.error("Error getting extended User data");case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}},e,null,[[0,6],[12,20]])}))).apply(this,arguments)}function findComponent(e){var t=document.body.querySelector("."+e);if(t){var r=t.dataset.uri;if(r&&r.split("/")[2]===e)return t}}function getLayoutBreakpoint(e){for(var t=[["sm",320],["md",768],["lg",1024],["xl",1440]],r=t.length;r--;)if(e>=t[r][1])return t[r][0];return t[0][0]}function logPageView(e,t){return _logPageView.apply(this,arguments)}function _logPageView(){return(_logPageView=_asyncToGenerator(_regeneratorRuntime().mark(function e(t,r){var n,o,i,a,s,u,c,l,f,p,d,h,m,y,g;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=slateAmplitude.getDomEventData(r),o=new URLSearchParams(location.search),(i=via.retrieve())&&o.set("via",i),n.search="?"+o.toString(),n.amplitude_id=t.getDeviceId()?t.getDeviceId():"no options - no deviceId",n.viewportWidth=document.documentElement.clientWidth,n.layoutBreakpoint=getLayoutBreakpoint(n.viewportWidth),n.colorScheme=localStorage.getItem("theme"),n.androidApp=castAsAmplitudeBool(isAndroidSession()),e.next=12,getUserMembershipType();case 12:return a=e.sent,n.plan=a,loginId&&(n.signed_in_uuid=loginId),n.chumbox_loaded=castAsAmplitudeBool(isChumBoxLoaded()),window.Scroll&&Scroll.config.detected&&(n.isScrollUser=!0),n.visitstart=castAsAmplitudeBool(isVisitStart()),s=getVisitCounts(),n.Nth_visit=s.totalVisits,n.Nth_monthly_visit=s.monthlyVisits,e.next=23,adblockDetection.getValue();case 23:for(y in u=e.sent,c=_slicedToArray(u,2),l=c[0],f=c[1],n.adBlocker="boolean"==typeof l?castAsAmplitudeBool(l):"UNKNOWN",n.adBlockerDelay=f,getAffiliateLinks().length>0&&(n["Affiliate Link"]="✅"),findComponent("product")&&(n["Product Component"]="✅"),p=findComponent("newsletter-signup"),n["Includes Newsletter Signup"]=castAsAmplitudeBool(p),p&&(n["Newsletter Signup Placement"]="In Content"),(d=findComponent("slate-plus-button"))&&(h=d.querySelector(".slate-plus-button__basic"))&&(n["Slate Plus Button Component"]=h.innerText),m=!a&&findComponent("slate-roadblock"),n["Includes Slate Plus Roadblock"]=castAsAmplitudeBool(m),findComponent("header-promo")&&(n["Includes Header Promo"]="TRUE"),webVitals)n["perf".concat(y)]=webVitals[y];n.referrer=document.referrer,(g=promolineTesting.retrieveExperimentalPromoline())&&(n.experimental_promoline=g),slateAmplitude.page(n);case 46:case"end":return e.stop()}},e)}))).apply(this,arguments)}function setMemberStatusUserProp(e){return _setMemberStatusUserProp.apply(this,arguments)}function _setMemberStatusUserProp(){return(_setMemberStatusUserProp=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getUserMembershipType();case 2:(r=e.sent)&&(t.plan=r);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function setUserLoginId(e){loginId&&(e.signed_in_uuid=loginId)}function setScrollUserProp(e){var t=window.Scroll&&Scroll.config.detected;t&&(e.scrollUser=t)}function setABUserProp(e){var t=Cookies.get("AB");e.abTest=isValidAbTestString(t)?t:"0"}function setAndroidAppUserProp(e){var t=isAndroidSession();t&&(e.androidUser=t)}function trackEndOfArticle(){var e=document.querySelector(".slate-paragraph--tombstone");if(e){var t=_once(function(){slateAmplitude.track("Completed article"),slatePermutive.track("ArticleCompletion"),document.removeEventListener("scroll",r)}),r=_throttle(function(){var r="scrollY"in window?window.scrollY:window.pageYOffset;e.offsetTop+e.offsetHeight<=r+window.innerHeight&&t()},300);document.addEventListener("scroll",r)}}function logUserProperties(e){return _logUserProperties.apply(this,arguments)}function _logUserProperties(){return(_logUserProperties=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var r,n,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return setABUserProp(r={}),e.next=4,setMemberStatusUserProp(r);case 4:for(o in setUserLoginId(r),setScrollUserProp(r),setAndroidAppUserProp(r),n=new t.Identify,r)n.set(o,r[o]);return e.abrupt("return",t.identify(n));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}module.exports=function(e){window.slateAmplitudeQueue.push(function(t){trackAffiliateLinks(),trackEndOfArticle(),logPageView(t,e),logUserProperties(t),via.setPageType(e.dataset.pagetype)})};
}, {"3":3,"17":17,"35":35,"48":48,"52":52,"56":56,"68":68,"73":73,"74":74,"75":75,"76":76,"77":77,"78":78,"79":79,"80":80}];
window.modules["social-share.client"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function u(t,r,e,n){var o=r&&r.prototype instanceof h?r:h,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var u=s(t,r,e);if("normal"===u.type){if(n=e.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n="completed",e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function l(){}function p(){}var y={};c(y,o,function(){return this});var v=Object.getPrototypeOf,d=v&&v(v(E([])));d&&d!==r&&e.call(d,o)&&(y=d);var m=p.prototype=h.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(r){c(t,r,function(t){return this._invoke(r,t)})})}function w(t,r){var n;this._invoke=function(o,i){function a(){return new r(function(n,a){!function n(o,i,a,c){var u=s(t[o],t,i);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"==_typeof(h)&&e.call(h,"__await")?r.resolve(h.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):r.resolve(h).then(function(t){f.value=t,a(f)},function(t){return n("throw",t,a,c)})}c(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,f;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function x(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function L(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return l.prototype=p,c(m,"constructor",p),c(p,"constructor",l),l.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===l||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new w(u(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),c(m,a,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),f},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),f}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;L(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:E(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),f}},t}function asyncGeneratorStep(t,r,e,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)})}}var _require=require(92),setupShareButtons=_require.setupShareButtons;module.exports=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(r){var e,n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=r.getElementsByClassName("js-share-link"),n=r.querySelector(".js-web-share-link"),setupShareButtons("social-share",n,e);case 3:case"end":return t.stop()}},t)}));return function(r){return t.apply(this,arguments)}}();
}, {"92":92}];
window.modules["in-article-recirc.client"] = [function(require,module,exports){"use strict";DS.controller("in-article-recirc",[function(){function e(e){this.el=e;var i=e.nextElementSibling,t=this.getOriginalReferenceNode();if(i&&i===t){this.updatePosition();var n=function(e){setTimeout(function(){this.updatePosition()}.bind(this))}.bind(this);[320,768,1024,1440].forEach(function(e){window.matchMedia("(min-width: "+e+"px)").addListener(n)})}}return e.prototype={getOriginalReferenceNode:function(){return this.el.parentNode.querySelector(".slate-paragraph, .partner-branding")},getOverrideReferenceNode:function(){for(var e=0,i=this.el.parentNode.children.length,t=this.el.parentNode.firstElementChild,n=0;n<i;n++){var r=window.getComputedStyle(t);if(t.matches("p.slate-paragraph, div.ad")&&"none"!==r.display&&e++,t=t.nextElementSibling,2===e)break}return t},updatePosition:function(){var e=!window.matchMedia("(min-width: 1024px)").matches,i=this.el,t=i.parentNode;if(!e){var n=this.getOriginalReferenceNode();return t.insertBefore(i,n),void(i.hidden=!1)}var r=this.getOverrideReferenceNode();r?(t.insertBefore(i,r),i.hidden=!1):i.hidden=e}},e}]);
}, {}];
window.modules["permutive.client"] = [function(require,module,exports){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=b(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function h(){}var d={};u(d,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==e&&r.call(y,o)&&(d=y);var v=h.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==_typeof(f)&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):e.resolve(f).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,u)})}u(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=h,u(v,"constructor",h),u(h,"constructor",p),p.displayName=u(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(v),u(v,a,"Generator"),u(v,o,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,u,"next",t)}function u(t){asyncGeneratorStep(i,n,o,a,u,"throw",t)}a(void 0)})}}var _require=require(48),getPianoId=_require.getPianoId,_require2=require(54),hash=_require2.hash,membership=require(3);module.exports=function(t){var e="slate-token";function r(t){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){var i,a,u,c,s,l,f,p,h,d;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Consent not provided for permutive");case 2:return permutive.consent({opt_in:n,token:e}),permutive.addon("web",window.slatePermutiveData),i={Slate_Plus_All_Access:"All Access",Slate_Plus_Audio:"Audio",Slate_Plus_Digital:"Digital",Big_Mood_Plus:"Audio"},r.next=7,membership.isMember();case 7:if(!r.sent){r.next=31;break}a=membership.getSplusCookie(),u=Object.keys(i),c=a.resourceIds||[],l=_createForOfIteratorHelper(c),r.prev=13,l.s();case 15:if((f=l.n()).done){r.next=22;break}if(p=f.value,!u.includes(p)){r.next=20;break}return s=i[p],r.abrupt("break",22);case 20:r.next=15;break;case 22:r.next=27;break;case 24:r.prev=24,r.t0=r.catch(13),l.e(r.t0);case 27:return r.prev=27,l.f(),r.finish(27);case 30:s&&o("slatePlusSubscriptionType",s);case 31:return(h=document.createElement("script")).src="//cdn.permutive.com/"+t.dataset.permutiveProjectId+"-web.js",h.defer=!0,(d=document.getElementsByTagName("script")[0]).parentNode.insertBefore(h,d),r.abrupt("return",!0);case 37:case"end":return r.stop()}},r,null,[[13,24,27,30]])}))).apply(this,arguments)}function o(t,e){window.slatePermutiveData.page.user||(window.slatePermutiveData.page.user={}),window.slatePermutiveData.page.user[t]=e}window.nonIabVendorApi.registerVendor("permutive",{categories:["C0002","C0003","C0004"],initFunc:function(e){if(!e)return!1;function n(t){var e=document.cookie.match("(^|[^;]+)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""}try{var i=new URL(document.location).searchParams;i.get("utm_source")&&(window.slatePermutiveData.page.utmSource=i.get("utm_source")),i.get("utm_medium")&&(window.slatePermutiveData.page.utmMedium=i.get("utm_medium")),i.get("utm_campaign")&&(window.slatePermutiveData.page.utmCampaign=i.get("utm_campaign"))}catch(t){console.error(t)}if(t.dataset.isSplusUser)try{o("slatePlus",!0)}catch(t){console.error(t)}var a=[];function u(t,e){e&&(a.push({tag:t,id:e}),o(t,e))}u("slateId",getPianoId()||n("wapo_login_id")),u("publisherUserId",n("slate-uuid-js")),u("sailthruId",function(t){try{return new URL(document.location).searchParams.get(t)}catch(e){console.error("could not get "+t+" url param",e)}}("sid"));var c=membership.getUserEmail();return c?hash(c,"hex").then(function(t){t&&(a.push({tag:"email_sha256",id:t}),a.length>0&&window.permutive.identify(a),r(e))}):(a.length>0&&window.permutive.identify(a),r(e)),!0},updateConsentFunc:function(t){if(permutive)try{JSON.parse(localStorage["permutive-consent"]).opt_in!=t&&permutive.consent({opt_in:t,token:e})}catch(r){permutive.consent({opt_in:t,token:e})}}}),permutive.ready(function(){window.slateAmplitudeQueue.push(function(){var t=[];permutive.context&&t.push({tag:"puid",id:permutive.context.user_id});try{var e=window.amplitude.getDeviceId();e&&t.push({tag:"amplitudeId",id:e})}catch(t){console.error("Error setting amplitudeId",t)}t.length>0&&permutive.identify(t)})})};
}, {"3":3,"48":48,"54":54}];
window.modules["piano.client"] = [function(require,module,exports){"use strict";var slateAmplitude=require(17),universalPianoService=require(44),adblockDetection=require(56),membership=require(3),loginSuccessHandler=require(65),afterCheckout=require(59),afterCheckoutClose=require(57),afterPianoInit=require(64),checkoutStateChangeHandler=require(61),showOffer=require(63),experienceExecute=require(62),script=document.createElement("script");function loadPianoExperience(e){var t=document.createElement("script");t.async=!0,t.src="".concat(e.url,"/xbuilder/experience/load?aid=").concat(e.aid),t.addEventListener("error",function(e){console.warn("piano 💩 🛏",e)});var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}function initPianoExperience(e){window.tp||(window.tp=[]);var t=window.tp;try{var r=slateAmplitude.getDomEventData();for(var a in r=universalPianoService.formatArticleData(r),t.push(["setContentCreated",r.content_created]),t.push(["setContentAuthor",r.content_author]),t.push(["setContentSection",r.content_section]),t.push(["setTags",r.tags]),r.custom_variables)t.push(["setCustomVariable",a,r.custom_variables[a]])}catch(e){console.warn("failed to set article metadata for piano",e)}e.scroll&&t.push(["setCustomVariable","scroll","1"]),t.push(["setUsePianoIdUserProvider",!0]),t.push(["setCloudflareWorkerUrl","".concat(location.origin,"/piano-cookie-persist")]),t.push(["init",afterPianoInit]),t.push(["addHandler","loginSuccess",loginSuccessHandler]),t.push(["addHandler","checkoutStateChange",checkoutStateChangeHandler]),t.push(["addHandler","checkoutComplete",afterCheckout]),t.push(["addHandler","checkoutClose",afterCheckoutClose]),t.push(["addHandler","showOffer",showOffer]),t.push(["addHandler","experienceExecute",experienceExecute])}function is404(){var e=document.querySelector("link[rel=canonical]");return!!e&&"/404"===new URL(e.href).pathname}script.src="/piano/scripts/resize.js",document.head.appendChild(script),module.exports=function(e){if(!is404()){membership.isMemberSkipLookup()||adblockDetection.enable();var t=JSON.parse(e.dataset.config);initPianoExperience(t),loadPianoExperience(t)}};
}, {"3":3,"17":17,"44":44,"56":56,"57":57,"59":59,"61":61,"62":62,"63":63,"64":64,"65":65}];
window.modules["adblock-message.client"] = [function(require,module,exports){"use strict";
}, {}];
window.modules["webapp-serviceworker.client"] = [function(require,module,exports){"use strict";var slateAmplitude=require(17);module.exports=function(e){if(navigator.serviceWorker){window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){},function(e){console.error("ServiceWorker registration failed: ",e)})}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){"dismissed"===e.outcome?slateAmplitude.track("PWA - dismissed install prompt"):slateAmplitude.track("PWA - Added to Home Screen")})});if(!["/plus","/plus-special-offer","/spotify-plus","/giveplus","/special-offer","/donate"].includes(location.pathname)){window.OneSignal=window.OneSignal||[];var n=document.createElement("script");n.src="https://cdn.onesignal.com/sdks/OneSignalSDK.js",n.async=!0,document.head.appendChild(n),OneSignal.push(function(){OneSignal.SERVICE_WORKER_PARAM={scope:"/push/onesignal/"},OneSignal.SERVICE_WORKER_PATH="push/onesignal/OneSignalSDKWorker.js",OneSignal.SERVICE_WORKER_UPDATER_PATH="push/onesignal/OneSignalSDKUpdaterWorker.js";var n={appId:e.dataset.onesignalId};JSON.parse(e.dataset.isEu)&&(n.requiresUserPrivacyConsent=!0),OneSignal.init(n)}),window.slateAmplitudeQueue.push(function(e){OneSignal.push(function(){try{var n=e.getDeviceId();OneSignal.setExternalUserId(n)}catch(e){console.error("failed to set onesignal user id",e)}})})}}else console.debug("Service worker not supported")};
}, {"17":17}];
window.modules["amazon-oneclick.client"] = [function(require,module,exports){"use strict";module.exports=function(e){window.nonIabVendorApi.registerVendor("amazon-oneclick",{categories:["C0004"],initFunc:function(e){if(!e)return!1;var n=document.createElement("script");n.src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=797217ac-ca6e-482f-8925-4c302e9c855c",n.defer=!0,n.type="text/javascript";var t=document.getElementsByTagName("script")[0];return t.parentNode.insertBefore(n,t),!0},updateConsentFunc:function(e){}})};
}, {}];
window.modules["aaa-module-mounting.legacy"] = [function(require,module,exports){"use strict";var eventify=require(98),_pickBy=require(100),_each=require(99),DS=require(96),_throttle=require(73),Cookies=require(35);function registerGlobals(){window.DS=DS,window.Eventify=eventify,DS.value("Eventify",eventify),DS.value("_throttle",_throttle),DS.value("Cookies",Cookies),DS.value("$document",window.document),DS.value("$window",window)}function mountDollarSliceComponents(){DS.service("components",["$document","$module",function(e,o){var t=_pickBy(o.definitions,function(e){return e.providerStrategy===o.providers.controller}),r=Object.keys(t);function n(e){return function(t){try{o.get(e,t)}catch(e){logMountError(t,e)}}}_each(r,function(o){var t=e.querySelectorAll('[data-uri*="/_components/'+o+'/"]'),r=e.querySelectorAll('[data-uri$="/_components/'+o+'"]');_each(t,n(o)),_each(r,n(o))}),this.components=r}]),DS.get("components")}function logMountError(e,o){var t=e.outerHTML.slice(0,e.outerHTML.indexOf(e.innerHTML));console.error("Error attaching controller to "+t,o)}registerGlobals(),document.addEventListener("DOMContentLoaded",function(){mountDollarSliceComponents()}),-1===location.href.indexOf("edit=true")&&require(97);
}, {"35":35,"73":73,"96":96,"97":97,"98":98,"99":99,"100":100}];
window.modules["ads.legacy"] = [function(require,module,exports){"use strict";var metrics=require(101),membership=require(3),criteo=require(102),isMember=membership.isMemberSkipLookup();DS.service("adService",["$window","headerBidding","$visibility",function(e,t,a){e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[],e.pbjs=e.pbjs||{},e.pbjs.que=e.pbjs.que||[];var i,o={},s=[],r=(i=/[?&]test_ads=([^&#?]+)/.exec(e.location.search))?i[1]:"",d=window.document.documentElement.getAttribute("data-uri").split("/")[2].replace("@published",""),l=!0,n=[];function g(e){var t=[];return e&&e.length&&(e=e.split(",")).map(function(e){e=e.split("x");var a=parseInt(e[0]),i=parseInt(e[1]);t.push([a,i])}),t}function u(){var e=document.querySelector("div[data-adnode]"),t="";return e&&(t=e.getAttribute("data-adnode")),t}!function(){var e=membership.getUserEmail(),t=document.createElement("script");e&&(t.onload=function(){window.ats.setAdditionalData({type:"email",id:e})});t.src="https://ats-wrapper.privacymanager.io/ats-modules/f6ed6589-5170-40c6-98bc-a4a49ff26fa8/ats.js",document.body.appendChild(t)}(),criteo.syncEmail(),e.outstreamBackfill=function(e){var t;switch(e){case"outstream-video-1":t="outstream-video-backfill-1";break;case"outstream-video-2":t="outstream-video-backfill-2";break;case"mobile-outstream-video-1":t="mobile-outstream-video-backfill-1";break;case"mobile-outstream-video-2":t="mobile-outstream-video-backfill-2";break;case"outstream-video-xl-1":t="outstream-video-xl-backfill-1";break;case"outstream-video-xl-2":t="outstream-video-xl-backfill-2"}t&&(document.querySelector("#"+t).parentElement.style.display="",document.querySelector("#"+e).parentElement.style.display="none")},e.googletag.cmd.push(function(){var i=document.querySelector(".js-analytics-js-data").getAttribute("data-pagetype").replace(" ","-");e.googletag.pubads().disableInitialLoad(),e.googletag.enableServices();var o=Math.floor(1e13*Math.random()),g=document.querySelectorAll('meta[name="dfp-cache-buster"]')[0];g&&g.content&&(o=g.content),e.googletag.pubads().setTargeting("dfp_cache_buster",o).setTargeting("page_id",d).setTargeting("page_type",i);document.cookie.match(/usprivacy=\d+[YN]Y/)&&e.googletag.pubads().setRequestNonPersonalizedAds(1),r&&googletag.pubads().setTargeting("kw","test_"+r);var u=document.cookie.match(/AB=(\d+_\d+)/);u&&u.length>1&&googletag.pubads().setTargeting("ab_var",u[1]);var c=document.querySelector(".article__right-rail"),p=window.innerWidth>=1440;c&&p?googletag.pubads().setTargeting("article_right_rail","true"):googletag.pubads().setTargeting("article_right_rail","false"),googletag.pubads().addEventListener("slotOnload",function(e){if(l){var t=Math.round(performance.now()),a=e.slot.getResponseInformation();metrics.firstAdLoaded(t,a.campaignId),l=!1}}),isMember&&googletag.pubads().setTargeting("segs","plus"),window.tests.disable_adLightning?googletag.pubads().setTargeting("al_test","al_disabled"):googletag.pubads().setTargeting("al_test","al_enabled"),window.tests.disable_index?googletag.pubads().setTargeting("hb_test","ix_disabled_openx_enabled"):googletag.pubads().setTargeting("hb_test","ix_enabled_openx_disabled"),googletag.pubads().addEventListener("slotRenderEnded",function(i){var o=i.slot,r=o.getSlotElementId(),d=e.document.getElementById(r);if(Array.isArray(i.size)&&i.size[0]&&i.size[1]){var l=i.size[0]+"x"+i.size[1];(function(e,t){return"1x2"!==e&&"1x3"!==e&&"1x4"!==e&&"300x251"!==e&&!["mobile-outstream-video-1","mobile-outstream-video-2","outstream-video-1","outstream-video-2","outstream-video-xl-1","outstream-video-xl-2"].includes(t)})(l,r)&&!s[r]&&(function(e){e.clearTargeting("hb_adid"),e.clearTargeting("hb_bidder"),e.clearTargeting("hb_pb"),e.clearTargeting("hb_size"),e.setTargeting("refresh","yes")}(o),function(i,o,s){setInterval(function(){(function(t){return!!e.document.hasFocus()&&a.isElementInViewport(t)})(s)&&t.prebid(o,i)},3e4)}(o,n[r],d),s[r]=!0)}})}),this.requestAd=function(e){e.defineSlot(),googletag.pubads().refresh([e.gptSlot],{changeCorrelator:!1})},this.createAd=function(t){var a,i=t.getAttribute("data-type"),s=t.getAttribute("data-sizes"),r=t.getAttribute("data-prebid-sizes"),d=t.getAttribute("data-zone-id"),l=t.getAttribute("data-placement-id"),c=t.getAttribute("data-criteo-id"),p=t.getAttribute("data-site-id"),m=parseInt(t.getAttribute("data-ll-threshold"));return o[i]||(o[i]=1),t.id=i+"-"+o[i],o[i]++,{id:t.id,type:i,adUnit:("91898098","slate.com",a=u(),"91898098/slate.com/"+a),dfpSizes:g(s),prebidSizes:g(r),rubiconZoneId:d,appnexusPlacementId:l,criteoZoneId:c,indexSiteId:p,threshold:m,gptSlot:null,defineSlot:function(){this.gptSlot=e.googletag.defineSlot(this.adUnit,this.dfpSizes,this.id),n[this.id]=this,this.gptSlot.addService(googletag.pubads()),this.gptSlot.setTargeting("site","redux"),this.gptSlot.setTargeting("refresh","no"),this.gptSlot.setTargeting("pos",this.id),this.gptSlot.setTargeting("threshold",this.threshold);["mid-article-spot","mid-article-spot-tablet","mid-article-spot-mobile","mid-article-spot-xl","outstream-video","mobile-outstream-video","outstream-video-xl"].includes(this.type)?this.gptSlot.setTargeting("outstream_eligible","true"):this.gptSlot.setTargeting("outstream_eligible","false"),e.googletag.display(this.id)}}}}]);
}, {"3":3,"101":101,"102":102}];
window.modules["headerbidding.legacy"] = [function(require,module,exports){"use strict";DS.service("headerBidding",function(){var e,i=require(103),t=require(106),s=require(105),n=require(107),r=require(102),d=require(104),a=require(108),o=require(101);function c(e){e.biddersManager.amazon&&e.biddersManager.prebid&&u(e)}function u(e){e.biddersManager.adserverRequestSent||(e.biddersManager.adserverRequestSent=!0,googletag.cmd.push(function(){googletag.pubads().refresh([e.gptSlot],{changeCorrelator:!1})}))}function p(e){e.gptSlot||e.defineSlot()}this.prebid=function(i){(e=i).biddersManager={adserverRequestSent:!1,prebid:!1,amazon:!1};var t=this;window.slateCMP.TCF.ready.then(function(e){t.requestBidsFromExchanges.call(t)}),setTimeout(function(){googletag.cmd.push(function(){p(e),u(e)})},2500)},this.requestBidsFromExchanges=function(){this.getBidsFromPrebidExchanges(),this.getBidsFromAmazon()},this.getBidsFromPrebidExchanges=function(){var i=this.createPrebidAdUnit();pbjs.que.push(function(){pbjs.addAdUnits([i]);var t=e;pbjs.requestBids({adUnitCodes:[e.id],bidsBackHandler:function(){googletag.cmd.push(function(){pbjs.que.push(function(){var e=pbjs.getBidResponsesForAdUnitCode(t.id).bids;e.length&&o.prebidWinner(e),p(t),pbjs.setTargetingForGPTAsync([t.id]),pbjs.removeAdUnit(t.id),t.biddersManager.prebid=!0,c(t)})})}})})},this.getBidsFromAmazon=function(){var i=this.createApsAdUnit(),t=pbjs.getConfig("bidderTimeout"),s=t||800,n=e;apstag&&apstag.fetchBids({slots:[i],timeout:s},function(e){googletag.cmd.push(function(){p(n),apstag.setDisplayBids(),n.biddersManager.amazon=!0,c(n)})})},this.createPrebidAdUnit=function(){var i={sizes:e.prebidSizes};return{code:e.id,mediaTypes:{banner:i},bids:this.getBidders()}},this.getBidders=function(){var t,s=[],d=["appnexus","index","rubicon","pubmatic","yahoo","openx"].sort(function(){return.5-Math.random()}).slice(0,4);if(d.includes("appnexus")&&s.push(this.appnexus()),d.includes("rubicon")&&s.push(this.rubicon()),d.includes("openx")&&s.push(this.openx()),d.includes("pubmatic")&&s.push(this.pubmatic()),d.includes("yahoo")&&s.push(this.yahoo()),d.includes("index")&&!this.isEuUser())for(var a=0;a<e.prebidSizes.length;a++){var o=e.prebidSizes[a],c=this.index(o);s.push(c)}return i.inventoryCodes[e.type]&&s.push(this.triplelift()),("mid-article-spot"===(t=e.type)||"mid-article-spot-xl"===t||"mid-article-spot-tablet"===t||"mid-article-spot-mobile"===t)&&s.push(this.concert(e)),n.placementIds[e.type]&&s.push(this.kargo()),r.zoneIds[e.type]&&s.push(this.criteo()),s},this.createApsAdUnit=function(){var i={};return"mob-adhesion"===e.type&&(i.ggProduct="inScreen"),{slotID:e.id,slotName:e.adUnit,sizes:t.sizes[e.type],slotParams:i}},this.appnexus=function(){return{bidder:"appnexusAst",params:{placementId:e.appnexusPlacementId}}},this.rubicon=function(){return{bidder:"rubicon",params:{accountId:"13590",siteId:"60302",zoneId:e.rubiconZoneId}}},this.criteo=function(){return{bidder:"criteo",params:{networkId:"7462"}}},this.index=function(i){return{bidder:"ix",params:{siteId:e.indexSiteId,size:i}}},this.kargo=function(){return{bidder:"kargo",params:{placementId:n.placementIds[e.type]}}},this.triplelift=function(){return{bidder:"triplelift",params:{inventoryCode:i.inventoryCodes[e.type]}}},this.concert=function(e){return{bidder:"concert",params:{partnerId:"slate",site:"slate.com",placementId:e.id,slot:e.type}}},this.pubmatic=function(){return{bidder:"pubmatic",params:{publisherId:s.publisherId,adSlot:s.adSlot()}}},this.openx=function(){return{bidder:"openx",params:{delDomain:d.domain,unit:d.getUnit()}}},this.yahoo=function(){return{bidder:"yahoossp",params:{dcn:a.siteId,pos:a.getPlacementId()}}},this.isEuUser=function(){return document.cookie.indexOf("GDPR_consent=1")>-1}});
}, {"101":101,"102":102,"103":103,"104":104,"105":105,"106":106,"107":107,"108":108}];
window.modules["lazyload.legacy"] = [function(require,module,exports){"use strict";require(109),require(33);var Layzr=require(110),instance=Layzr({threshold:100});instance.on("src:before",function(e){e.addEventListener("load",function(n){e.parentElement.classList.add("loaded")})}),document.addEventListener("DOMContentLoaded",function(e){instance.update().check().handlers(!0)});
}, {"33":33,"109":109,"110":110}];
window.modules["prebid.min.legacy"] = [function(require,module,exports){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(e){}else(function(){!function(){var e,t={5706:function(e,t,n){n.d(t,{Pd:function(){return d},Th:function(){return c},_U:function(){return u}});var r=n(5730),i=n(4358),o=n(265),a=n(4614),s="outstream";function c(e){var t=this,n=e.url,o=e.config,a=e.id,c=e.callback,d=e.loaded,u=e.adUnitCode,p=e.renderNow;this.url=n,this.config=o,this.handlers={},this.id=a,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):(0,i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,o=function(){e._render?e._render.apply(e,t):(0,i.logWarn)("No render function was provided, please use .setRender on the renderer")};l(u)?((0,i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(u)),o()):p?o():(this.cmd.unshift(o),(0,r.B)(n,s,this.callback,this.documentContext))}.bind(this)}function d(e){return!(!e||!e.url)}function u(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}function l(e){var t=pbjs.adUnits,n=(0,a.sE)(t,function(t){return t.code===e});if(!n)return!1;var r=(0,o.Z)(n,"renderer"),i=!!(r&&r.url&&r.render),s=(0,o.Z)(n,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(i&&!0!==r.backupOnly||c&&!0!==s.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),(0,i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(n))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.logError)("Error processing Renderer command: ",e)}}},875:function(e,t,n){n.d(t,{f:function(){return a}});var r=n(265),i={};function o(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,r.Z)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,r.Z)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},3092:function(e,t,n){n.d(t,{VP:function(){return ie},ZP:function(){return de},rp:function(){return ne},uV:function(){return ae},nX:function(){return re}});var r=n(3324),i=n(4942),o=n(4358),a=n(265),s=n(1002),c=n(3193),d=n(4614),u=n(4679),l=[];function p(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,s=e.activeLabels,c=void 0===s?[]:s,p=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0,m=g(arguments.length>3&&void 0!==arguments[3]?arguments[3]:l);(0,o.isPlainObject)(p)||(p=f?{banner:{sizes:f}}:{});var v=(0,a.Z)(p,"banner.sizes");m.shouldFilter&&v&&((p=(0,o.deepClone)(p)).banner.sizes=v.filter(function(e){return m.sizesSupported[e]}));var h={active:!p.hasOwnProperty(u.Mk)||(0,a.Z)(p,"banner.sizes.length")>0&&(0===n.length||!i&&(n.some(function(e){return m.labels[e]})||n.some(function(e){return(0,d.q9)(c,e)}))||i&&n.reduce(function(e,t){return e?m.labels[t]||(0,d.q9)(c,t):e},!0)),mediaTypes:p};return v&&v.length!==p.banner.sizes.length&&(h.filterResults={before:v,after:p.banner.sizes}),h}function g(e){return e.reduce(function(e,t){if("object"===(0,s.Z)(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=(0,o.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,o.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach(function(n){return(t[n]||[]).forEach(function(t){return e[n][t]=!0})}))}else(0,o.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e},{labels:{},sizesSupported:{},shouldFilter:!1})}c.vc.getConfig("sizeConfig",function(e){return function(e){l=e}(e.sizeConfig)});var m=n(59),v=n(5339),h=n(8928),b=n(2797),y=n(875),_=n(5102),E=n(136),I=n(2963),T=n(1120),S=n(5671),w=n(3144),O=n(8916),A=n(2793),C=n(8792);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,T.Z)(e);if(t){var i=(0,T.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,I.Z)(this,n)}}function x(e,t,n){D(e,t),t.set(e,n)}function D(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var R=new WeakMap,j=new WeakMap,B=new WeakMap,U=new WeakMap,N=new WeakSet,M=function(){function e(){var t;(0,S.Z)(this,e),D(this,t=N),t.add(this),x(this,R,{writable:!0,value:void 0}),x(this,j,{writable:!0,value:void 0}),x(this,B,{writable:!0,value:void 0}),x(this,U,{writable:!0,value:void 0}),(0,i.Z)(this,"generatedTime",void 0),this.reset()}return(0,w.Z)(e,[{key:"reset",value:function(){(0,A.Z)(this,B,(0,C.P)()),(0,A.Z)(this,R,!1),(0,A.Z)(this,j,null),(0,A.Z)(this,U,!1),this.generatedTime=null}},{key:"enable",value:function(){(0,A.Z)(this,R,!0)}},{key:"enabled",get:function(){return(0,O.Z)(this,R)}},{key:"ready",get:function(){return(0,O.Z)(this,U)}},{key:"promise",get:function(){return(0,O.Z)(this,U)?C.Z.resolve((0,O.Z)(this,j)):((0,O.Z)(this,R)||P(this,N,Z).call(this,null),(0,O.Z)(this,B).promise)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.timestamp)();this.generatedTime=t,P(this,N,Z).call(this,e)}},{key:"getConsentData",value:function(){return(0,O.Z)(this,j)}}]),e}();function Z(e){(0,A.Z)(this,U,!0),(0,A.Z)(this,j,e),(0,O.Z)(this,B).resolve(e)}var q=function(e){(0,E.Z)(n,e);var t=k(n);function n(){return(0,S.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),n}(M),z=function(e){(0,E.Z)(n,e);var t=k(n);function n(){return(0,S.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,o.isStr)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),n}(M),F=n(2021),L=n(5644),W=n(9128);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G="client",Y="server",H={},X=H.bidderRegistry={},J=H.aliasRegistry={},Q=[];c.vc.getConfig("s2sConfig",function(e){e&&e.s2sConfig&&(Q=(0,o.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])});var $={},ee=(0,b.z3)("sync",function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,i=e.adUnits,s=e.src,c=e.metrics;return i.reduce(function(e,i){return e.push(i.bids.filter(function(e){return e.bidder===t}).reduce(function(e,t){var d=null==(t=Object.assign({},t,(0,o.getDefinedParams)(i,["nativeParams","nativeOrtbRequest","ortb2Imp","mediaType","renderer"]))).mediaTypes?i.mediaTypes:t.mediaTypes;return(0,o.isValidMediaTypes)(d)?t=Object.assign({},t,{mediaTypes:d}):(0,o.logError)("mediaTypes is not correctly configured for adunit ".concat(i.code)),e.push(Object.assign({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:(0,a.Z)(d,"banner.sizes")||(0,a.Z)(d,"video.playerSize")||[],bidId:t.bid_id||(0,o.getUniqueIdentifierStr)(),bidderRequestId:r,auctionId:n,src:s,metrics:c,bidRequestsCount:y.f.getRequestsCounter(i.code),bidderRequestsCount:y.f.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:y.f.getBidderWinsCounter(i.code,t.bidder)})),e},[])),e},[]).reduce(o.flatten,[]).filter(function(e){return""!==e})},"getBids"),te=(0,b.z3)("sync",function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders;if(null==t)return e;var r=(void 0===n?ae:n)(t);return e.filter(function(e){return r.has(e.bidder)})},"filterBidsForAdUnit");var ne=new z,re=new q,ie={getCoppa:function(){return!!c.vc.getConfig("coppa")}},oe=(0,b.z3)("sync",function(e,t){return function(e,t){return e.reduce(function(e,n){var r=f(p(n,t),n.mediaTypes,n.sizes),i=r.active,a=r.mediaTypes,s=r.filterResults;return i?(s&&(0,o.logInfo)('Size mapping filtered adUnit "'.concat(n.code,'" banner sizes from '),s.before,"to ",s.after),n.mediaTypes=a,n.bids=n.bids.reduce(function(e,r){var i=f(p(r,t),n.mediaTypes),a=i.active,s=i.mediaTypes,c=i.filterResults;return a?(c&&((0,o.logInfo)('Size mapping filtered adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'" banner sizes from '),c.before,"to ",c.after),r.mediaTypes=s),e.push(r)):(0,o.logInfo)('Size mapping deactivated adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'"')),e},[]),e.push(n)):(0,o.logInfo)('Size mapping disabled adUnit "'.concat(n.code,'"')),e},[])}(e,t)},"setupAdUnitMediaTypes");function ae(e){(0,o.isArray)(e)||(e=[e]);var t=new Set([null]);return e.filter(function(e){return e&&e.enabled}).flatMap(function(e){return e.bidders}).forEach(function(e){return t.add(e)}),t}var se=(0,b.z3)("sync",function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders,a=(void 0===r?ae:r)(t);return(0,o.getBidderCodes)(e).reduce(function(e,t){return e[a.has(t)?Y:G].push(t),e},(n={},(0,i.Z)(n,G,[]),(0,i.Z)(n,Y,[]),n))},"partitionBidders");function ce(e,t,n){try{var r=X[e].getSpec();r&&r[t]&&"function"==typeof r[t]&&((0,o.logInfo)("Invoking ".concat(e,".").concat(t)),c.vc.runWithBidder(e,o.bind.call(r[t],r,n)))}catch(n){(0,o.logWarn)("Error calling ".concat(t," of ").concat(e))}}H.makeBidRequests=(0,b.z3)("sync",function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=(0,W.Bf)(s),F.emit(L.EVENTS.BEFORE_REQUEST_BIDS,e),(0,m.Fb)(e),e=oe(e,i);var u=se(e,Q),l=u[G],p=u[Y];c.vc.getConfig("bidderSequence")===c.FD&&(l=(0,o.shuffle)(l));var f=(0,_.nH)(),g=[],v=a.global||{},h=a.bidder||{};function b(e){var t=Object.freeze((0,o.mergeDeep)({},v,h[e.bidderCode]));return e.ortb2=t,e.bids.forEach(function(e){return e.ortb2=t}),e}Q.forEach(function(r){if(r&&r.enabled){var i=function(e,t){var n=(0,o.deepClone)(e);return n.forEach(function(e){e.bids=te(e.bids,t).map(function(e){return e.bid_id=(0,o.getUniqueIdentifierStr)(),e})}),n.filter(function(e){return 0!==e.bids.length})}(e,r),a=(0,o.generateUUID)();p.forEach(function(e){var c=(0,o.getUniqueIdentifierStr)(),d=s.fork(),u=b({bidderCode:e,auctionId:n,bidderRequestId:c,uniquePbsTid:a,bids:ee({bidderCode:e,auctionId:n,bidderRequestId:c,adUnits:(0,o.deepClone)(i),src:L.S2S.SRC,metrics:d}),auctionStart:t,timeout:r.timeout,src:L.S2S.SRC,refererInfo:f,metrics:d});0!==u.bids.length&&g.push(u)}),i.forEach(function(e){var t=e.bids.filter(function(e){return(0,d.sE)(g,function(t){return(0,d.sE)(t.bids,function(t){return t.bidId===e.bid_id})})});e.bids=t}),g.forEach(function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=i.filter(function(e){return e.bids.length>0}))})}});var y=function(e){var t=(0,o.deepClone)(e);return t.forEach(function(e){e.bids=te(e.bids,null)}),t.filter(function(e){return 0!==e.bids.length})}(e);return l.forEach(function(e){var a=(0,o.getUniqueIdentifierStr)(),c=s.fork(),d=b({bidderCode:e,auctionId:n,bidderRequestId:a,bids:ee({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:(0,o.deepClone)(y),labels:i,src:"client",metrics:c}),auctionStart:t,timeout:r,refererInfo:f,metrics:c}),u=X[e];u||(0,o.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),u&&d.bids&&0!==d.bids.length&&g.push(d)}),ne.getConsentData()&&g.forEach(function(e){e.gdprConsent=ne.getConsentData()}),re.getConsentData()&&g.forEach(function(e){e.uspConsent=re.getConsentData()}),g.forEach(function(e){c.vc.runWithBidder(e.bidderCode,function(){var t=c.vc.getConfig("fledgeEnabled");e.fledgeEnabled=navigator.runAdAuction&&t})}),g},"makeBidRequests"),H.callBids=function(e,t,n,i,a,s,d){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var l=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===L.S2S.SRC)].push(t),e},[[],[]]),p=(0,r.Z)(l,2),f=p[0],g=p[1],m=[];g.forEach(function(e){for(var t=-1,n=0;n<m.length;++n)if(e.uniquePbsTid===m[n].uniquePbsTid){t=n;break}t<=-1&&m.push(e)});var v=0;Q.forEach(function(e){if(e&&m[v]&&ae(e).has(m[v].bidderCode)){var t=(0,h.O)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),r=e.bidders,c=X[e.adapter],d=m[v].uniquePbsTid,l=m[v].adUnitsS2SCopy,p=g.filter(function(e){return e.uniquePbsTid===d});if(c){var f={ad_units:l,s2sConfig:e,ortb2Fragments:u};if(f.ad_units.length){var b=p.map(function(e){return e.start=(0,o.timestamp)(),i.bind(e)}),y=(0,o.getBidderCodes)(f.ad_units).filter(function(e){return r.includes(e)});(0,o.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(y.length>0?y.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),p.forEach(function(e){F.emit(L.EVENTS.BID_REQUESTED,V(V({},e),{},{tid:e.auctionId}))}),c.callBids(f,g,n,function(){return b.forEach(function(e){return e()})},t)}}else(0,o.logError)("missing "+e.adapter);v++}}),f.forEach(function(e){e.start=(0,o.timestamp)();var t=X[e.bidderCode];c.vc.runWithBidder(e.bidderCode,function(){(0,o.logMessage)("CALLING BIDDER"),F.emit(L.EVENTS.BID_REQUESTED,e)});var r=(0,h.O)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),u=i.bind(e);try{c.vc.runWithBidder(e.bidderCode,o.bind.call(t.callBids,t,e,n,u,r,d,c.vc.callbackWithBidder(e.bidderCode)))}catch(t){(0,o.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),u()}})}else(0,o.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},H.videoAdapters=[],H.registerBidAdapter=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(X[t]=e,(0,d.q9)(r,"video")&&H.videoAdapters.push(t),(0,d.q9)(r,"native")&&m.Sg.push(t)):(0,o.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,o.logError)("bidAdapter or bidderCode not specified")},H.aliasBidAdapter=function(e,t,n){if(void 0===X[t]){var r=X[e];if(void 0===r){var i=[];Q.forEach(function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&(0,d.q9)(r,t)?J[t]=e:i.push(e)}}),i.forEach(function(e){(0,o.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{var a,s=function(e){var t=[];return(0,d.q9)(H.videoAdapters,e)&&t.push("video"),(0,d.q9)(m.Sg,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(a=new r.constructor).setBidderCode(t);else{var c=r.getSpec(),u=n&&n.gvlid,l=n&&n.skipPbsAliasing;a=(0,v.PZ)(Object.assign({},c,{code:t,gvlid:u,skipPbsAliasing:l})),J[t]=e}H.registerBidAdapter(a,t,{supportedMediaTypes:s})}catch(t){(0,o.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,o.logMessage)('alias name "'+t+'" has been already specified.')},H.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,$[n]={adapter:t,gvlid:r}):(0,o.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,o.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},H.enableAnalytics=function(e){(0,o.isArray)(e)||(e=[e]),(0,o._each)(e,function(e){var t=$[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,o.logError)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))})},H.getBidAdapter=function(e){return X[e]},H.getAnalyticsAdapter=function(e){return $[e]},H.callTimedOutBidders=function(e,t,n){t=t.map(function(t){return t.params=(0,o.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=n,t}),t=(0,o.groupBy)(t,"bidder"),Object.keys(t).forEach(function(e){ce(e,"onTimeout",t[e])})},H.callBidWonBidder=function(e,t,n){t.params=(0,o.getUserConfiguredParams)(n,t.adUnitCode,t.bidder),y.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),ce(e,"onBidWon",t)},H.callSetTargetingBidder=function(e,t){ce(e,"onSetTargeting",t)},H.callBidViewableBidder=function(e,t){ce(e,"onBidViewable",t)},H.callBidderError=function(e,t,n){ce(e,"onBidderError",{error:t,bidderRequest:n})};var de=H},5339:function(e,t,n){n.d(t,{Q1:function(){return D},PZ:function(){return A},dX:function(){return O}});var r=n(3324),i=n(1002);function o(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}var a=n(3092),s=n(3193),c=n(9626),d=n(1974),u=n(59),l=n(154),p=n(5644),f=n(2021),g=n(4614),m=n(8928),v=n(4358),h=n(265),b=n(4679),y=n(2797),_=n(5164),E=n(5383),I=n(5975),T=n(9128),S=(0,_.eA)("bidderFactory"),w=["cpm","ttl","creativeId","netRevenue","currency"];function O(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=A(e);a.ZP.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach(function(t){var r,i,o=t;(0,v.isPlainObject)(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),a.ZP.aliasRegistry[o]=e.code,n(Object.assign({},e,{code:o,gvlid:r,skipPbsAliasing:i}))})}function A(e){return Object.assign(new o(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,i,o,d,m,h){if(Array.isArray(r.bids)){var b={},y=[],_=R(r).measureTime("validate",function(){return r.bids.filter(n)});if(0!==_.length){var S={};_.forEach(function(e){S[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}),C(e,_,r,d,h,{onRequest:function(e){return f.emit(p.EVENTS.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){m(e.code),y.push(t)},onFledgeAuctionConfigs:function(e){e.forEach(function(e){var t=S[e.bidId];t&&x(t,e)})},onError:function(t,n){m(e.code),a.ZP.callBidderError(e.code,n,r),f.emit(p.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),(0,v.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n=S[t.requestId];if(n){if(t.adapterCode=n.bidder,function(e,t){var n=I.S.get(t,"allowAlternateBidderCodes")||!1,r=I.S.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(r=(0,v.isArray)(r)?r.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return!!e}).filter(v.uniques):r,!n||(0,v.isArray)(r)&&"*"!==r[0]&&!r.includes(e)))}(t.bidderCode,n.bidder))return(0,v.logWarn)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(n.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void i.reject(n.adUnitCode,t,p.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[n.bidder]);var r=Object.assign((0,c.m)(p.STATUS.GOOD,n),t);!function(e,t){var n=(0,T.Bf)(t.metrics);n.checkpoint("addBidResponse"),b[e]=!0,n.measureTime("addBidResponse.validate",function(){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?E.K.index:n;function i(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?function(){var e=Object.keys(t);return w.every(function(n){return(0,g.q9)(e,n)&&!(0,g.q9)([void 0,null],t[n])})}()?"native"!==t.mediaType||(0,u.r4)(t,{index:r})?"video"!==t.mediaType||(0,l.Dn)(t,{index:r})?!("banner"===t.mediaType&&!P(e,t,{index:r}))||((0,v.logError)(i("Banner bids require a width and height")),!1):((0,v.logError)(i("Video bid does not have required vastUrl or renderer property")),!1):((0,v.logError)(i("Native bid missing some required properties.")),!1):((0,v.logError)(i("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)})?i(e,t):i.reject(e,t,p.REJECTION_REASON.INVALID)}(n.adUnitCode,r)}else(0,v.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),i.reject(null,t,p.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:O})}else O()}function O(){o(),s.vc.runWithBidder(e.code,function(){f.emit(p.EVENTS.BIDDER_DONE,r),t(y,r.gdprConsent,r.uspConsent)})}}});function t(t,n,r){k(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||((0,v.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var C=(0,y.z3)("sync",function(e,t,n,r,o,a){var s=a.onRequest,c=a.onResponse,d=a.onFledgeAuctionConfigs,u=a.onError,l=a.onBid,p=a.onCompletion,f=R(n);p=f.startTiming("total").stopBefore(p);var g=f.measureTime("buildRequests",function(){return e.buildRequests(t,n)});if(g&&0!==g.length){Array.isArray(g)||(g=[g]);var m=(0,v.delayExecution)(p,g.length);g.forEach(function(t){var n=f.fork();function a(e){null!=e&&(e.metrics=n.fork().renameWith()),l(e)}var p=o(function(r,i){h();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},c(r);try{r=n.measureTime("interpretResponse",function(){return e.interpretResponse(r,t)})}catch(t){return(0,v.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}var o;r&&(0,v.isArray)(r.fledgeAuctionConfigs)?(d(r.fledgeAuctionConfigs),o=r.bids):o=r,o&&((0,v.isArray)(o)?o.forEach(a):a(o)),m()}),g=o(function(e,t){h(),u(e,t),m()});s(t);var h=n.startTiming("net");switch(t.method){case"GET":r("".concat(t.url).concat(function(e){return e?"?".concat("object"===(0,i.Z)(e)?(0,v.parseQueryStringParameters)(e):e):""}(t.data)),{success:p,error:g},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:p,error:g},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,v.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}})}else p()},"processBidderRequests"),k=(0,y.z3)("async",function(e,t,n,r){var i=s.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(i||!a.ZP.aliasRegistry[e.code])){var o=s.vc.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!o||!o.iframe&&!o.all),pixelEnabled:!(!o||!o.image&&!o.all)},t,n,r);c&&(Array.isArray(c)||(c=[c]),c.forEach(function(t){d.k_.registerSync(t.type,e.code,t.url)}))}},"registerSyncs"),x=(0,y.z3)("sync",function(e,t){(0,v.logInfo)("bidderFactory.addComponentAuction",t)},"addComponentAuction");function D(e,t){var n=a.ZP.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=S.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){(0,v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}}function P(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,i=void 0===n?E.K.index:n;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),s=o&&o.sizes||a&&a.banner&&a.banner.sizes,c=(0,v.parseSizesInput)(s);if(1===c.length){var d=c[0].split("x"),u=(0,r.Z)(d,2),l=u[0],p=u[1];return t.width=parseInt(l,10),t.height=parseInt(p,10),!0}return!1}function R(e){return(0,T.Bf)(e.metrics).renameWith(function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]})}(0,y.v5)("checkAdUnitSetup").before(function(e,t){if(!s.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return(0,h.Z)(e,"mediaTypes.video.context")===b.Oh}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(v.flatten,[]).filter(v.uniques).forEach(function(e){var t=a.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=S.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||(0,v.timestamp)()>o.lastUpdated+24*r*60*60*1e3)&&(0,m.h)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:(0,v.timestamp)(),mapping:t.mapping};S.setDataInLocalStorage(i,JSON.stringify(n))}catch(t){(0,v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){(0,v.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}}),e.call(this,t)})},5730:function(e,t,n){n.d(t,{B:function(){return s}});var r=n(4614),i=n(4358),o=new WeakMap,a=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital"];function s(e,t,n,s,c){if(t&&e){if((0,r.q9)(a,t)){s||(s=document);var d=p(s,e);if(d)return n&&"function"==typeof n&&(d.loaded?n():d.callbacks.push(n)),d.tag;var u=o.get(s)||{},l={loaded:!1,tag:null,callbacks:[]};return u[e]=l,o.set(s,u),n&&"function"==typeof n&&l.callbacks.push(n),(0,i.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,n,r,o){r||(r=document);var a=r.createElement("script");a.type="text/javascript",a.async=!0;var s=p(r,e);return s&&(s.tag=a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()},a.src=t,o&&(0,i.setScriptAttributes)(a,o),(0,i.insertElement)(a,r),a}(e,function(){l.loaded=!0;try{for(var e=0;e<l.callbacks.length;e++)l.callbacks[e]()}catch(e){(0,i.logError)("Error executing callback","adloader.js:loadExternalScript",e)}},s,c)}(0,i.logError)("".concat(t," not whitelisted for loading external JavaScript"))}else(0,i.logError)("cannot load external script without url and moduleCode");function p(e,t){var n=o.get(e);return n&&n[t]?n[t]:null}}},8928:function(e,t,n){n.d(t,{O:function(){return s},h:function(){return a}});var r=n(1002),i=n(3193),o=n(4358),a=s();function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,a=t.done;return function(t,s,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var u,l=d.method||(c?"POST":"GET"),p=document.createElement("a");p.href=t;var f="object"===(0,r.Z)(s)&&null!==s?s:{success:function(){(0,o.logMessage)("xhr success")},error:function(e){(0,o.logError)("xhr error",null,e)}};if("function"==typeof s&&(f.success=s),(u=new window.XMLHttpRequest).onreadystatechange=function(){if(4===u.readyState){"function"==typeof a&&a(p.origin);var e=u.status;e>=200&&e<300||304===e?f.success(u.responseText,u):f.error(u.statusText,u)}},i.vc.getConfig("disableAjaxTimeout")||(u.ontimeout=function(){(0,o.logError)("  xhr timeout after ",u.timeout,"ms")}),"GET"===l&&c){var g=(0,o.parseUrl)(t,d);Object.assign(g.search,c),t=(0,o.buildUrl)(g)}u.open(l,t,!0),i.vc.getConfig("disableAjaxTimeout")||(u.timeout=e),d.withCredentials&&(u.withCredentials=!0),(0,o._each)(d.customHeaders,function(e,t){u.setRequestHeader(t,e)}),d.preflight&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof n&&n(p.origin),"POST"===l&&c?u.send(c):u.send()}catch(e){(0,o.logError)("xhr construction",e),"object"===(0,r.Z)(s)&&null!==s&&s.error(e)}}}},5383:function(e,t,n){n.d(t,{K:function(){return X}});var r=n(4358),i=n(1002),o=n(3324),a=n(265),s=n(6463),c=n(59),d=n(8928),u=n(3193);function l(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?X.index:t,r=e.vastXml?e.vastXml:function(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}(e.vastUrl,e.vastImpUrl),i=n.getAuction(e),o={type:"xml",value:r,ttlseconds:Number(e.ttl)+15};return u.vc.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,o.aid=e.auctionId),null!=i&&(o.timestamp=i.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}var p=n(5706),f=n(1974),g=n(2797),m=n(4614),v=n(154),h=n(4679),b=n(5975),y=n(2021),_=n(3092),E=n(5644),I=n(8792),T=n(9128),S=n(9626),w=f.k_.syncUsers,O="completed";y.on(E.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t=e.bidderCode,n=e.cpm,i=b.S.get(t||null,"bidCpmAdjustment");if(i&&"function"==typeof i)try{n=i(e.cpm,Object.assign({},e))}catch(e){(0,r.logError)("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)});var A={},C={},k=[];function x(e){var t=e.adUnits,n=e.adUnitCodes,i=e.callback,a=e.cbTimeout,s=e.labels,c=e.auctionId,d=e.ortb2Fragments,l=e.metrics;l=(0,T.Bf)(l);var p,f,g,v,h=t,b=s,x=n,j=c||(0,r.generateUUID)(),N=a,M=new Set,Z=[],q=i,z=[],L=[],W=[],K=[];function V(){return{auctionId:j,timestamp:p,auctionEnd:f,auctionStatus:v,adUnits:h,adUnitCodes:x,labels:b,bidderRequests:z,noBids:W,bidsReceived:L,bidsRejected:Z,winningBids:K,timeout:N,metrics:l}}function G(e,n){if(n&&clearTimeout(g),void 0===f){var i=[];e&&((0,r.logMessage)("Auction ".concat(j," timedOut")),o=M,(i=z.map(function(e){return(e.bids||[]).filter(function(e){return!o.has(e.bidder)})}).reduce(r.flatten,[])).length&&y.emit(E.EVENTS.BID_TIMEOUT,i)),v=O,f=Date.now(),l.checkpoint("auctionEnd"),l.timeBetween("requestBids","auctionEnd","requestBids.total"),l.timeBetween("callBids","auctionEnd","requestBids.callBids"),y.emit(E.EVENTS.AUCTION_END,V()),R(h,function(){try{if(null!=q){var n=x,o=L.filter(r.bind.call(r.adUnitsFilter,this,n)).reduce(Y,{});q.apply(pbjs,[o,e,j]),q=null}}catch(e){(0,r.logError)("Error executing bidsBackHandler",null,e)}finally{i.length&&_.ZP.callTimedOutBidders(t,i,N);var a=u.vc.getConfig("userSync")||{};a.enableOverride||w(a.syncDelay)}})}var o}function H(){u.vc.resetBidder(),(0,r.logInfo)("Bids Received for Auction with id: ".concat(j),L),v=O,G(!1,!0)}function J(e){M.add(e)}function Q(e){var t=this;e.forEach(function(e){var t;t=e,z=z.concat(t)});var n={},i={bidRequests:e,run:function(){var i,c;i=G.bind(null,!0),c=setTimeout(i,N),g=c,v="inProgress",y.emit(E.EVENTS.AUCTION_INIT,V());var l=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,i=void 0===n?X.index:n,a=0,s=!1,c=new Set,d={},l={};function p(){a--,s&&0===a&&e()}function f(e,t,n){return d[t.requestId]=!0,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,i=(void 0===n?X.index:n).getBidderRequest(e),o=i&&i.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,r.timestamp)(),requestTimestamp:e.requestTimestamp||o,cpm:e.cpm||parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),a++,n(p)}function g(e,n){f(e,n,function(e){var r=F(n);"video"===r.mediaType?U(t,r,e):(B(t,r),e())})}function v(e,n,i){return f(e,n,function(e){var a=(0,S.m)(E.STATUS.NO_BID,n.getIdentifiers());return Object.assign(a,Object.fromEntries(Object.entries(n).filter(function(e){var t=(0,o.Z)(e,1)[0];return!a.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)}))),a.status=E.BID_STATUS.BID_REJECTED,a.cpm=0,n.rejectionReason=i,(0,r.logWarn)("Bid from ".concat(n.bidder||"unknown bidder"," was rejected: ").concat(i),n),y.emit(E.EVENTS.BID_REJECTED,n),t.addBidRejected(n),e(),a})}return{addBidResponse:function(){function e(e,t){var n,r=i.getBidderRequest(t);!function(e,t){null==l[e]&&(l[e]=I.Z.resolve()),l[e]=l[e].then(function(){return I.Z.resolve(t).catch(function(){})})}(r&&r.bidderRequestId||"",D.call({dispatch:g},e,t,function(r){return null==n&&(n=v(e,t,r)),n}))}return e.reject=v,e}(),adapterDone:function(){!function(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),o=l[e.bidderRequestId],a=l[""];(null!=o||null!=a)&&i>0?I.Z.race([I.Z.timeout(i),I.Z.resolve(a).then(function(){return o})]).then(n):n()}(this,function(){var n=t.getBidRequests(),i=u.vc.getConfig("auctionOptions");if(c.add(this),i&&!(0,r.isEmpty)(i)){var o=i.secondaryBidders;o&&!n.every(function(e){return(0,m.q9)(o,e.bidderCode)})&&(n=n.filter(function(e){return!(0,m.q9)(o,e.bidderCode)}))}s=n.every(function(e){return c.has(e)}),this.bids.forEach(function(e){d[e.bidId]||(t.addNoBid(e),y.emit(E.EVENTS.NO_BID,e))}),s&&0===a&&e()}.bind(this))}}}(H,t);_.ZP.callBids(h,e,l.addBidResponse,l.adapterDone,{request:function(e,t){s(A,t),s(n,e),C[e]||(C[e]={SRA:!0,origin:t}),n[e]>1&&(C[e].SRA=!1)},done:function(e){A[e]--,k[0]&&a(k[0])&&k.shift()}},N,J,d)}};function a(e){var t=!0,n=u.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(function(e){var r=1,i=void 0!==e.src&&e.src===E.S2S.SRC?"s2s":e.bidderCode;return C[i]&&(!1===C[i].SRA&&(r=Math.min(e.bids.length,n)),A[C[i].origin]+r>n&&(t=!1)),!t}),t&&e.run(),t}function s(e,t){void 0===e[t]?e[t]=1:e[t]++}a(i)||((0,r.logWarn)("queueing auction due to limited endpoint capacity"),k.push(i))}return{addBidReceived:function(e){L=L.concat(e)},addBidRejected:function(e){Z=Z.concat(e)},addNoBid:function(e){W=W.concat(e)},executeCallback:G,callBids:function(){v="started",p=Date.now();var e=l.measureTime("requestBids.makeRequests",function(){return _.ZP.makeBidRequests(h,p,j,N,b,d,l)});(0,r.logInfo)("Bids Requested for Auction with id: ".concat(j),e),l.checkpoint("callBids"),e.length<1?((0,r.logWarn)("No valid bid requests returned for auction"),H()):P.call({dispatch:Q,context:this},e)},addWinningBid:function(e){K=K.concat(e),_.ZP.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){_.ZP.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return K},getAuctionStart:function(){return p},getTimeout:function(){return N},getAuctionId:function(){return j},getAuctionStatus:function(){return v},getAdUnits:function(){return h},getAdUnitCodes:function(){return x},getBidRequests:function(){return z},getBidsReceived:function(){return L},getNoBids:function(){return W},getFPD:function(){return d},getMetrics:function(){return l}}}var D=(0,g.z3)("sync",function(e,t,n){this.dispatch.call(null,e,t)},"addBidResponse"),P=(0,g.z3)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),R=(0,g.z3)("async",function(e,t){t&&t()},"bidsBackCallback");function j(e,t){t.timeToRespond>e.getTimeout()+u.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function B(e,t){!function(e){var t,n=!0===b.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?X.index:n;if(!t)return{};var i=r.getBidRequest(t),o={};return G(o,V(t.mediaType,e),t,i),e&&b.S.getOwn(e,E.JSON_MAPPING.ADSERVER_TARGETING)&&(G(o,b.S.ownSettingsFor(e),t,i),t.sendStandardTargeting=b.S.get(e,"sendStandardTargeting")),t.native&&(o=Object.assign({},o,(0,c.Ur)(t))),o}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,T.Bf)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),y.emit(E.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),j(e,t)}function U(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).index,o=void 0===i?X.index:i,s=!0,c=(0,a.Z)(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),d=c&&(0,a.Z)(c,"context"),l=c&&(0,a.Z)(c,"useCacheKey");u.vc.getConfig("cache.url")&&(l||d!==v.gZ)&&(!t.videoCacheKey||u.vc.getConfig("cache.ignoreBidderCacheKey")?(s=!1,z(e,t,n,c)):t.vastUrl||((0,r.logError)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(B(e,t),n())}var N,M,Z=function(e){!function(e,t){var n={puts:e.map(l)};(0,d.h)(u.vc.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}(e.map(function(e){return e.bidResponse}),function(t,n){n.forEach(function(n,i){var o,a=e[i],s=a.auctionInstance,c=a.bidResponse,d=a.afterBidAdded;t?((0,r.logWarn)("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")),j(s,c)):""===n.uuid?((0,r.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),j(s,c)):(c.videoCacheKey=n.uuid,c.vastUrl||(c.vastUrl=(o=c.videoCacheKey,"".concat(u.vc.getConfig("cache.url"),"?uuid=").concat(o))),B(s,c),d())})})};u.vc.getConfig("cache",function(e){N="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,M="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0});var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,n=[[]],r=!1,i=function(e){return e()};return function(o,a,s){var c=M>0?e:i;n[n.length-1].length>=N&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),r||(r=!0,c(function(){n.forEach(t),n=[[]],r=!1},M))}}(),z=(0,g.z3)("async",function(e,t,n,r){q(e,t,n)},"callPrebidCache");function F(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=void 0===n?X.index:n;y.emit(E.EVENTS.BID_ADJUSTMENT,e);var o=(null===(t=r.getBidRequest(e))||void 0===t?void 0:t.renderer)||r.getAdUnit(e).renderer,a=e.mediaType,c=r.getMediaTypes(e),d=c&&c[a],l=d&&d.renderer,f=null;l&&l.url&&l.render&&(!0!==l.backupOnly||!e.renderer)?f=l:o&&o.url&&o.render&&(!0!==o.backupOnly||!e.renderer)&&(f=o),f&&(e.renderer=p.Th.install({url:f.url,config:f.options}),e.renderer.setRender(f.render));var g=L(e.mediaType,c,u.vc.getConfig("mediaTypePriceGranularity")),m=(0,s.D)(e.cpm,"object"===(0,i.Z)(g)?g:u.vc.getConfig("customPriceBucket"),u.vc.getConfig("currency.granularityMultiplier"));return e.pbLg=m.low,e.pbMg=m.med,e.pbHg=m.high,e.pbAg=m.auto,e.pbDg=m.dense,e.pbCg=m.custom,e}function L(e,t,n){if(e&&n){if(e===h.pX){var r=(0,a.Z)(t,"".concat(h.pX,".context"),"instream");if(n["".concat(h.pX,"-").concat(r)])return n["".concat(h.pX,"-").concat(r)]}return n[e]}}var W=function(e){return function(t){var n=e||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?X.index:t,r=L(e.mediaType,n.getMediaTypes(e),u.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":u.vc.getConfig("priceGranularity")}(t);return n===E.GRANULARITY_OPTIONS.AUTO?t.pbAg:n===E.GRANULARITY_OPTIONS.DENSE?t.pbDg:n===E.GRANULARITY_OPTIONS.LOW?t.pbLg:n===E.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:n===E.GRANULARITY_OPTIONS.HIGH?t.pbHg:n===E.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function K(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return(0,r.getValue)(e,t)}}}function V(e,t){var n=E.TARGETING_KEYS,i=Object.assign({},b.S.settingsFor(null));if(i[E.JSON_MAPPING.ADSERVER_TARGETING]||(i[E.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=E.TARGETING_KEYS;return[K(e.BIDDER,"bidderCode"),K(e.AD_ID,"adId"),K(e.PRICE_BUCKET,W()),K(e.SIZE,"size"),K(e.DEAL,"dealId"),K(e.SOURCE,"source"),K(e.FORMAT,"mediaType"),K(e.ADOMAIN,function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""})]}()),"video"===e){var o=i[E.JSON_MAPPING.ADSERVER_TARGETING].slice();if(i[E.JSON_MAPPING.ADSERVER_TARGETING]=o,[n.UUID,n.CACHE_ID].forEach(function(e){void 0===(0,m.sE)(o,function(t){return t.key===e})&&o.push(K(e,"videoCacheKey"))}),u.vc.getConfig("cache.url")&&(!t||!1!==b.S.get(t,"sendStandardTargeting"))){var s=(0,r.parseUrl)(u.vc.getConfig("cache.url"));void 0===(0,m.sE)(o,function(e){return e.key===n.CACHE_HOST})&&o.push(K(n.CACHE_HOST,function(e){return(0,a.Z)(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:s.hostname}))}}return i}function G(e,t,n,i){var o=t[E.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),(0,r._each)(o,function(o){var a=o.key,s=o.val;if(e[a]&&(0,r.logWarn)("The key: "+a+" is being overwritten"),(0,r.isFn)(s))try{s=s(n,i)}catch(e){(0,r.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==E.TARGETING_KEYS.DEAL||!(0,r.isEmptyStr)(s)&&null!=s?e[a]=s:(0,r.logInfo)("suppressing empty key '"+a+"' from adserver targeting")}),e}function Y(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function H(e){Object.assign(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find(function(e){return e.getAuctionId()===n})},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap(function(e){return e.getAdUnits()}).find(function(e){return e.transactionId===n})},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap(function(e){return e.getBidRequests()});return null!=r&&(i=i.filter(function(e){return e.bidderRequestId===r})),null==n?i[0]:i.find(function(e){return e.bids&&null!=e.bids.find(function(e){return e.bidId===n})})}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap(function(e){return e.getBidRequests()}).flatMap(function(e){return e.bids}).find(function(e){return e&&e.bidId===n})}})}var X=function(){var e=[],t={addWinningBid:function(t){var n=(0,T.Bf)(t.metrics);n.checkpoint("bidWon"),n.timeBetween("auctionEnd","bidWon","render.pending"),n.timeBetween("requestBids","bidWon","render.e2e");var i=(0,m.sE)(e,function(e){return e.getAuctionId()===t.auctionId});i?(t.status=E.BID_STATUS.RENDERED,i.addWinningBid(t)):(0,r.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map(function(e){return e.getWinningBids()}).reduce(r.flatten,[])},getBidsRequested:function(){return e.map(function(e){return e.getBidRequests()}).reduce(r.flatten,[])},getNoBids:function(){return e.map(function(e){return e.getNoBids()}).reduce(r.flatten,[])},getBidsReceived:function(){return e.map(function(e){if(e.getAuctionStatus()===O)return e.getBidsReceived()}).reduce(r.flatten,[]).filter(function(e){return e})},getAllBidsForAdUnitCode:function(t){return e.map(function(e){return e.getBidsReceived()}).reduce(r.flatten,[]).filter(function(e){return e&&e.adUnitCode===t})},getAdUnits:function(){return e.map(function(e){return e.getAdUnits()}).reduce(r.flatten,[])},getAdUnitCodes:function(){return e.map(function(e){return e.getAdUnitCodes()}).reduce(r.flatten,[]).filter(r.uniques)},createAuction:function(t){var n=x(t);return function(t){e.push(t)}(n),n},findBidByAdId:function(t){return(0,m.sE)(e.map(function(e){return e.getBidsReceived()}).reduce(r.flatten,[]),function(e){return e.adId===t})},getStandardBidderAdServerTargeting:function(){return V()[E.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===E.BID_STATUS.BID_TARGETING_SET){var o=(0,m.sE)(e,function(e){return e.getAuctionId()===i.auctionId});o&&o.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new H(function(){return e}),t}()},5975:function(e,t,n){n.d(t,{S:function(){return p}});var r=n(5671),i=n(3144),o=n(265),a=n(4358),s=n(8640),c=n(5644);function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var u=new WeakSet;function l(e){return null==e?this.defaultScope:e}var p=new(function(){function e(t,n){(0,r.Z)(this,e),function(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}(this,u),this.getSettings=t,this.defaultScope=n}return(0,i.Z)(e,[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=d(this,u,l).call(this,e),(0,o.Z)(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter(function(t){return t!==e.defaultScope})}},{key:"settingsFor",value:function(e){return(0,a.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=d(this,u,l).call(this,e),this.getSettings()[e]||{}}}]),e}())(function(){return(0,s.R)().bidderSettings||{}},c.JSON_MAPPING.BD_SETTING_STANDARD)},9626:function(e,t,n){n.d(t,{m:function(){return o}});var r=n(4358);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,i=void 0===n?"client":n,o=t.bidder,a=void 0===o?"":o,s=t.bidId,c=t.transactionId,d=t.auctionId,u=i,l=e||0;this.bidderCode=a,this.width=0,this.height=0,this.statusMessage=function(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=(0,r.getUniqueIdentifierStr)(),this.requestId=s,this.transactionId=c,this.auctionId=d,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function o(e,t){return new i(e,t)}},3193:function(e,t,n){n.d(t,{FD:function(){return f},vc:function(){return b}});var r=n(4942),i=n(1002),o=n(3324),a=n(6463),s=n(4614),c=n(4358),d=n(265),u=n(5644);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p="TRUE"===(0,c.getParameterByName)(u.DEBUG_MODE).toUpperCase(),f="random",g={};g[f]=!0,g.fixed=!0;var m=f,v={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},h="*",b=function(){var e,t,n,u=[],f=null;function b(){e={};var r={_debug:p,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:null,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){(0,c.logWarn)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),this._publisherDomain=e},_priceGranularity:v.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:v.MEDIUM:(0,c.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=v.CUSTOM,(0,c.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce(function(n,r){return o(e[r])?"string"==typeof e?n[r]=i(e[r])?e[r]:t._priceGranularity:(0,c.isPlainObject)(e)&&(n[r]=e[r],(0,c.logMessage)("Using custom price granularity for ".concat(r))):(0,c.logWarn)("Invalid price granularity for media type: ".concat(r)),n},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:m,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){g[e]?this._bidderSequence=e:(0,c.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,c.isPlainObject)(e))return(0,c.logWarn)("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return(0,c.logWarn)("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!(0,c.isArray)(e[r]))return(0,c.logWarn)("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(c.isStr))return(0,c.logWarn)("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!(0,c.isBoolean)(e[r]))return(0,c.logWarn)("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function i(e){return(0,s.sE)(Object.keys(v),function(t){return e===v[t]})}function o(e){if(!e)return(0,c.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)i(e)||(0,c.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,c.isPlainObject)(e)&&!(0,a.t)(e))return(0,c.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&k(Object.keys(t).reduce(function(e,n){return t[n]!==r[n]&&(e[n]=r[n]||{}),e},{})),t=r,n={}}function y(){if(f&&n&&(0,c.isPlainObject)(n[f])){var e=n[f],r=new Set(Object.keys(t).concat(Object.keys(e)));return(0,s.Oc)(r).reduce(function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:(0,c.isPlainObject)(e[r])?n[r]=(0,c.mergeDeep)({},t[r],e[r]):n[r]=e[r],n},{})}return Object.assign({},t)}var _=[y,function(){var e=y();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map(function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?(0,d.Z)(e(),t):y()}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=h,n=t||{}),"function"==typeof i){var o={topic:e,callback:i};return u.push(o),n.init&&i(e===h?T():(0,r.Z)({},e,T(e))),function(){u.splice(u.indexOf(o),1)}}(0,c.logError)("listener must be a function")}.apply(void 0,arguments)}}),E=(0,o.Z)(_,2),I=E[0],T=E[1],S=[T,I].map(function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"===(0,i.Z)(t)&&(t=(0,c.deepClone)(t)),t}}),w=(0,o.Z)(S,2),O=w[0],A=w[1];function C(n){if((0,c.isPlainObject)(n)){var r=Object.keys(n),i={};r.forEach(function(r){var o=n[r];(0,c.isPlainObject)(e[r])&&(0,c.isPlainObject)(o)&&(o=Object.assign({},e[r],o));try{i[r]=t[r]=o}catch(e){(0,c.logWarn)("Cannot set config for property ".concat(r," : "),e)}}),k(i)}else(0,c.logError)("setConfig options must be an object")}function k(e){var t=Object.keys(e);u.filter(function(e){return(0,s.q9)(t,e.topic)}).forEach(function(t){t.callback((0,r.Z)({},t.topic,e[t.topic]))}),u.filter(function(e){return e.topic===h}).forEach(function(t){return t.callback(e)})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{(function(e){if(!(0,c.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,c.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"})(e),e.bidders.forEach(function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach(function(i){var o=e.config[i];if((0,c.isPlainObject)(o)){var a=t?c.mergeDeep:Object.assign;n[r][i]=a({},n[r][i]||{},o)}else n[r][i]=o})})}catch(e){(0,c.logError)(e)}}function D(e,t){f=e;try{return t()}finally{P()}}function P(){f=null}return b(),{getCurrentBidder:function(){return f},resetBidder:P,getConfig:T,getAnyConfig:I,readConfig:O,readAnyConfig:A,setConfig:C,mergeConfig:function(e){if((0,c.isPlainObject)(e)){var t=(0,c.mergeDeep)(y(),e);return C(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)),t}(0,c.logError)("mergeConfig input must be an object")},setDefaults:function(n){(0,c.isPlainObject)(e)?(Object.assign(e,n),Object.assign(t,n)):(0,c.logError)("defaults must be an object")},resetConfig:b,runWithBidder:D,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return D(e,c.bind.call.apply(c.bind,[t,this].concat(r)))}(0,c.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:x,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return x(e,!0)}}}()},6463:function(e,t,n){n.d(t,{D:function(){return l},t:function(){return f}});var r=n(4614),i=n(4358),o=n(3193),a={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},u={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":p(e,a,n),med:""===r?"":p(e,s,n),high:""===r?"":p(e,c,n),auto:""===r?"":p(e,u,n),dense:""===r?"":p(e,d,n),custom:""===r?"":p(e,t,n)}}function p(e,t,n){var a="";if(!f(t))return a;var s=t.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),c=0,d=(0,r.sE)(t.buckets,function(t){if(e>s.max*n){var r=t.precision;void 0===r&&(r=2),a=(t.max*n).toFixed(r)}else{if(e<=t.max*n&&e>=c*n)return t.min=c,t;c=t.max}});return d&&(a=function(e,t,n){var r=void 0!==t.precision?t.precision:2,a=t.increment*n,s=t.min*n,c=Math.floor,d=o.vc.getConfig("cpmRoundingFunction");"function"==typeof d&&(c=d);var u,l,p=Math.pow(10,r+2),f=(e*p-s*p)/(a*p);try{u=c(f)*a+s}catch(e){l=!0}return(l||"number"!=typeof u)&&((0,i.logWarn)("Invalid rounding function passed in config"),u=Math.floor(f)*a+s),(u=Number(u.toFixed(10))).toFixed(r)}(e,d,n)),a}function f(e){if((0,i.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},2021:function(e,t,n){n.r(t),n.d(t,{emit:function(){return m},get:function(){return f},getEvents:function(){return g},off:function(){return p},on:function(){return l}});var r=n(4358),i=n(5644),o=Array.prototype.slice,a=Array.prototype.push,s=r._map(i.EVENTS,function(e){return e}),c=i.EVENT_ID_PATHS,d=[],u=function(){var e={},t={};function n(t,n){r.logMessage("Emitting event for: "+t);var i=n[0]||{},o=i[c[t]],s=e[t]||{que:[]},u=r._map(s,function(e,t){return t}),l=[];d.push({eventType:t,args:i,id:o,elapsedTime:r.getPerformanceNow()}),o&&r.contains(u,o)&&a.apply(l,s[o].que),a.apply(l,s.que),r._each(l,function(e){if(e)try{e.apply(null,n)}catch(e){r.logError("Error executing handler:","events.js",e)}})}return t.on=function(t,n,i){if(function(e){return r.contains(s,e)}(t)){var o=e[t]||{que:[]};i?(o[i]=o[i]||{que:[]},o[i].que.push(n)):o.que.push(n),e[t]=o}else r.logError("Wrong event name : "+t+" Valid event names :"+s)},t.emit=function(e){n(e,o.call(arguments,1))},t.off=function(t,n,i){var o=e[t];r.isEmpty(o)||r.isEmpty(o.que)&&r.isEmpty(o[i])||i&&(r.isEmpty(o[i])||r.isEmpty(o[i].que))||(i?r._each(o[i].que,function(e){var t=o[i].que;e===n&&t.splice(t.indexOf(e),1)}):r._each(o.que,function(e){var t=o.que;e===n&&t.splice(t.indexOf(e),1)}),e[t]=o)},t.get=function(){return e},t.getEvents=function(){var e=[];return r._each(d,function(t){var n=Object.assign({},t);e.push(n)}),e},t}();r._setEventEmitter(u.emit.bind(u));var l=u.on,p=u.off,f=u.get,g=u.getEvents,m=u.emit},2797:function(e,t,n){n.d(t,{Bx:function(){return f},Cd:function(){return d},IF:function(){return g},bA:function(){return p},v5:function(){return u},z3:function(){return s}});var r=n(9062),i=n(1432),o=n.n(i),a=n(8792),s=o()({ready:o().SYNC|o().ASYNC|o().QUEUE}),c=(0,a.P)();s.ready=function(){var e=s.ready;return function(){try{return e.apply(s,arguments)}finally{c.resolve()}}}();var d=c.promise,u=s.get,l={};function p(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).postInstallAllowed,i=void 0!==n&&n;s("async",function(n){n.forEach(function(e){return t.apply(void 0,(0,r.Z)(e))}),i&&(l[e]=t)},e)([])}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=l[e];if(i)return i.apply(void 0,n);u(e).before(function(e,t){t.push(n),e(t)})}function g(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map(function(t){return[t,{get:function(){return e[t]}}]}))),t}},4679:function(e,t,n){n.d(t,{B5:function(){return r},Mk:function(){return o},Oh:function(){return a},pX:function(){return i}});var r="native",i="video",o="banner",a="adpod"},59:function(e,t,n){n.d(t,{Fb:function(){return C},JL:function(){return N},Sg:function(){return m},Ur:function(){return R},e6:function(){return P},eK:function(){return U},lY:function(){return z},r4:function(){return x},xc:function(){return v}});var r=n(3324),i=n(4942),o=n(265),a=n(4358),s=n(4614),c=n(5383),d=n(5644),u=n(4679);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=[],v=Object.keys(d.NATIVE_KEYS).map(function(e){return d.NATIVE_KEYS[e]}),h={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},b=d.NATIVE_ASSET_TYPES,y=d.NATIVE_IMAGE_TYPES,_=d.PREBID_NATIVE_DATA_KEYS_TO_ORTB,E=d.NATIVE_KEYS_THAT_ARE_NOT_ASSETS,I=d.NATIVE_KEYS,T=K(_),S=K(b),w={img:1,js:2,1:"img",2:"js"},O=1;function A(e){if(e&&e.type&&function(e){return!(!e||!(0,s.q9)(Object.keys(h),e))||((0,a.logError)("".concat(e," nativeParam is not supported")),!1)}(e.type)&&(e=h[e.type]),!e||!e.ortb||k(e.ortb))return e}function C(e){e.forEach(function(e){var t=e.nativeParams||(0,o.Z)(e,"mediaTypes.native");t&&(e.nativeParams=A(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||(0,a.isPlainObject)(e)){var t={ver:"1.2",assets:[]};for(var n in e)if(!E.includes(n))if(I.hasOwnProperty(n)){var r=e[n],i=0;r.required&&(0,a.isBoolean)(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in _)o.data={type:b[_[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?y.ICON:y.MAIN},r.aspect_ratios)if((0,a.isArray)(r.aspect_ratios))if(r.aspect_ratios.length){var s=r.aspect_ratios[0],c=s.min_width,d=s.min_height;(0,a.isInteger)(c)&&(0,a.isInteger)(d)?(o.img.wmin=c,o.img.hmin=d):(0,a.logError)("image.aspect_ratios min_width or min_height are invalid: ",c,d);var u=r.aspect_ratios.filter(function(e){return e.ratio_width&&e.ratio_height}).map(function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)});u.length>0&&(o.img.ext={aspectratios:u})}else(0,a.logError)("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else(0,a.logError)("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&(0,a.isInteger)(r.sizes[0])&&(0,a.isInteger)(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,a.logError)("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else(0,a.logError)("Unrecognized native asset code: ".concat(n,". Asset will be ignored."));return t}(0,a.logError)("Native assets object is empty or not an object: ",e)}(e.nativeParams))})}function k(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,a.logError)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var n=t.map(function(e){return e.id});return t.length!==new Set(n).size||n.some(function(e){return e!==parseInt(e,10)})?((0,a.logError)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,a.logError)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every(function(e){return function(e){if(!(0,a.isPlainObject)(e))return(0,a.logError)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,a.isNumber)(e.img.w)&&!(0,a.isNumber)(e.img.wmin))return(0,a.logError)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,a.isNumber)(e.img.h)&&!(0,a.isNumber)(e.img.hmin))return(0,a.logError)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,a.isNumber)(e.title.len))return(0,a.logError)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,a.isNumber)(e.data.type))return(0,a.logError)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,a.isNumber)(e.video.minduration)&&(0,a.isNumber)(e.video.maxduration)))return(0,a.logError)("video asset is not properly configured"),!1;return!0}(e)})}function x(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=(void 0===n?c.K.index:n).getAdUnit(e);if(!r)return!1;var i=r.nativeOrtbRequest;return D((null===(t=e.native)||void 0===t?void 0:t.ortb)||L(e.native,i),i)}function D(e,t){if(!(0,o.Z)(e,"link.url"))return(0,a.logError)("native response doesn't have 'link' property. Ortb response: ",e),!1;var n=t.assets.filter(function(e){return 1===e.required}).map(function(e){return e.id}),r=e.assets.map(function(e){return e.id}),i=n.every(function(e){return(0,s.q9)(r,e)});return i||(0,a.logError)("didn't receive a bid with all required assets. Required ids: ".concat(n,", but received ids in response: ").concat(r)),i}function P(e,t){var n=t.native.ortb||F(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,r=void 0===n?a.triggerPixel:n;if(t){var i,o=(e.assets||[]).filter(function(e){return e.link}).reduce(function(e,t){return e[t.id]=t.link,e},{}),s=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],c=o[t],d=s;c&&(d=c.clicktrackers||[]),d.forEach(function(e){return r(e)})}else{var u;((null===(u=e.link)||void 0===u?void 0:u.clicktrackers)||[]).forEach(function(e){return r(e)})}}(n,null==e?void 0:e.assetId):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.runMarkup,r=void 0===n?function(e){return(0,a.insertHtmlIntoIframe)(e)}:n,i=t.fetchURL,o=void 0===i?a.triggerPixel:i,s=(e.eventtrackers||[]).filter(function(e){return e.event===O}).reduce(function(e,t){return w.hasOwnProperty(t.method)&&e[w[t.method]].push(t.url),e},{img:[],js:[]}),c=s.img,d=s.js;e.imptrackers&&(c=c.concat(e.imptrackers)),c.forEach(function(e){return o(e)}),d=d.map(function(e){return'<script async src="'.concat(e,'"><\/script>')}),e.jstracker&&(d=d.concat([e.jstracker])),d.length&&r(d.join("\n"))}(n),e.action}function R(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?c.K.index:t,r={},i=n.getAdUnit(e);(0,o.Z)(i,"nativeParams.rendererUrl")?e.native.rendererUrl=M(i.nativeParams.rendererUrl):(0,o.Z)(i,"nativeParams.adTemplate")&&(e.native.adTemplate=M(i.nativeParams.adTemplate));var a=!1!==(0,o.Z)(i,"nativeParams.sendTargetingKeys"),s=Z(i),d=g(g({},e.native),e.native.ext);return delete d.ext,Object.keys(d).forEach(function(t){var n=s[t],c=M(e.native[t])||M((0,o.Z)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&c){var d=(0,o.Z)(i,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof d&&(d=(0,o.Z)(i,"nativeParams.ext.".concat(t,".sendId"))),d&&(c="".concat(n,":").concat(e.adId));var u=(0,o.Z)(i,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=(0,o.Z)(i,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:a)&&(r[n]=c)}}),r}var j=function(e){var t;return null===(t=c.K.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest};function B(e,t,n){var r,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).getNativeReq,o=void 0===i?j:i,a={message:"assetResponse",adId:e.adId},s=o(t),c=t.native,u=null===(r=t.native)||void 0===r?void 0:r.ortb,l={};return s&&u&&(l=W(u,s),c=g(g({},t.native),l)),t.native.ortb&&(a.ortb=t.native.ortb),a.assets=[],(null==n?Object.keys(c):n).forEach(function(e){if("adTemplate"===e&&c[e])a.adTemplate=M(c[e]);else if("rendererUrl"===e&&c[e])a.rendererUrl=M(c[e]);else if("ext"===e)Object.keys(c[e]).forEach(function(t){if(c[e][t]){var n=M(c[e][t]);a.assets.push({key:t,value:n})}});else if(c[e]&&d.NATIVE_KEYS.hasOwnProperty(e)){var t=M(c[e]);a.assets.push({key:e,value:t})}}),a}function U(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getNativeReq,r=void 0===n?j:n,i=e.assets.map(function(e){return(0,a.getKeyByValue)(d.NATIVE_KEYS,e)});return B(e,t,i,{getNativeReq:r})}function N(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getNativeReq;return B(e,t,null,{getNativeReq:void 0===n?j:n})}function M(e){return(null==e?void 0:e.url)||e}function Z(e){var t={};return(0,o.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach(function(e){t[e]="hb_native_".concat(e)}),g(g({},d.NATIVE_KEYS),t)}function q(e){if(k(e)){var t,n={},r=l(e.assets);try{var i=function(){var e=t.value;if(e.title){var r={required:!!e.required&&Boolean(e.required),len:e.title.len};n.title=r}else if(e.img){var i={required:!!e.required&&Boolean(e.required)};e.img.w&&e.img.h?i.sizes=[e.img.w,e.img.h]:e.img.wmin&&e.img.hmin&&(i.aspect_ratios={min_width:e.img.wmin,min_height:e.img.hmin,ratio_width:e.img.wmin,ratio_height:e.img.hmin}),e.img.type===y.MAIN?n.image=i:n.icon=i}else if(e.data){var o=Object.keys(b).find(function(t){return b[t]===e.data.type}),a=Object.keys(_).find(function(e){return _[e]===o});n[a]={required:!!e.required&&Boolean(e.required)},e.data.len&&(n[a].len=e.data.len)}};for(r.s();!(t=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return n}}function z(e){if(!e||!(0,a.isArray)(e))return e;if(!e.some(function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[u.B5])||void 0===t?void 0:t.ortb}))return e;var t,n=(0,a.deepClone)(e),r=l(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.mediaTypes&&i.mediaTypes[u.B5]&&i.mediaTypes[u.B5].ortb&&(i.mediaTypes[u.B5]=Object.assign((0,a.pick)(i.mediaTypes[u.B5],E),q(i.mediaTypes[u.B5].ortb)),i.nativeParams=A(i.mediaTypes[u.B5]))}}catch(e){r.e(e)}finally{r.f()}return n}function F(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach(function(e){var n=(0,r.Z)(e,2),i=n[0],o=n[1];switch(i){case"clickUrl":t.link.url=o;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(o)?o:[o];break;case"impressionTrackers":(Array.isArray(o)?o:[o]).forEach(function(e){t.eventtrackers.push({event:O,method:w.img,url:e})});break;case"javascriptTrackers":t.jstracker=Array.isArray(o)?o.join(""):o}}),t}function L(e,t){var n=g(g({},F(e)),{},{assets:[]});function r(e,r){var i=t.assets.find(e);null!=i&&(r(i=(0,a.deepClone)(i)),n.assets.push(i))}return Object.keys(e).filter(function(t){return!!e[t]}).forEach(function(t){var n=e[t];switch(t){case"title":r(function(e){return null!=e.title},function(e){e.title={text:n}});break;case"image":case"icon":var i="image"===t?y.MAIN:y.ICON;r(function(e){return null!=e.img&&e.img.type===i},function(e){e.img={url:n}});break;default:t in _&&r(function(e){return null!=e.data&&e.data.type===b[_[t]]},function(e){e.data={value:n}})}}),n}function W(e,t){var n={},r=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;var i,o=l((null==e?void 0:e.assets)||[]);try{var a=function(){var e=i.value,t=r.find(function(t){return e.id===t.id});e.title?n.title=e.title.text:e.img?n[t.img.type===y.MAIN?"image":"icon"]=e.img.url:e.data&&(n[T[S[t.data.type]]]=e.data.value)};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return n}function K(e){var t={};for(var n in e)t[e[n]]=n;return t}},4614:function(e,t,n){function r(e,t,n){return e&&e.includes(t,n)||!1}function i(){return Array.from.apply(Array,arguments)}function o(e,t,n){return e&&e.find(t,n)}n.d(t,{Oc:function(){return i},q9:function(){return r},sE:function(){return o}})},8640:function(e,t,n){function r(){return window.pbjs}n.d(t,{R:function(){return r}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},5102:function(e,t,n){n.d(t,{nH:function(){return s}});var r=n(3193),i=n(4358);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:"".concat(n,"//").concat(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noLeadingWww,r=void 0!==n&&n,i=t.noPort,a=void 0!==i&&i;try{e=new URL(o(e))}catch(e){return}return e=a?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}var s=function(e){function t(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){var n,s,c,d,u=[],l=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),p=r.vc.getConfig("maxNestedIframes"),f=!1,g=0,m=!1,v=!1,h=!1;do{var b=n,y=v,_=void 0,E=!1,I=null;v=!1,n=n?n.parent:e;try{_=n.location.href||null}catch(e){E=!0}if(E)if(y){var T=b.context;try{s=I=T.sourceUrl,h=!0,m=!0,n===e.top&&(f=!0),T.canonicalUrl&&(c=T.canonicalUrl)}catch(e){}}else{(0,i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var S=b.document.referrer;S&&(I=S,n===e.top&&(f=!0))}catch(e){}!I&&l&&l[g-1]&&(I=l[g-1],n===e.top&&(h=!0)),I&&!m&&(s=I)}else{if(_&&(s=I=_,m=!1,n===e.top)){f=!0;var w=t(n.document);w&&(c=w)}n.context&&n.context.sourceUrl&&(v=!0)}u.push(I),g++}while(n!==e.top&&g<p);u.reverse();try{d=e.top.document.referrer}catch(e){}var O=f||h?s:null,A=r.vc.getConfig("pageUrl")||c||null,C=o(A,e)||O;return{reachedTop:f,isAmp:m,numIframes:g-1,stack:u,topmostLocation:s||null,location:O,canonicalUrl:A,page:C,domain:a(C)||null,ref:d||null,legacy:{reachedTop:f,isAmp:m,numIframes:g-1,stack:u,referer:s||null,canonicalUrl:A}}}}(window)},5164:function(e,t,n){n.d(t,{Ld:function(){return s},df:function(){return l},eA:function(){return u}});var r=n(2797),i=n(4358),o=n(5975),a=["core","prebid-module"],s=[];function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode,c=e.moduleType,u=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).bidderSettings,l=void 0===u?o.S:u;var p=a.includes(c);function f(e){var o;return function(){if(null==r)return!0;var e=l.get(r,"storageAllowed");return null!=e&&e}()?(d(p,t,r||n,{hasEnforcementHook:!1},function(t){if(t&&t.hasEnforcementHook)o=e(t);else{var n={hasEnforcementHook:!1,valid:(0,i.hasDeviceAccess)()};o=e(n)}}),o):((0,i.logInfo)("bidderSettings denied access to device storage for bidder '".concat(r,"'")),e({valid:!1}))}var g=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return f(t);s.push(function(){var n=f(t);e(n)})};return{setCookie:function(e,t,n,r,i,o){var a=function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(c)}};if(!o||"function"!=typeof o)return f(a);s.push(function(){var e=f(a);o(e)})},getCookie:function(e,t){var n=function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null};if(!t||"function"!=typeof t)return f(n);s.push(function(){var e=f(n);t(e)})},localStorageIsEnabled:function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return f(t);s.push(function(){var n=f(t);e(n)})},cookiesAreEnabled:function(e){var t=function(e){return!(!e||!e.valid)&&(0,i.checkCookieSupport)()};if(!e||"function"!=typeof e)return f(t);s.push(function(){var n=f(t);e(n)})},setDataInLocalStorage:function(e,t,n){var r=function(n){n&&n.valid&&g()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return f(r);s.push(function(){var e=f(r);n(e)})},getDataFromLocalStorage:function(e,t){var n=function(t){return t&&t.valid&&g()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return f(n);s.push(function(){var e=f(n);t(e)})},removeDataFromLocalStorage:function(e,t){var n=function(t){t&&t.valid&&g()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return f(n);s.push(function(){var e=f(n);t(e)})},hasLocalStorage:g,findSimilarCookies:function(e,t){var n=function(t){if(t&&t.valid){var n=[];if((0,i.hasDeviceAccess)())for(var r=document.cookie.split(";");r.length;){var o=r.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(o.slice(a+1)))}return n}};if(!t||"function"!=typeof t)return f(n);s.push(function(){var e=f(n);t(e)})}}}var d=(0,r.z3)("async",function(e,t,n,r,i){i(r)},"validateStorageEnforcement");function u(e){return c({moduleName:e,moduleType:"core"})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.bidderCode;if(arguments.length>1||arguments.length>0&&!(0,i.isPlainObject)(arguments[0]))throw new Error("Invalid invocation for getStorageManager");return c({gvlid:t,moduleName:n,bidderCode:r})}},1974:function(e,t,n){n.d(t,{k_:function(){return d}});var r=n(3324),i=n(4358),o=n(3193),a=n(4614),s=n(5164);o.vc.setDefaults({userSync:(0,i.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var c=(0,s.eA)("usersync"),d=function(e){var t={},n={image:[],iframe:[]},s=new Set,c={},d={image:!0,iframe:!1},u=e.config;function l(){if(u.syncEnabled&&e.browserSupportsCookies){try{d.iframe&&p(n.iframe,function(e){var t=(0,r.Z)(e,2),o=t[0],a=t[1];(0,i.logMessage)("Invoking iframe user sync for bidder: ".concat(o)),(0,i.insertUserSyncIframe)(a),function(e,t){e.image=e.image.filter(function(e){return e[0]!==t})}(n,o)}),d.image&&p(n.image,function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];(0,i.logMessage)("Invoking image pixel user sync for bidder: ".concat(n)),(0,i.triggerPixel)(o)})}catch(e){return(0,i.logError)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function p(e,t){(0,i.shuffle)(e).forEach(function(e){t(e),s.add(e[0])})}return o.vc.getConfig("userSync",function(e){if(e.userSync){var t=e.userSync.filterSettings;(0,i.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}u=Object.assign(u,e.userSync)}),t.registerSync=function(e,r,o){return s.has(r)?(0,i.logMessage)('already fired syncs for "'.concat(r,'", ignoring registerSync call')):u.syncEnabled&&(0,i.isArray)(n[e])?r?0!==u.syncsPerBidder&&Number(c[r])>=u.syncsPerBidder?(0,i.logWarn)('Number of user syncs exceeded for "'.concat(r,'"')):t.canBidderRegisterSync(e,r)?(n[e].push([r,o]),void(c=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(c,r))):(0,i.logWarn)('Bidder "'.concat(r,'" not permitted to register their "').concat(e,'" userSync pixels.')):(0,i.logWarn)("Bidder is required for registering sync"):(0,i.logWarn)('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(l,Number(e));l()},t.triggerUserSyncs=function(){u.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!u.filterSettings||!function(e,t){var n=u.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,i.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var o=n.filter,a=n.bidders;return o&&"include"!==o&&"exclude"!==o?((0,i.logWarn)('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every(function(e){return(0,i.isStr)(e)&&"*"!==e}))||((0,i.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){d[e]=!0;var r=n.all?n.all:n[e],o="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!(0,a.q9)(e,t)},exclude:function(e,t){return(0,a.q9)(e,t)}}[r.filter||"include"](o,t)}return!d[e]}(e,t)},t}(Object.defineProperties({config:o.vc.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!(0,i.isSafariBrowser)()&&c.cookiesAreEnabled()}}}))},4358:function(e,t,n){n.r(t),n.d(t,{_each:function(){return ue},_map:function(){return pe},_setEventEmitter:function(){return I},adUnitsFilter:function(){return Ne},bind:function(){return k},buildUrl:function(){return _t},callBurl:function(){return he},checkCookieSupport:function(){return Ve},chunk:function(){return ft},cleanObj:function(){return st},compareOn:function(){return vt},contains:function(){return le},convertCamelToUnderscore:function(){return at},convertTypes:function(){return ut},createInvisibleIframe:function(){return $},createTrackPixelHtml:function(){return _e},createTrackPixelIframeHtml:function(){return Ee},cyrb53Hash:function(){return Tt},debugTurnedOn:function(){return Q},deepAccess:function(){return g.Z},deepClone:function(){return Me},deepEqual:function(){return Et},deepSetValue:function(){return m.N},delayExecution:function(){return Ge},escapeUnsafeChars:function(){return Ct},fill:function(){return pt},flatten:function(){return Se},formatQS:function(){return bt},generateUUID:function(){return P},getAdUnitSizes:function(){return N},getBidIdParameter:function(){return R},getBidRequest:function(){return we},getBidderCodes:function(){return ke},getDNT:function(){return Qe},getDefinedParams:function(){return He},getGptSlotForAdUnitCode:function(){return nt},getGptSlotInfoForAdUnitCode:function(){return rt},getHighestCpm:function(){return Pe},getKeyByValue:function(){return Ce},getKeys:function(){return Oe},getLatestHighestCpmBid:function(){return je},getMaxValueFromArray:function(){return mt},getMinValueFromArray:function(){return gt},getOldestHighestCpmBid:function(){return Re},getParameterByName:function(){return ee},getPerformanceNow:function(){return We},getPrebidInternal:function(){return O},getUniqueIdentifierStr:function(){return D},getUserConfiguredParams:function(){return Je},getValue:function(){return Ae},getValueString:function(){return Ie},getWindowFromDocument:function(){return St},getWindowLocation:function(){return W},getWindowSelf:function(){return L},getWindowTop:function(){return F},groupBy:function(){return Ye},hasConsoleLogger:function(){return J},hasDeviceAccess:function(){return Ke},hasOwn:function(){return fe},inIframe:function(){return Ze},insertElement:function(){return ge},insertHtmlIntoIframe:function(){return be},insertUserSyncIframe:function(){return ye},internal:function(){return S},isA:function(){return te},isAdUnitCodeMatchingSlot:function(){return et},isApnGetTagDefined:function(){return De},isArray:function(){return ie},isArrayOfNums:function(){return lt},isBoolean:function(){return se},isEmpty:function(){return ce},isEmptyStr:function(){return de},isFn:function(){return ne},isGptPubadsDefined:function(){return xe},isInteger:function(){return ot},isNumber:function(){return oe},isPlainObject:function(){return ae},isSafariBrowser:function(){return qe},isSlotMatchingAdUnitCode:function(){return tt},isStr:function(){return re},isValidMediaTypes:function(){return Xe},logError:function(){return Y},logInfo:function(){return V},logMessage:function(){return K},logWarn:function(){return G},mergeDeep:function(){return It},parseGPTSingleSizeArray:function(){return Z},parseGPTSingleSizeArrayToRtbSize:function(){return q},parseQS:function(){return ht},parseQueryStringParameters:function(){return B},parseSizesInput:function(){return M},parseUrl:function(){return yt},pick:function(){return ct},prefixLog:function(){return H},replaceAuctionPrice:function(){return ze},replaceClickThrough:function(){return Fe},safeJSONParse:function(){return wt},setScriptAttributes:function(){return Ot},shuffle:function(){return Ue},timestamp:function(){return Le},transformAdServerTargetingObj:function(){return U},transformBidderParamKeywords:function(){return dt},triggerPixel:function(){return ve},tryAppendQueryString:function(){return j},uniques:function(){return Te},unsupportedBidderMessage:function(){return it},waitForElementToLoad:function(){return me}});var r,i=n(3324),o=n(9062),a=n(4942),s=n(1002),c=n(3193),d=n(7079),u=n.n(d),l=n(4614),p=n(5644),f=n(8792),g=n(265),m=n(6475),v=Object.prototype.toString,h=Boolean(window.console),b=Boolean(h&&window.console.log),y=Boolean(h&&window.console.info),_=Boolean(h&&window.console.warn),E=Boolean(h&&window.console.error);function I(e){r=e}function T(){null!=r&&r.apply(void 0,arguments)}var S={checkCookieSupport:Ve,createTrackPixelIframeHtml:Ee,getWindowSelf:L,getWindowTop:F,getWindowLocation:W,insertUserSyncIframe:ye,insertElement:ge,isFn:ne,triggerPixel:ve,logError:Y,logWarn:G,logMessage:K,logInfo:V,parseQS:ht,formatQS:bt,deepEqual:Et},w={};function O(){return w}var A,C={},k=function(e,t){return t}.bind(null,1,C)()===C?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},x=(A=0,function(){return++A});function D(){return x()+Math.random().toString(16).substr(2)}function P(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,P)}function R(e,t){return t&&t[e]?t[e]:""}function j(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e}function B(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}function U(e){return e&&Object.getOwnPropertyNames(e).length>0?Oe(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(Ae(e,t)))}).join("&"):""}function N(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}}function M(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)fe(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===(0,s.Z)(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(Z(e));else for(var a=0;a<o;a++)t.push(Z(e[a]))}return t}function Z(e){if(z(e))return e[0]+"x"+e[1]}function q(e){if(z(e))return{w:e[0],h:e[1]}}function z(e){return ie(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function F(){return window.top}function L(){return window.self}function W(){return window.location}function K(){Q()&&b&&console.log.apply(console,X(arguments,"MESSAGE:"))}function V(){Q()&&y&&console.info.apply(console,X(arguments,"INFO:"))}function G(){Q()&&_&&console.warn.apply(console,X(arguments,"WARNING:")),T(p.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Y(){Q()&&E&&console.error.apply(console,X(arguments,"ERROR:")),T(p.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function H(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(Y),logWarn:t(G),logMessage:t(K),logInfo:t(V)}}function X(e,t){e=[].slice.call(e);var n=c.vc.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function J(){return b}function Q(){return!!c.vc.getConfig("debug")}function $(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function ee(e){return ht(W().search)[e]||""}function te(e,t){return v.call(e)==="[object "+t+"]"}function ne(e){return te(e,"Function")}function re(e){return te(e,"String")}function ie(e){return te(e,"Array")}function oe(e){return te(e,"Number")}function ae(e){return te(e,"Object")}function se(e){return te(e,"Boolean")}function ce(e){if(!e)return!0;if(ie(e)||re(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function de(e){return re(e)&&(!e||0===e.length)}function ue(e,t){if(!ce(e)){if(ne(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function le(e,t){if(ce(e))return!1;if(ne(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function pe(e,t){if(ce(e))return[];if(ne(e.map))return e.map(t);var n=[];return ue(e,function(r,i){n.push(t(r,i,e))}),n}function fe(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ge(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function me(e,t){var n=null;return new f.Z(function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))})}function ve(e,t,n){var r=new Image;t&&S.isFn(t)&&me(r,n).then(t),r.src=e}function he(e){var t=e.source,n=e.burl;t===p.S2S.SRC&&n&&S.triggerPixel(n)}function be(e){if(e){var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",S.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function ye(e,t,n){var r=S.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&S.isFn(t)&&me(o,n).then(t),S.insertElement(o,document,"html",!0)}function _e(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""}function Ee(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function Ie(e,t,n){return null==t?n:re(t)?t:oe(t)?t.toString():void S.logWarn("Unsuported type for param: "+e+" required type: String")}function Te(e,t,n){return n.indexOf(e)===t}function Se(e,t){return e.concat(t)}function we(e,t){var n;if(e)return t.some(function(t){var r=(0,l.sE)(t.bids,function(t){return["bidId","adId","bid_id"].some(function(n){return t[n]===e})});return r&&(n=r),r}),n}function Oe(e){return Object.keys(e)}function Ae(e,t){return e[t]}function Ce(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}function ke(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(Se,[])}).reduce(Se,[]).filter(Te)}function xe(){if(window.googletag&&ne(window.googletag.pubads)&&ne(window.googletag.pubads().getSlots))return!0}function De(){if(window.apntag&&ne(window.apntag.getTag))return!0}var Pe=Be("timeToRespond",function(e,t){return e>t}),Re=Be("responseTimestamp",function(e,t){return e>t}),je=Be("responseTimestamp",function(e,t){return e<t});function Be(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function Ue(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function Ne(e,t){return(0,l.q9)(e,t&&t.adUnitCode)}function Me(e){return u()(e)}function Ze(){try{return S.getWindowSelf()!==S.getWindowTop()}catch(e){return!0}}function qe(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function ze(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Fe(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Le(){return(new Date).getTime()}function We(){return window.performance&&window.performance.now&&window.performance.now()||0}function Ke(){return!1!==c.vc.getConfig("deviceAccess")}function Ve(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ge(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}function Ye(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}function He(e,t){return t.filter(function(t){return e[t]}).reduce(function(t,n){return Object.assign(t,(0,a.Z)({},n,e[n]))},{})}function Xe(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return(0,l.q9)(t,e)})&&(!e.video||!e.video.context||(0,l.q9)(["instream","outstream","adpod"],e.video.context))}function Je(e,t,n){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(Se,[]).filter(function(e){return e.bidder===n}).map(function(e){return e.params||{}})}function Qe(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var $e=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function et(e){return function(t){return $e(e,t)}}function tt(e){return function(t){return $e(t,e)}}function nt(e){var t;return xe()&&(t=(0,l.sE)(window.googletag.pubads().getSlots(),tt(e))),t}function rt(e){var t=nt(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function it(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function ot(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function at(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")}function st(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function ct(e,t){return"object"!==(0,s.Z)(e)?{}:t.reduce(function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[o]=s),n},{})}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return ue(e,function(e,r){if(ie(e)){var i=[];ue(e,function(e){((e=Ie(t+"."+r,e))||""===e)&&i.push(e)}),e=i}else{if(!re(e=Ie(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})}),n}function ut(e,t){return Object.keys(e).forEach(function(n){var r,i;t[n]&&(ne(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)}),t}function lt(e,t){return ie(e)&&(!t||e.length===t)&&e.every(function(e){return ot(e)})}function pt(e,t){for(var n=[],r=0;r<t;r++){var i=ae(e)?Me(e):e;n.push(i)}return n}function ft(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n}function gt(e){return Math.min.apply(Math,(0,o.Z)(e))}function mt(e){return Math.max.apply(Math,(0,o.Z)(e))}function vt(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}}function ht(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),r=(0,i.Z)(n,2),o=r[0],a=r[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(a)):e[o]=a||"",e},{}):{}}function bt(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function yt(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:S.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function _t(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(S.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function Et(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkTypes,r=void 0!==n&&n;if(e===t)return!0;if("object"!==(0,s.Z)(e)||null===e||"object"!==(0,s.Z)(t)||null===t||r&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){if(!t.hasOwnProperty(i))return!1;if(!Et(e[i],t[i],{checkTypes:r}))return!1}return!0}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(ae(e)&&ae(i)){var s=function(t){ae(i[t])?(e[t]||Object.assign(e,(0,a.Z)({},t,{})),It(e[t],i[t])):ie(i[t])?e[t]?ie(e[t])&&i[t].forEach(function(n){for(var r=1,i=0;i<e[t].length;i++)if(Et(e[t][i],n)){r=0;break}r&&e[t].push(n)}):Object.assign(e,(0,a.Z)({},t,(0,o.Z)(i[t]))):Object.assign(e,(0,a.Z)({},t,i[t]))};for(var c in i)s(c)}return It.apply(void 0,[e].concat(n))}function Tt(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(ne(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}function St(e){return e?e.defaultView:null}function wt(e){try{return JSON.parse(e)}catch(e){}}function Ot(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}var At,Ct=(At={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},function(e){return e.replace(/[<>\b\f\n\r\t\0\u2028\u2029\\]/g,function(e){return At[e]})})},9128:function(e,t,n){n.d(t,{Bf:function(){return v},V6:function(){return b},g3:function(){return _}});var r=n(3324),i=n(3193);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s="performanceMetrics",c=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},d=new WeakMap;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,n=void 0===t?c:t,r=e.mkNode,i=void 0===r?f:r,o=e.mkTimer,a=void 0===o?p:o,s=e.mkRenamer,u=void 0===s?function(e){return e}:s,l=e.nodes,g=void 0===l?d:l;return function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};r=u(r);var o=function(e){return function(n){return t.dfWalk({visit:function(t,r){var i=r[e];if(i.hasOwnProperty(n))return i[n]}})}}("timestamps");function s(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach(function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))})}})}function c(e){return a(n,function(t){return s(e,t)})}function d(){var e={};return t.dfWalk({visit:function(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}var l={startTiming:c,measureTime:function(e,t){return c(e).stopAfter(t)()},measureHookTime:function(e,t,n){var r=c(e);return n(function(e){var t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))},checkpoint:function(e){t.timestamps[e]=n()},timeSince:function(e,t){var r=o(e),i=null!=r?n()-r:null;return null!=t&&s(t,i),i},timeBetween:function(e,t,n){var r=o(e),i=o(t),a=null!=r&&null!=i?i-r:null;return null!=n&&s(n,a),a},setMetric:s,getMetrics:d,fork:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.propagate,a=void 0===o||o,s=n.stopPropagation,c=void 0!==s&&s,d=n.includeGroups;return e(i([[t,{propagate:a,stopPropagation:c,includeGroups:void 0!==d&&d}]]),r)},join:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.propagate,i=void 0===r||r,o=n.stopPropagation,a=void 0!==o&&o,s=n.includeGroups,c=void 0!==s&&s,d=g.get(e);null!=d&&d.addParent(t,{propagate:i,stopPropagation:a,includeGroups:c})},newMetrics:function(){return e(t.newSibling(),r)},renameWith:function(n){return e(t,n)},toJSON:function(){return d()}};return g.set(l,t),l}(i([]))}}function l(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function p(e,t){var n=e(),r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=function(e){return l(e,i)},i.stopAfter=function(e){return l(e,null,i)},i}function f(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,n){e.push([t,n])},newSibling:function(){return f(e.slice())},dfWalk:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.visit,a=n.follow,s=void 0===a?function(){return!0}:a,c=n.visited,d=void 0===c?new Set:c,u=n.inEdge;if(!d.has(this)){if(d.add(this),null!=(t=i(u,this)))return t;var l,p=o(e);try{for(p.s();!(l=p.n()).done;){var f=(0,r.Z)(l.value,2),g=f[0],m=f[1];if(s(u,m)&&null!=(t=g.dfWalk({visit:i,follow:s,visited:d,inEdge:m})))return t}}catch(e){p.e(e)}finally{p.f()}}}}}var g=function(){var e=function(){},t=function(){return{}},n={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map(function(e){return[e,{get:t}]})));return u({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return n}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),m=!0;function v(e){return m&&e||g}i.vc.getConfig(s,function(e){m=!!e[s]});var h,b=(h=u(),function(){return m?h():g});function y(e,t){return function(n,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var c=this;return v(t.apply(c,a)).measureHookTime(e+n,i,function(e){return r.call.apply(r,[c,e].concat(a))})}}}var _=y("requestBids.",function(e){return e.metrics});y("addBidResponse.",function(e,t){return t.metrics})},8792:function(e,t,n){n.d(t,{P:function(){return y},Z:function(){return b}});var r=n(3324),i=n(5671),o=n(3144),a=n(7326),s=n(8301),c=n(136),d=n(2963),u=n(1120),l=n(8916),p=n(2793),f=n(8640);function g(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var m=new WeakMap,v=new WeakMap,h=new WeakMap,b=function(e){(0,c.Z)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}(n);function n(e){var r;(0,i.Z)(this,n);var o=[],s=[];function c(e,t){return function(n){if(!o.length){for(o.push(e,n);s.length;)s.shift()();t(n)}}}return r=t.call(this,"function"!=typeof e?e:function(t,n){var r,i=c(1,n),o=(r=c(0,t),function(e){return"function"==typeof(null==e?void 0:e.then)?e.then(r,i):r(e)});try{e(o,i)}catch(e){i(e)}}),g((0,a.Z)(r),m,{writable:!0,value:void 0}),g((0,a.Z)(r),v,{writable:!0,value:void 0}),g((0,a.Z)(r),h,{writable:!0,value:null}),(0,p.Z)((0,a.Z)(r),m,o),(0,p.Z)((0,a.Z)(r),v,s),r}return(0,o.Z)(n,[{key:"then",value:function(e,t){var i=this;if("function"==typeof t)for(var o=this;o;){(0,s.Z)((0,u.Z)(n.prototype),"then",this).call(o,null,function(){return null});var a=(0,l.Z)(o,h);(0,p.Z)(o,h,null),o=a}var c=(0,l.Z)(this,m),d=new n(function(n,o){var a=function(){var i=c[1],a=0===c[0]?[e,n]:[t,o],s=(0,r.Z)(a,2),d=s[0],u=s[1];if("function"==typeof d){try{i=d(i)}catch(e){return void o(e)}u=n}u(i)};c.length?a():(0,l.Z)(i,v).push(a)});return(0,p.Z)(d,h,this),d}}],[{key:"timeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(function(t){0===e?t():setTimeout(t,e)})}}]),n}((0,f.R)().Promise||Promise);function y(){var e,t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).promiseFactory;function r(e){return function(t){return e(t)}}return{promise:(void 0===n?function(e){return new b(e)}:n)(function(n,r){e=n,t=r}),resolve:r(e),reject:r(t)}}},154:function(e,t,n){n.d(t,{Dn:function(){return u},LD:function(){return d},gZ:function(){return c}});var r=n(265),i=n(4358),o=n(3193),a=n(2797),s=n(5383),c="outstream",d="instream";function u(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?s.K.index:t,i=(0,r.Z)(n.getMediaTypes(e),"video"),o=i&&(0,r.Z)(i,"context"),a=i&&(0,r.Z)(i,"useCacheKey"),c=n.getAdUnit(e);return l(e,c,i,o,a)}var l=(0,a.z3)("sync",function(e,t,n,r,a){return n&&(a||r!==c)?o.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===c&&!a&&!(e.renderer||t&&t.renderer||n.renderer))},"checkVideoBidSetup")},265:function(e,t,n){function r(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}n.d(t,{Z:function(){return r}})},1432:function(e){a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,r="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return r.call(i(arguments,1),function(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e)};function a(e){var s,c={},d=[];function u(e,t){return"function"==typeof e?f.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?f.apply(null,arguments):"object"==_typeof(e)?function(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter(function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))})).forEach(function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=f(a,s,n?[n,o]:void 0)}}),e=Object.getPrototypeOf(e)}while(r&&e);return i}.apply(null,arguments):void 0}function l(e){var t=Array.isArray(e)?e:e.split(".");return r.call(t,function(n,r,i){var o=n[r],a=!1;return o||(i===t.length-1?(s||d.push(function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")}),n[r]=p(function(e){n[r]=e,a=!0})):n[r]={})},c)}function p(e){var t=[],r=[],i=function(){},a={before:function(e,n){return c.call(this,t,"before",e,n)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==_typeof(e)&&(n=n.filter(function(t){return Object.keys(e).every(function(n){return t[n]===e[n]})}));try{o(n,{remove:function(){return n.forEach(function(e){e.remove()}),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(a.after,s),a;function c(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort(function(e,t){return t.priority-e.priority}),i(t,r),this}}function f(t,r,c){var u=r.after&&n.get(r.after);if(u){if(u.type!==t)throw"fun-hooks: recreated hookable with different type";return r}var f,g,m=c?l(c):p(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return s||d.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(r,v):o(g=function(){return v.apply?v.apply(r,this,i(arguments)):r.apply(this,arguments)},m),n.get(g.after).install(t,g,function(e,n){var r,o=[];function a(e){o.push(e.hook)}e.length||n.length?(e.forEach(a),r=o.push(void 0)-1,n.forEach(a),f=function(e,n,a){var s,c=0,d="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function u(e){"sync"===t?s=e:d&&d.apply(null,arguments)}function l(e){if(o[c]){var r=i(arguments);return l.bail=u,r.unshift(l),o[c++].apply(n,r)}"sync"===t?s=e:d&&d.apply(null,arguments)}return o[r]=function(){var r=i(arguments,1);"async"===t&&d&&(delete l.bail,r.push(l));var o=e.apply(n,r);"sync"===t&&l(o)},l.apply(null,a),s}):f=void 0,h()}),g;function h(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?v.apply=function(){var e=arguments;d.push(function(){g.apply(e[1],e[2])})}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=f}}return(e=o({},t,e)).ready?u.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(d)}:s=!0,u.get=l,u}e.exports=a},7079:function(e){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==_typeof(i)?e(i):i}return n}},907:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},5057:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(907);function i(e){if(Array.isArray(e))return(0,r.Z)(e)}},7326:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},6983:function(e,t,n){function r(e,t){return t.get?t.get.call(e):t.value}n.d(t,{Z:function(){return r}})},6011:function(e,t,n){function r(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},1519:function(e,t,n){function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{Z:function(){return r}})},8916:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(6983),i=n(1519);function o(e,t){var n=(0,i.Z)(e,t,"get");return(0,r.Z)(e,n)}},2793:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(6011),i=n(1519);function o(e,t,n){var o=(0,i.Z)(e,t,"set");return(0,r.Z)(e,o,n),n}},3144:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},8301:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(8415);function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=(0,r.Z)(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}},1120:function(e,t,n){function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},9199:function(e,t,n){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},1902:function(e,t,n){function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2786:function(e,t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9611:function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},3324:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(3878),i=n(1902),o=n(181),a=n(5267);function s(e,t){return(0,r.Z)(e)||(0,i.Z)(e,t)||(0,o.Z)(e,t)||(0,a.Z)()}},8415:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}},9062:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(5057),i=n(9199),o=n(181),a=n(2786);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},1002:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},6475:function(e,t,n){function r(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?n:_typeof(r=s[i])==_typeof(t)?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}n.d(t,{N:function(){return r}})},5644:function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every(function(e){return r.O[e](n[c])})?n.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={602:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],s=n[1],c=n[2],d=0;if(a.some(function(t){return 0!==e[t]})){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)var u=c(r)}for(t&&t(n);d<a.length;d++)o=a[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.pbjsChunk=self.pbjsChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i={};!function(){var e=r(3324),t=r(4942),n=r(8640),i=r(4358),o=r(265),a=r(6475),s=r(2021),c=r(59),d=r(5644),u=r(5383),l=r(4614),p=r(5706),f=r(3193),g=d.EVENTS,m=g.AD_RENDER_FAILED,v=g.AD_RENDER_SUCCEEDED;function h(e){var t=e.reason,n=e.message,r=e.bid,o=e.id,a={reason:t,message:n};r&&(a.bid=r),o&&(a.adId=o),(0,i.logError)(n),s.emit(m,a)}function b(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),s.emit(v,i)}var y=d.EVENTS.BID_WON,_=d.EVENTS.STALE_RENDER,E=new WeakSet,I={"Prebid Request":function(e,t,n){if(null!=n){if(n.status!==d.BID_STATUS.RENDERED||((0,i.logWarn)("Ad id ".concat(n.adId," has been rendered before")),s.emit(_,n),!(0,o.Z)(f.vc.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,t){var n=e.adId,r=e.ad,o=e.adUrl,a=e.width,s=e.height,c=e.renderer,d=e.cpm,u=e.originalCpm;(0,p.Pd)(c)?(0,p._U)(c,e):n&&(S(e),t({message:"Prebid Response",ad:(0,i.replaceAuctionPrice)(r,u||d),adUrl:(0,i.replaceAuctionPrice)(o,u||d),adId:n,width:a,height:s}))}(n,e)}catch(e){return void h({reason:d.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:n})}u.K.addWinningBid(n),s.emit(y,n)}}else h({reason:d.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '".concat(t.adId,"' for cross-origin render request"),id:t.adId})},"Prebid Event":function(e,t,n){if(null!=n)if(n.status===d.BID_STATUS.RENDERED)switch(t.event){case d.EVENTS.AD_RENDER_FAILED:h({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case d.EVENTS.AD_RENDER_SUCCEEDED:b({doc:null,bid:n,id:t.adId});break;default:(0,i.logError)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else(0,i.logWarn)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else(0,i.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}};function T(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){var r=(0,l.sE)(u.K.getBidsReceived(),function(e){return e.adId===n.adId});I.hasOwnProperty(n.message)&&I[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,i.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function S(e){var t=e.adId,n=e.adUnitCode,r=e.width,o=e.height;["div","iframe"].forEach(function(e){var a=function(e){var r=function(e,t){return(0,i.isGptPubadsDefined)()?function(e){var t=(0,l.sE)(window.googletag.pubads().getSlots(),function(t){return(0,l.sE)(t.getTargetingKeys(),function(n){return(0,l.q9)(t.getTargeting(n),e)})});return t?t.getSlotElementId():null}(e):(0,i.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),o=document.getElementById(r);return o&&o.querySelector(e)}(e+':not([style*="display: none"])');if(a){var s=a.style;s.width=r?r+"px":"100%",s.height=o+"px"}else(0,i.logWarn)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))})}Object.assign(I,{"Prebid Native":function(e,t,n){if(null!=n)switch(E.has(n)||(E.add(n),u.K.addWinningBid(n),s.emit(y,n)),t.action){case"assetRequest":e((0,c.eK)(t,n));break;case"allAssetRequest":e((0,c.JL)(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,S(n);break;default:(0,c.e6)(t,n)}else(0,i.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}});var w=r(1974),O=r(9062),A=r(4679),C=r(2797),k=r(5975),x=[],D="targetingControls.allowTargetingKeys",P="targetingControls.addTargetingKeys",R='Only one of "'.concat(D,'" or "').concat(P,'" can be set'),j=Object.keys(d.TARGETING_KEYS).map(function(e){return d.TARGETING_KEYS[e]}),B={isActualBid:function(e){return e.getStatusCode()===d.STATUS.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*e.ttl-1e3>(0,i.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!(0,l.q9)([d.BID_STATUS.RENDERED],e.status)||!e.status)}};function U(e){return!Object.values(B).some(function(t){return!t(e)})}var N=(0,C.z3)("sync",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){var r=[],o=f.vc.getConfig("sendBidsControl.dealPrioritization"),a=(0,i.groupBy)(e,"adUnitCode");return Object.keys(a).forEach(function(e){var s=[],c=(0,i.groupBy)(a[e],"bidderCode");Object.keys(c).forEach(function(e){return s.push(c[e].reduce(t))}),n>0?(s=o?s.sort(M(!0)):s.sort(function(e,t){return t.cpm-e.cpm}),r.push.apply(r,(0,O.Z)(s.slice(0,n)))):r.push.apply(r,(0,O.Z)(s))}),r}return e});function M(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var Z=function(e){var n={},r={};function a(e,t){return e.adserverTargeting&&t&&((0,i.isArray)(t)&&(0,l.q9)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function s(e,n){if(!0===f.vc.getConfig("targetingControls.alwaysIncludeDeals")){var r=j.concat(c.xc);return N(n,i.getHighestCpm).map(function(n){if(n.dealId&&a(n,e))return(0,t.Z)({},n.adUnitCode,T(n,r.filter(function(e){return void 0!==n.adserverTargeting[e]})))}).filter(function(e){return e})}return[]}function u(e,t){var n=Object.assign({},d.TARGETING_KEYS,d.NATIVE_KEYS),r=Object.keys(n),o={};(0,i.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map(function(e){return n[e]}).join(", ")," ]")),e.map(function(e){var i=Object.keys(e)[0],a=e[i].filter(function(e){var i=Object.keys(e)[0],a=0===r.filter(function(e){return 0===i.indexOf(n[e])}).length||(0,l.sE)(t,function(e){var t=n[e];return 0===i.indexOf(t)});return o[i]=!a,a});e[i]=a});var a=Object.keys(o).filter(function(e){return o[e]});return(0,i.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter(function(e){return e[Object.keys(e)[0]].length>0})}function p(e){return e.map(function(e){return(0,t.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return(0,t.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))}).reduce(function(e,t){return Object.assign(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e},{})}function g(t){return"string"==typeof t?[t]:(0,i.isArray)(t)?t:e.getAdUnitCodes()||[]}function m(){var t=e.getBidsReceived();if(f.vc.getConfig("useBidCache")){var n=f.vc.getConfig("bidCacheFilterFunction");"function"==typeof n&&(t=t.filter(function(e){return r[e.adUnitCode]===e.auctionId||!!n(e)}))}else t=t.filter(function(e){return r[e.adUnitCode]===e.auctionId});return t=t.filter(function(e){return(0,o.Z)(e,"video.context")!==A.Oh}).filter(U),N(t,i.getOldestHighestCpmBid)}function v(e,r){var i=n.getWinningBids(e,r),o=h();return i=i.map(function(e){return(0,t.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===o.indexOf(t)}).reduce(function(n,r){var i=[e.adserverTargeting[r]],o=(0,t.Z)({},r.substring(0,20),i);if(r===d.TARGETING_KEYS.DEAL){var a="".concat(r,"_").concat(e.bidderCode).substring(0,20),s=(0,t.Z)({},a,i);return[].concat((0,O.Z)(n),[o,s])}return[].concat((0,O.Z)(n),[o])},[]))})}function h(){return e.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(j).filter(i.uniques)}function b(e,t,n,r){return Object.keys(t.adserverTargeting).filter(y()).forEach(function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){(0,i.isArray)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.uniques),delete t.adserverTargeting[e]}}(n))}),e.push(t),e}function y(){var e=h();return e=e.concat(c.xc),function(t){return-1===e.indexOf(t)}}function _(e){return(0,t.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(y()).map(function(n){return(0,t.Z)({},n.substring(0,20),[e.adserverTargeting[n]])}))}function E(e,t){return t.filter(function(t){return(0,l.q9)(e,t.adUnitCode)}).map(function(e){return Object.assign({},e)}).reduce(b,[]).map(_).filter(function(e){return e})}function I(e,n){var r=j.concat(c.xc),o=f.vc.getConfig("sendBidsControl.bidLimit"),s=N(n,i.getHighestCpm,o),u=f.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),l=u?u.map(function(e){return d.TARGETING_KEYS[e]}):r;return s.map(function(n){if(a(n,e))return(0,t.Z)({},n.adUnitCode,T(n,r.filter(function(e){return void 0!==n.adserverTargeting[e]&&-1!==l.indexOf(e)})))}).filter(function(e){return e})}function T(e,n){return n.map(function(n){return(0,t.Z)({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[n]])})}function S(n){function r(e){return(0,o.Z)(e,d.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter(function(e){return(0,l.q9)(n,e.code)&&r(e)}).map(function(e){return(0,t.Z)({},e.code,function(e){var n=r(e);return Object.keys(n).map(function(e){return(0,i.isStr)(n[e])&&(n[e]=n[e].split(",").map(function(e){return e.trim()})),(0,i.isArray)(n[e])||(n[e]=[n[e]]),(0,t.Z)({},e,n[e])})}(e))})}return n.setLatestAuctionForAdUnit=function(e,t){r[e]=t},n.resetPresetTargeting=function(t,n){if((0,i.isGptPubadsDefined)()){var r=g(t),o=e.getAdUnits().filter(function(e){return(0,l.q9)(r,e.code)}),a=x.reduce(function(e,t){return e[t]=null,e},{});window.googletag.pubads().getSlots().forEach(function(e){var t=(0,i.isFn)(n)&&n(e);o.forEach(function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||(0,i.isFn)(t)&&t(n.code))&&e.updateTargetingFromMap(a)})})}},n.resetPresetTargetingAST=function(e){g(e).forEach(function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach(function(e){(0,l.q9)(x,e.toLowerCase())||(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})},n.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),n=g(e),r=v(n,t).concat(E(n,t)).concat(f.vc.getConfig("enableSendAllBids")?I(n,t):s(n,t)).concat(S(n));r.map(function(e){Object.keys(e).map(function(t){e[t].map(function(e){-1===x.indexOf(Object.keys(e)[0])&&(x=Object.keys(e).concat(x))})})});var o=Object.keys(Object.assign({},d.DEFAULT_TARGETING_KEYS,d.NATIVE_KEYS)),a=f.vc.getConfig(D),c=f.vc.getConfig(P);if(null!=c&&null!=a)throw new Error(R);a=null!=c?o.concat(c):a||o,Array.isArray(a)&&a.length>0&&(r=u(r,a)),r=p(r);var l=f.vc.getConfig("targetingControls.auctionKeyMaxChars");return l&&((0,i.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(l," characters.  Running checks on auction keys...")),r=function(e,t){var n=(0,i.deepClone)(e);return Object.keys(n).map(function(e){return{adUnitCode:e,adserverTargeting:n[e]}}).sort(M()).reduce(function(e,r,o,a){var s,c=(s=r.adserverTargeting,Object.keys(s).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")},""));o+1===a.length&&(c=c.slice(0,-3));var d=r.adUnitCode,u=c.length;return u<=t?(t-=u,(0,i.logInfo)("AdUnit '".concat(d,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[d]),e[d]=n[d]):(0,i.logWarn)("The following keys for adUnitCode '".concat(d,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[d]),o+1===a.length&&0===Object.keys(e).length&&(0,i.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})}(r,l)),n.forEach(function(e){r[e]||(r[e]={})}),r},f.vc.getConfig("targetingControls",function(e){null!=(0,o.Z)(e,D)&&null!=(0,o.Z)(e,P)&&(0,i.logError)(R)}),n.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(e).filter(t?t(n):(0,i.isAdUnitCodeMatchingSlot)(n)).forEach(function(t){Object.keys(e[t]).forEach(function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r}),(0,i.logMessage)("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])})})},n.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),n=g(e);return t.filter(function(e){return(0,l.q9)(n,e.adUnitCode)}).filter(function(e){return!0===k.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0}).map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(e){return t.filter(function(t){return t.adUnitCode===e?t:null}).reduce(i.getHighestCpm)})},n.setTargetingForAst=function(e){var t=n.getAllTargeting(e);try{n.resetPresetTargetingAST(e)}catch(e){(0,i.logError)("unable to reset targeting for AST"+e)}Object.keys(t).forEach(function(e){return Object.keys(t[e]).forEach(function(n){if((0,i.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(n," value: ").concat(t[e][n])),(0,i.isStr)(t[e][n])||(0,i.isArray)(t[e][n])){var r={};n.search(/pt[0-9]/)<0?r[n.toUpperCase()]=t[e][n]:r[n]=t[e][n],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}})})},n.isApntagDefined=function(){if(window.apntag&&(0,i.isFn)(window.apntag.setKeywords))return!0},n}(u.K),q=r(9626),z=r(5730),F=r(8792),L="__pbjs_debugging__";function W(){return(0,n.R)().installedModules.includes("debugging")}function K(e){return new F.Z(function(t){(0,z.B)(e,"debugging",t)})}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,r=void 0===t?W:t,o=e.script,a=void 0===o?K:o,s=null;return function(){return null==s&&(s=new F.Z(function(e,t){setTimeout(function(){if(r())e();else{var o="https://cdn.jsdelivr.net/npm/prebid.js@7.22.0/dist/debugging-standalone.js";(0,i.logMessage)('Debugging module not installed, loading it from "'.concat(o,'"...')),(0,n.R)()._installDebugging=!0,a(o).then(function(){(0,n.R)()._installDebugging({DEBUG_KEY:L,hook:C.z3,config:f.vc,createBid:q.m,logger:(0,i.prefixLog)("DEBUG:")})}).then(e,t)}})})),s}}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?V():t,r=e.hook,i=void 0===r?(0,C.v5)("requestBids"):r,o=null,a=!1;function s(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||F.Z.resolve()).then(function(){return e.apply(t,r)})}function c(){i.getHooks({hook:s}).remove(),a=!1}return{enable:function(){a||(o=n(),i.before(s,99),a=!0)},disable:c,reset:function(){o=null,c()}}}();G.reset,f.vc.getConfig("debugging",function(e){var t=e.debugging;null!=t&&t.enabled?G.enable():G.disable()});var Y=r(875),H=r(5164),X=r(3092),J=r(9128),Q=(0,n.R)(),$=w.k_.triggerUserSyncs,ee=d.EVENTS,te=ee.ADD_AD_UNITS,ne=ee.BID_WON,re=ee.REQUEST_BIDS,ie=ee.SET_TARGETING,oe=ee.STALE_RENDER,ae=d.AD_RENDER_FAILED_REASON,se=ae.PREVENT_WRITING_ON_MAIN_DOCUMENT,ce=ae.NO_AD,de=ae.EXCEPTION,ue=ae.CANNOT_FIND_AD,le=ae.MISSING_DOC_OR_ADID,pe={bidWon:function(e){var t=u.K.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(i.flatten).filter(i.uniques);if((0,i.contains)(t,e))return!0;(0,i.logError)('The "'+e+'" placement is not defined.')}};function fe(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function ge(e,t){var n=[];return(0,i.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every(function(e){return(0,i.isArrayOfNums)(e,2)})?n=e:(0,i.isArrayOfNums)(e,2)&&n.push(e)),n}function me(e){var t=(0,i.deepClone)(e),n=t.mediaTypes.banner,r=ge(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):((0,i.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function ve(e){var t=(0,i.deepClone)(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,o=ge(n.playerSize,r);o.length>0?(2===r&&(0,i.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=o,t.sizes=o):((0,i.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function he(e){var t=(0,i.deepClone)(e),n=t.mediaTypes.native;if(n.ortb){var r=Object.keys(d.NATIVE_KEYS).filter(function(e){return d.NATIVE_KEYS[e].includes("hb_native_")}),o=Object.keys(n).filter(function(e){return r.includes(e)});o.length>0&&((0,i.logError)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(o," keys from request.")),o.forEach(function(e){return delete t.mediaTypes.native[e]}))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&((0,i.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&((0,i.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&((0,i.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function be(e,t){var n=(0,o.Z)(e,"mediaTypes.".concat(t,".pos"));if(!(0,i.isNumber)(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,i.logWarn)(r),s.emit(d.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function ye(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||(0,i.isArray)(r)?null==r&&null==e.ortb2Imp?((0,i.logError)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],(0,i.logMessage)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,i.logError)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,i.logError)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=G,n=null;try{n=e.getItem(L)}catch(e){}null!==n&&t.enable()}}(),Q.bidderSettings=Q.bidderSettings||{},Q.libLoaded=!0,Q.version="v7.22.0",(0,i.logInfo)("Prebid.js v7.22.0 loaded"),Q.installedModules=Q.installedModules||[],Q.adUnits=Q.adUnits||[],Q.triggerUserSyncs=$;var _e={validateAdUnit:ye,validateBannerMediaType:me,validateVideoMediaType:ve,validateSizes:ge};Object.assign(_e,{validateNativeMediaType:he});var Ee,Ie=(0,C.z3)("sync",function(e){var t=[];return e.forEach(function(e){if(null!=(e=ye(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=me(e),o.banner.hasOwnProperty("pos")&&(n=be(n,"banner"))),o.video&&(r=ve(n||e),o.video.hasOwnProperty("pos")&&(r=be(r,"video"))),o.native&&(i=he(r||n||e));var a=Object.assign({},n,r,i);t.push(a)}}),t},"checkAdUnitSetup");function Te(e){var n=u.K[e]().filter(i.bind.call(i.adUnitsFilter,this,u.K.getAdUnitCodes())),r=u.K.getLastAuctionId();return n.map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(e){return n.filter(function(t){return t.auctionId===r&&t.adUnitCode===e})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return(0,t.Z)({},e[0].adUnitCode,{bids:e})}).reduce(function(e,t){return Object.assign(e,t)},{})}function Se(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||(0,i.insertElement)(e,t,n)}Q.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,i.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Q.getAdserverTargetingForAdUnitCode(e);return(0,i.transformAdServerTargetingObj)(t)}(0,i.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Q.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=u.K.getAllBidsForAdUnitCode(e).filter(U);return t.length?t.reduce(i.getHighestCpm):{}}(0,i.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Q.getAdserverTargetingForAdUnitCode=function(e){return Q.getAdserverTargeting(e)[e]},Q.getAdserverTargeting=function(e){return(0,i.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),Z.getAllTargeting(e)},Q.getConsentMetadata=function(){return(0,i.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:X.rp.getConsentMeta(),usp:X.nX.getConsentMeta(),coppa:!!f.vc.getConfig("coppa")}},Q.getNoBids=function(){return(0,i.logInfo)("Invoking pbjs.getNoBids",arguments),Te("getNoBids")},Q.getNoBidsForAdUnitCode=function(e){return{bids:u.K.getNoBids().filter(function(t){return t.adUnitCode===e})}},Q.getBidResponses=function(){return(0,i.logInfo)("Invoking pbjs.getBidResponses",arguments),Te("getBidsReceived")},Q.getBidResponsesForAdUnitCode=function(e){return{bids:u.K.getBidsReceived().filter(function(t){return t.adUnitCode===e})}},Q.setTargetingForGPTAsync=function(e,t){if((0,i.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,i.isGptPubadsDefined)()){var n=Z.getAllTargeting(e);Z.resetPresetTargeting(e,t),Z.setTargetingForGPT(n,t),Object.keys(n).forEach(function(e){Object.keys(n[e]).forEach(function(t){"hb_adid"===t&&u.K.setStatusForBids(n[e][t],d.BID_STATUS.BID_TARGETING_SET)})}),s.emit(ie,n)}else(0,i.logError)("window.googletag is not defined on the page")},Q.setTargetingForAst=function(e){(0,i.logInfo)("Invoking pbjs.setTargetingForAn",arguments),Z.isApntagDefined()?(Z.setTargetingForAst(e),s.emit(ie,Z.getAllTargeting())):(0,i.logError)("window.apntag is not defined on the page")},Q.renderAd=(0,C.z3)("async",function(e,t,n){if((0,i.logInfo)("Invoking pbjs.renderAd",arguments),(0,i.logMessage)("Calling renderAd with adId :"+t),e&&t)try{var r=u.K.findBidByAdId(t);if(r){var a=!0;if(r&&r.status===d.BID_STATUS.RENDERED&&((0,i.logWarn)("Ad id ".concat(r.adId," has been rendered before")),s.emit(oe,r),(0,o.Z)(f.vc.getConfig("auctionOptions"),"suppressStaleRender")&&(a=!1)),a){if(r.ad=(0,i.replaceAuctionPrice)(r.ad,r.originalCpm||r.cpm),r.adUrl=(0,i.replaceAuctionPrice)(r.adUrl,r.originalCpm||r.cpm),n&&n.clickThrough){var c=n.clickThrough;r.ad=(0,i.replaceClickThrough)(r.ad,c),r.adUrl=(0,i.replaceClickThrough)(r.adUrl,c)}u.K.addWinningBid(r),s.emit(ne,r);var l=r.height,g=r.width,m=r.ad,v=r.mediaType,y=r.adUrl,_=r.renderer,E=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if((0,i.insertElement)(E,e,"html"),(0,p.Pd)(_))(0,p._U)(_,r,e),Se(E,e,"html"),b({doc:e,bid:r,id:t});else if(e===document&&!(0,i.inIframe)()||"video"===v){var I="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");h({reason:se,message:I,bid:r,id:t})}else if(m)e.write(m),e.close(),fe(e,g,l),Se(E,e,"html"),(0,i.callBurl)(r),b({doc:e,bid:r,id:t});else if(y){var T=(0,i.createInvisibleIframe)();T.height=l,T.width=g,T.style.display="inline",T.style.overflow="hidden",T.src=y,(0,i.insertElement)(T,e,"body"),fe(e,g,l),Se(E,e,"html"),(0,i.callBurl)(r),b({doc:e,bid:r,id:t})}else{var S="Error trying to write ad. No ad for bid response id: ".concat(t);h({reason:ce,message:S,bid:r,id:t})}}}else{var w="Error trying to write ad. Cannot find ad by given id : ".concat(t);h({reason:ue,message:w,id:t})}}catch(e){var O="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);h({reason:de,message:O,id:t})}else{var A="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");h({reason:le,message:A,id:t})}}),Q.removeAdUnit=function(e){(0,i.logInfo)("Invoking pbjs.removeAdUnit",arguments),e?((0,i.isArray)(e)?e:[e]).forEach(function(e){for(var t=Q.adUnits.length-1;t>=0;t--)Q.adUnits[t].code===e&&Q.adUnits.splice(t,1)}):Q.adUnits=[]},Q.requestBids=(Ee=(0,C.z3)("async",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.bidsBackHandler,r=t.timeout,o=t.adUnits,a=t.adUnitCodes,c=t.labels,d=t.auctionId,u=t.ortb2,l=t.metrics;s.emit(re);var p=r||f.vc.getConfig("bidderTimeout");(0,i.logInfo)("Invoking pbjs.requestBids",arguments);var g={global:(0,i.mergeDeep)({},f.vc.getAnyConfig("ortb2")||{},u||{}),bidder:Object.fromEntries(Object.entries(f.vc.getBidderConfig()).map(function(t){var n=(0,e.Z)(t,2);return[n[0],n[1].ortb2]}).filter(function(t){var n=(0,e.Z)(t,2);return n[0],null!=n[1]}))};return we({bidsBackHandler:n,timeout:p,adUnits:o,adUnitCodes:a,labels:c,auctionId:d,ortb2Fragments:g,metrics:l})},"requestBids"),(0,C.IF)(Ee,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.metrics=(0,J.V6)(),e.metrics.checkpoint("requestBids");var t=e.adUnits||Q.adUnits;return e.adUnits=(0,i.isArray)(t)?t.slice():[t],Ee.call(this,e)}));var we=(0,C.z3)("async",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,o=e.adUnitCodes,s=e.labels,c=e.auctionId,d=e.ortb2Fragments,p=e.metrics,g=(0,X.uV)(f.vc.getConfig("s2sConfig")||[]);if(r=(0,J.Bf)(p).measureTime("requestBids.validate",function(){return Ie(r)}),o&&o.length?r=r.filter(function(e){return(0,l.q9)(o,e.code)}):o=r&&r.map(function(e){return e.code}),r.forEach(function(e){var t,n,r=Object.keys(e.mediaTypes||{banner:"banner"}),o=e.bids.map(function(e){return e.bidder}),s=X.ZP.bidderRegistry,c=o.filter(function(e){return!g.has(e)}),d=(null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid)||(0,i.generateUUID)();e.transactionId=d,(0,a.N)(e,"ortb2Imp.ext.tid",d),c.forEach(function(t){var n=s[t],o=n&&n.getSpec&&n.getSpec(),a=o&&o.supportedMediaTypes||["banner"];r.some(function(e){return(0,l.q9)(a,e)})?Y.f.incrementBidderRequestsCounter(e.code,t):((0,i.logWarn)((0,i.unsupportedBidderMessage)(e,t)),e.bids=e.bids.filter(function(e){return e.bidder!==t}))}),Y.f.incrementRequestsCounter(e.code)}),r&&0!==r.length){var m=u.K.createAuction({adUnits:r,adUnitCodes:o,callback:t,cbTimeout:n,labels:s,auctionId:c,ortb2Fragments:d,metrics:p}),v=r.length;v>15&&(0,i.logInfo)("Current auction ".concat(m.getAuctionId()," contains ").concat(v," adUnits."),r),o.forEach(function(e){return Z.setLatestAuctionForAdUnit(e,m.getAuctionId())}),m.callBids()}else if((0,i.logMessage)("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){(0,i.logError)("Error executing bidsBackHandler",null,e)}},"startAuction");Q.requestBids.before(function(e,t){function n(e){for(var t;t=e.shift();)t()}n(H.Ld),n(Oe),e.call(this,t)},49),Q.addAdUnits=function(e){(0,i.logInfo)("Invoking pbjs.addAdUnits",arguments),Q.adUnits.push.apply(Q.adUnits,(0,i.isArray)(e)?e:[e]),s.emit(te)},Q.onEvent=function(e,t,n){(0,i.logInfo)("Invoking pbjs.onEvent",arguments),(0,i.isFn)(t)?!n||pe[e].call(null,n)?s.on(e,t,n):(0,i.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,i.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},Q.offEvent=function(e,t,n){(0,i.logInfo)("Invoking pbjs.offEvent",arguments),n&&!pe[e].call(null,n)||s.off(e,t,n)},Q.getEvents=function(){return(0,i.logInfo)("Invoking pbjs.getEvents"),s.getEvents()},Q.registerBidAdapter=function(e,t){(0,i.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{X.ZP.registerBidAdapter(e(),t)}catch(e){(0,i.logError)("Error registering bidder adapter : "+e.message)}},Q.registerAnalyticsAdapter=function(e){(0,i.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{X.ZP.registerAnalyticsAdapter(e)}catch(e){(0,i.logError)("Error registering analytics adapter : "+e.message)}},Q.createBid=function(e){return(0,i.logInfo)("Invoking pbjs.createBid",arguments),(0,q.m)(e)};var Oe=[],Ae=(0,C.z3)("async",function(e){e&&!(0,i.isEmpty)(e)?((0,i.logInfo)("Invoking pbjs.enableAnalytics for: ",e),X.ZP.enableAnalytics(e)):(0,i.logError)("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");function Ce(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,i.logError)("Error processing command :","prebid.js",e)}})}Q.enableAnalytics=function(e){Oe.push(Ae.bind(this,e))},Q.aliasBidder=function(e,t,n){(0,i.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?X.ZP.aliasBidAdapter(e,t,n):(0,i.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Q.getAllWinningBids=function(){return u.K.getAllWinningBids()},Q.getAllPrebidWinningBids=function(){return u.K.getBidsReceived().filter(function(e){return e.status===d.BID_STATUS.BID_TARGETING_SET})},Q.getHighestCpmBids=function(e){return Z.getWinningBids(e)},Q.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=u.K.getBidsReceived().filter(function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode}):e.adUnitCode?t=Z.getWinningBids(e.adUnitCode):e.adId?t=u.K.getBidsReceived().filter(function(t){return t.adId===e.adId}):(0,i.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=d.BID_STATUS.RENDERED)},Q.getConfig=f.vc.getAnyConfig,Q.readConfig=f.vc.readAnyConfig,Q.mergeConfig=f.vc.mergeConfig,Q.mergeBidderConfig=f.vc.mergeBidderConfig,Q.setConfig=f.vc.setConfig,Q.setBidderConfig=f.vc.setBidderConfig,Q.que.push(function(){window.addEventListener("message",T,!1)}),Q.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,i.logError)("Error processing command :",e.message,e.stack)}else(0,i.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},Q.que.push=Q.cmd.push,Q.processQueue=function(){C.z3.ready(),Ce(Q.que),Ce(Q.cmd)}}(),i=r.O(i)}(),(self.pbjsChunk=self.pbjsChunk||[]).push([[861],{4563:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(4942),i=n(1002),o=n(5644),a=n(8928),s=n(4358),c=n(2021),d={ajax:a.h},u=o.EVENTS,l=u.AUCTION_INIT,p=u.AUCTION_END,f=u.REQUEST_BIDS,g=u.BID_REQUESTED,m=u.BID_TIMEOUT,v=u.BID_RESPONSE,h=u.NO_BID,b=u.BID_WON,y=u.BID_ADJUSTMENT,_=u.BIDDER_DONE,E=u.SET_TARGETING,I=u.AD_RENDER_FAILED,T=u.AD_RENDER_SUCCEEDED,S=u.AUCTION_DEBUG,w=u.ADD_AD_UNITS,O=u.BILLABLE_EVENT,A="endpoint",C="bundle";function k(e){var t,n=e.url,o=e.analyticsType,a=e.global,u=e.handler,k=[],x=0,D=!0,P=!1;return function(){if(D){for(var e=0;e<k.length;e++)k[e]();k.push=function(e){e()},D=!1}(0,s.logMessage)("event count sent to ".concat(a,": ").concat(x))}(),Object.defineProperties({track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===C&&window[a](u,t,n),this.getAdapterType()===A&&R.apply(void 0,arguments)},enqueue:j,enableAnalytics:B,disableAnalytics:function(){(0,s._each)(t,function(e,t){c.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:B,P=!1},getAdapterType:function(){return o},getGlobal:function(){return a},getHandler:function(){return u},getUrl:function(){return n}},{enabled:{get:function(){return P}}});function R(e){var t=e.eventType,r=e.args,i=e.callback;d.ajax(n,i,JSON.stringify({eventType:t,args:r}))}function j(e){var t=e.eventType,n=e.args,r=this;a&&window[a]&&t&&n?this.track({eventType:t,args:n}):k.push(function(){x++,r.track({eventType:t,args:n})})}function B(e){var n,o=this,d=this;"object"!==(0,i.Z)(e)||"object"!==(0,i.Z)(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)?(c.getEvents().forEach(function(e){if(e){var t=e.eventType,n=e.args;t!==m&&j.call(d,{eventType:t,args:n})}}),n={},(0,r.Z)(n,f,function(e){return o.enqueue({eventType:f,args:e})}),(0,r.Z)(n,g,function(e){return o.enqueue({eventType:g,args:e})}),(0,r.Z)(n,v,function(e){return o.enqueue({eventType:v,args:e})}),(0,r.Z)(n,h,function(e){return o.enqueue({eventType:h,args:e})}),(0,r.Z)(n,m,function(e){return o.enqueue({eventType:m,args:e})}),(0,r.Z)(n,b,function(e){return o.enqueue({eventType:b,args:e})}),(0,r.Z)(n,y,function(e){return o.enqueue({eventType:y,args:e})}),(0,r.Z)(n,_,function(e){return o.enqueue({eventType:_,args:e})}),(0,r.Z)(n,E,function(e){return o.enqueue({eventType:E,args:e})}),(0,r.Z)(n,p,function(e){return o.enqueue({eventType:p,args:e})}),(0,r.Z)(n,I,function(e){return o.enqueue({eventType:I,args:e})}),(0,r.Z)(n,T,function(e){return o.enqueue({eventType:T,args:e})}),(0,r.Z)(n,S,function(e){return o.enqueue({eventType:S,args:e})}),(0,r.Z)(n,w,function(e){return o.enqueue({eventType:w,args:e})}),(0,r.Z)(n,O,function(e){return o.enqueue({eventType:O,args:e})}),(0,r.Z)(n,l,function(t){t.config="object"===(0,i.Z)(e)&&e.options||{},o.enqueue({eventType:l,args:t})}),t=n,(0,s._each)(t,function(e,t){c.on(t,e)})):(0,s.logMessage)('Analytics adapter for "'.concat(a,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return(0,s.logMessage)('Analytics adapter for "'.concat(a,'" already enabled, unnecessary call to `enableAnalytics`.'))},P=!0}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[810],{2144:function(e,t,n){var r=n(1002),i=n(2021),o=n(4358),a=n(5644),s=n(3092).ZP,c=a.EVENTS.BID_REQUESTED,d=a.EVENTS.BID_TIMEOUT,u=a.EVENTS.BID_RESPONSE,l=a.EVENTS.BID_WON,p=[],f=null,g=!0,m=0,v=!0,h=["bidder","bidderCode","size","cpm","statusMessage","timeToRespond","adUnitCode"],b={};function y(){if(g&&"object"===(0,r.Z)(window[f])&&"object"===(0,r.Z)(window.slateAmplitudeQueue)&&window.slateAmplitudeQueue.initCalled){for(var e=0;e<p.length;e++)p[e].call();p.push=function(e){e.call()},g=!1}o.logMessage("event count sent to Amplitude: "+m)}function _(e){var t={};return h.forEach(function(n){n in e&&(t[n]=e[n])}),t}function E(e){e&&e.bidderCode&&p.push(function(){var t=_(e);m++,window[f].track("Prebid.js Requests",t)}),y()}function I(e){e&&e.bidderCode&&p.push(function(){if(e.cpm>0){var t=_(e);m++,window[f].track("Prebid.js Bids",t)}}),y()}function T(e){p.push(function(){o._each(e,function(e){var t=_(e);m++,window[f].track("Prebid.js Timeouts",t)})}),y()}function S(e){p.push(function(){var t=_(e);m++,window[f].track("Prebid.js Wins",t)}),y()}b.enableAnalytics=function(e){var t=e.provider,n=e.options;if(f=t||"amplitude",v=void 0===n||void 0===n.sampling||Math.random()<parseFloat(n.sampling),n&&void 0!==n.global&&(f=n.global),v){var a=i.getEvents();o._each(a,function(e){if("object"===(0,r.Z)(e)){var t=e.args;e.eventType===c?E(t):e.eventType===u?I(t):e.eventType===d?T(t):e.eventType===l&&S(t)}}),i.on(c,function(e){E(e)}),i.on(u,function(e){I(e)}),i.on(d,function(e){T(e)}),i.on(l,function(e){S(e)})}else o.logMessage("Prebid.js amplitude analytics disabled by sampling");this.enableAnalytics=function(){return o.logMessage("Analytics adapter already enabled, unnecessary call to `enableAnalytics`.")}},s.registerAnalyticsAdapter({adapter:b,code:"amplitude"}),window.pbjs.installedModules.push("amplitudeAnalyticsAdapter")}},function(e){e(e.s=2144)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[864],{6319:function(e,t,n){var r=n(1002),i=n(9062),o=n(4358),a=n(265),s=n(5706),c=n(3193),d=n(5339),u=n(4679),l=n(5383),p=n(4614),f=n(154),g=n(5164),m=n(5975),v=n(7673),h=n(59),b="appnexus",y=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],_=["minduration","maxduration","skip","skipafter","playbackmethod","api"],E=["age","externalUid","segments","gender","dnt","language"],I=["geo","device_id"],T=["enabled","dongle","member_id","debug_timeout"],S={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},w={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},O={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},A=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,C=(0,g.df)({gvlid:32,bidderCode:b}),k={code:b,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[u.Mk,u.pX,u.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=(e=(0,h.lY)(e)).map(P),r=(0,p.sE)(e,j),s={};!0===c.vc.getConfig("coppa")&&(s={coppa:!0}),r&&Object.keys(r.params.user).filter(function(e){return(0,p.q9)(E,e)}).forEach(function(e){var t=(0,o.convertCamelToUnderscore)(e);if("segments"===e&&(0,o.isArray)(r.params.user[e])){var n=[];r.params.user[e].forEach(function(e){(0,o.isNumber)(e)?n.push({id:e}):(0,o.isPlainObject)(e)&&n.push(e)}),s[t]=n}else"segments"!==e&&(s[t]=r.params.user[e])});var d,u=(0,p.sE)(e,U);u&&u.params&&u.params.app&&(d={},Object.keys(u.params.app).filter(function(e){return(0,p.q9)(I,e)}).forEach(function(e){return d[e]=u.params.app[e]}));var l,f=(0,p.sE)(e,N);f&&f.params&&u.params.app&&u.params.app.id&&(l={appid:f.params.app.id});var g={},m={},b=C.getCookie("apn_prebid_debug")||null;if(b)try{g=JSON.parse(b)}catch(e){(0,o.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(S).forEach(function(e){var t=(0,o.getParameterByName)(e);(0,o.isStr)(t)&&""!==t&&(g[S[e]]=t,g.enabled=!0)}),g=(0,o.convertTypes)({member_id:"number",debug_timeout:"number"},g);var y=(0,p.sE)(e,M);y&&y.debug&&(g=y.debug)}g&&g.enabled&&Object.keys(g).filter(function(e){return(0,p.q9)(T,e)}).forEach(function(e){m[e]=g[e]});var _=(0,p.sE)(e,B),w=_?parseInt(_.params.member,10):0,O=e[0].schain,A=(0,p.sE)(e,q),k={tags:(0,i.Z)(n),user:s,sdk:{source:"pbjs",version:"7.22.0"},schain:O};A&&(k.iab_support={omidpn:"Appnexus",omidpv:"7.22.0"}),w>0&&(k.member_id=w),u&&(k.device=d),f&&(k.app=l);var x,R,F=(0,o.deepClone)(t&&t.ortb2),W=(x=F,R=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach(function(e){var t=(0,a.Z)(x,e);(0,o.isStr)(t)&&R.push(t)}),R).map(function(e){return K(e)}),V=(0,o.deepClone)(c.vc.getConfig("appnexusAuctionKeywords"))||{};Object.keys(V).forEach(function(e){((0,o.isStr)(V[e])||(0,o.isNumber)(V[e]))&&(V[e]=[V[e]])});var G=o.mergeDeep.apply(void 0,[{},V].concat((0,i.Z)(W))),Y=(0,o.transformBidderParamKeywords)(G);if(Y.length>0&&(Y.forEach(D),k.keywords=Y),c.vc.getConfig("adpod.brandCategoryExclusion")&&(k.brand_category_uniqueness=!0),m.enabled&&(k.debug=m,(0,o.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(m,null,4))),t&&t.gdprConsent&&(k.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var H=t.gdprConsent.addtlConsent,X=H.substring(H.indexOf("~")+1);k.gdpr_consent.addtl_consent=X.split(".").map(function(e){return parseInt(e,10)})}if(t&&t.uspConsent&&(k.us_privacy=t.uspConsent),t&&t.refererInfo){var J={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},Q=t.refererInfo.canonicalUrl;(0,o.isStr)(Q)&&""!==Q&&(J.rd_can=Q),k.referrer_detection=J}if((0,p.sE)(e,Z)&&e.filter(Z).forEach(function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,a=n.requireExactDuration,s=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,i=(0,o.getMinValueFromArray)(n),a=Math.floor(t/i);return r?Math.max(a,n.length):a}(t.mediaTypes.video),c=(0,o.getMaxValueFromArray)(r),d=e.filter(function(e){return e.uuid===t.bidId}),u=o.fill.apply(void 0,(0,i.Z)(d).concat([s]));if(a){var l=Math.ceil(s/r.length),p=(0,o.chunk)(u,l);r.forEach(function(e,t){p[t].map(function(t){z(t,"minduration",e),z(t,"maxduration",e)})})}else u.map(function(e){return z(e,"maxduration",c)});return u}(n,e),r=k.tags.filter(function(t){return t.uuid!==e.bidId});k.tags=[].concat((0,i.Z)(r),(0,i.Z)(t))}),e[0].userId){var $=[];L($,(0,a.Z)(e[0],"userId.criteoId"),"criteo.com",null),L($,(0,a.Z)(e[0],"userId.netId"),"netid.de",null),L($,(0,a.Z)(e[0],"userId.idl_env"),"liveramp.com",null),L($,(0,a.Z)(e[0],"userId.tdid"),"adserver.org","TDID"),L($,(0,a.Z)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),e[0].userId.pubProvidedId&&e[0].userId.pubProvidedId.forEach(function(e){e.uids.forEach(function(t){$.push({source:e.source,id:t.id})})}),$.length&&(k.eids=$)}return n[0].publisher_id&&(k.publisher_id=n[0].publisher_id),function(e,t){var n=[],r={withCredentials:!0},i="https://ib.adnxs.com/ut/v3/prebid";if((0,v.h)(null==t?void 0:t.gdprConsent)||(i="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,o.getParameterByName)("apn_test").toUpperCase()&&!0!==c.vc.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1}),e.tags.length>15){var a=(0,o.deepClone)(e);(0,o.chunk)(e.tags,15).forEach(function(e){a.tags=e;var o=JSON.stringify(a);n.push({method:"POST",url:i,data:o,bidderRequest:t,options:r})})}else{var s=JSON.stringify(e);n={method:"POST",url:i,data:s,bidderRequest:t,options:r}}return n}(k,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var c="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(c+=": ".concat(e.error)),(0,o.logError)(c),i}if(e.tags&&e.tags.forEach(function(e){var t,c=(t=e)&&t.ads&&t.ads.length&&(0,p.sE)(t.ads,function(e){return e.rtb});if(c&&(!0===m.S.get(r.bidderCode,"allowZeroCpmBids")?c.cpm>=0:c.cpm>0)&&(0,p.q9)(n.supportedMediaTypes,c.ad_type)){var l=function(e,t,n){var r=(0,o.getBidRequest)(e.uuid,[n]),i=(0,o.getUniqueIdentifierStr)(),c={adId:i,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(c.meta=Object.assign({},c.meta,{advertiserDomains:[]})),t.advertiser_id&&(c.meta=Object.assign({},c.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(c.meta=Object.assign({},c.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(c.meta=Object.assign({},c.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(c,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,a.Z)(r,"mediaTypes.video.context")){case u.Oh:var l=(0,d.Q1)(r.bidder,t.brand_category_id);c.meta=Object.assign({},c.meta,{primaryCatId:l});var g=t.deal_priority;c.video={context:u.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:g},c.vastUrl=t.rtb.video.asset_url;break;case f.gZ:if(c.adResponse=e,c.adResponse.ad=c.adResponse.ads[0],c.adResponse.ad.video=c.adResponse.ad.rtb.video,c.vastXml=t.rtb.video.content,t.renderer_url){var m=(0,p.sE)(n.bids,function(t){return t.bidId===e.uuid}),v=(0,a.Z)(m,"mediaTypes.video.renderer.options");v||(v=(0,a.Z)(m,"renderer.options")),c.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s.Th.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(F)}catch(e){(0,o.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return(0,o.logMessage)("AppNexus outstream video impression event")},loaded:function(){return(0,o.logMessage)("AppNexus outstream video loaded event")},ended:function(){(0,o.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(c.adUnitCode,t,v)}break;case f.LD:c.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[u.B5]){var h,b=t.rtb[u.B5];if(function(e){if(!e||""===e)return!1;var t=e.match(A),n=null!=t&&t.length>=1,r=e.match("trk.js"),i=null!=r&&r.length>=1;return e.startsWith("<script")&&i&&n}(t.viewability.config)){var y="pbjs_adid="+i+";pbjs_auc="+r.adUnitCode;h=t.viewability.config.replace("dom_id=%native_dom_id%",y)}var _=b.javascript_trackers;null==_?_=h:(0,o.isStr)(_)?_=[_,h]:_.push(h),c[u.B5]={title:b.title,body:b.desc,body2:b.desc2,cta:b.ctatext,rating:b.rating,sponsoredBy:b.sponsored,privacyLink:b.privacy_link,address:b.address,downloads:b.downloads,likes:b.likes,phone:b.phone,price:b.price,salePrice:b.saleprice,clickUrl:b.link.url,displayUrl:b.displayurl,clickTrackers:b.link.click_trackers,impressionTrackers:b.impression_trackers,javascriptTrackers:_},b.main_img&&(c.native.image={url:b.main_img.url,height:b.main_img.height,width:b.main_img.width}),b.icon&&(c.native.icon={url:b.icon.url,height:b.icon.height,width:b.icon.width})}else{Object.assign(c,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var E=0;E<t.rtb.trackers[0].impression_urls.length;E++){var I=t.rtb.trackers[0].impression_urls[E],T=(0,o.createTrackPixelHtml)(I);c.ad+=T}}catch(e){(0,o.logError)("Error appending tracking pixel",e)}}return c}(e,c,r);l.mediaType=function(e){var t=c.ad_type;return t===u.pX?u.pX:t===u.B5?u.B5:u.Mk}(),i.push(l)}}),e.debug&&e.debug.debug_info){var l="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;l=l.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,o.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,o.logMessage)(l)}return i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&(0,v.h)(n))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,n,r){var i=o.transformBidderParamKeywords;if(!0===t){var s=null,d=c.vc.getConfig("s2sConfig");(0,o.isPlainObject)(d)?s=(0,a.Z)(d,"endpoint.p1Consent"):(0,o.isArray)(d)&&d.forEach(function(e){(0,p.q9)(e.bidders,n.bids[0].bidder)&&(s=(0,a.Z)(e,"endpoint.p1Consent"))}),s&&s.match("/openrtb2/prebid")&&(i=W)}return e=(0,o.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:i,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,x(e.keywords)&&e.keywords.forEach(D),Object.keys(e).forEach(function(t){var n=(0,o.convertCamelToUnderscore)(t);n!==t&&(e[n]=e[t],delete e[t])})),e}};function x(e){return!!((0,o.isArray)(e)&&e.length>0)}function D(e){x(e.value)&&""===e.value[0]&&delete e.value}function P(e){var t={};t.sizes=R(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var n=function(e){if(!(0,o.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,o.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(n&&(t.reserve=n),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var r=(0,a.Z)(e,"mediaTypes.banner.pos")||(0,a.Z)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=R(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId);var i=(0,a.Z)(e,"ortb2Imp.ext.data.keywords");if((0,o.isStr)(i)&&""!==i||!(0,o.isEmpty)(e.params.keywords)){var s=K(i),c=(0,o.isPlainObject)(e.params.keywords)?(0,o.deepClone)(e.params.keywords):{};Object.keys(c).forEach(function(e){((0,o.isStr)(c[e])||(0,o.isNumber)(c[e]))&&(c[e]=[c[e]])});var d=(0,o.mergeDeep)({},c,s),f=(0,o.transformBidderParamKeywords)(d);f.length>0&&(f.forEach(D),t.keywords=f)}var g,m,v=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot");if(v&&(t.gpid=v),(e.mediaType===u.B5||(0,a.Z)(e,"mediaTypes.".concat(u.B5)))&&(t.ad_types.push(u.B5),0===t.sizes.length&&(t.sizes=R([1,1])),e.nativeParams)){var h=(g=e.nativeParams,m={},Object.keys(g).forEach(function(e){var t=O[e]&&O[e].serverName||O[e]||e,n=O[e]&&O[e].requiredParams;if(m[t]=Object.assign({},n,g[e]),(t===O.image.serverName||t===O.icon.serverName)&&m[t].sizes){var r=m[t].sizes;((0,o.isArrayOfNums)(r)||(0,o.isArray)(r)&&r.length>0&&r.every(function(e){return(0,o.isArrayOfNums)(e)}))&&(m[t].sizes=R(m[t].sizes))}t===O.privacyLink&&(m.privacy_supported=!0)}),m);t[u.B5]={layouts:[h]}}var b=(0,a.Z)(e,"mediaTypes.".concat(u.pX)),E=(0,a.Z)(e,"mediaTypes.video.context");t.hb_source=b&&"adpod"===E?7:1,(e.mediaType===u.pX||b)&&t.ad_types.push(u.pX),(e.mediaType===u.pX||b&&"outstream"!==E)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter(function(e){return(0,p.q9)(y,e)}).forEach(function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=(0,o.isArray)(r)?r[0]:r,t.video[n]=w[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}}),e.params.video.frameworks&&(0,o.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),b&&(t.video=t.video||{},Object.keys(b).filter(function(e){return(0,p.q9)(_,e)}).forEach(function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=b[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===b[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=b[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=b[e];(n=(0,o.isArray)(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&(0,o.isArray)(b[e])){var r=b[e].map(function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t}).filter(function(e){return e});t.video_frameworks=r}}})),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,o.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var I=(0,p.sE)(l.K.getAdUnits(),function(t){return e.transactionId===t.transactionId});return I&&I.mediaTypes&&I.mediaTypes.banner&&t.ad_types.push(u.Mk),0===t.ad_types.length&&delete t.ad_types,t}function R(e){var t=[],n={};if((0,o.isArray)(e)&&2===e.length&&!(0,o.isArray)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===(0,r.Z)(e))for(var i=0;i<e.length;i++){var a=e[i];(n={}).width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t}function j(e){return!!e.params.user}function B(e){return!!parseInt(e.params.member,10)}function U(e){if(e.params)return!!e.params.app}function N(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function M(e){return!!e.debug}function Z(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===u.Oh}function q(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&(0,o.isArray)(n.frameworks)&&(t=(0,p.q9)(e.params.frameworks,6)),!t&&r&&r.frameworks&&(0,o.isArray)(r.frameworks)&&(t=(0,p.q9)(e.params.video.frameworks,6)),t}function z(e,t,n){(0,o.isEmpty)(e.video)&&(e.video={}),e.video[t]=n}function F(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push(function(){((0,o.getWindowFromDocument)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}function L(e,t,n,r){return t&&(r?e.push({source:n,id:t,rti_partner:r}):e.push({source:n,id:t})),e}function W(e){var t="";return Object.keys(e).forEach(function(n){(0,o.isStr)(e[n])?""!==e[n]?t+="".concat(n,"=").concat(e[n],","):t+="".concat(n,","):(0,o.isArray)(e[n])&&(""===e[n][0]?t+="".concat(n,","):e[n].forEach(function(e){t+="".concat(n,"=").concat(e,",")}))}),t=t.substring(0,t.length-1)}function K(e){var t={};return(0,o.isStr)(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach(function(e){if(-1!==e.indexOf("=")){var n=e.split("="),r=n[0],i=n[1];t.hasOwnProperty(r)?t[r].push(i):t[r]=[i]}else t.hasOwnProperty(e)||(t[e]=[""])}),t}(0,d.dX)(k),window.pbjs.installedModules.push("appnexusBidAdapter")},7673:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(265);function i(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e(e.s=6319)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[944],{5813:function(e,t,n){var r=n(4358),i=n(4563),o=n(5644),a=n(3092),s=n(8928),c=(0,n(5164).df)(),d=[],u=[],l=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],p=["Safari","Chrome","Firefox","Microsoft Edge"];function f(){var e=m.getUserAgent();try{var t=l.filter(function(t){return t.test.test(e)}),n=t&&t.length?t[0].name:"";return p.indexOf(n)>=0?n:"Unknown"}catch(e){(0,r.logError)("ATS Analytics - Error while checking user browser!",e)}}function g(e){try{var t={Data:e},n=JSON.stringify(t);(0,r.logInfo)("ATS Analytics - tried to send analytics data!"),(0,s.h)("https://analytics.rlcdn.com",function(){(0,r.logInfo)("ATS Analytics - events sent successfully!")},n,{method:"POST",contentType:"application/json"})}catch(e){(0,r.logError)("ATS Analytics - request encounter an error: ",e)}}var m=Object.assign((0,i.Z)({analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;void 0!==n&&m.callHandler(t,n)}});m.originEnableAnalytics=m.enableAnalytics,m.shouldFireRequest=function(e){if(0!==e){var t=100===Math.floor(100*Math.random()+1);return(0,r.logInfo)("ATS Analytics - Should Fire Request: ",t),t}return(0,r.logInfo)("ATS Analytics - Should Fire Request: ",!1),!1},m.getUserAgent=function(){return window.navigator.userAgent},m.setSamplingCookie=function(e){var t=new Date;t.setTime(t.getTime()+864e5),c.setCookie("_lr_sampling_rate",e,t.toUTCString())},m.enableAnalytics=function(e){if(e.options.pid){m.context={events:[],pid:e.options.pid,bidWonTimeout:e.options.bidWonTimeout};var t=e.options;(0,r.logInfo)("ATS Analytics - adapter enabled! "),m.originEnableAnalytics(t)}else(0,r.logError)("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work")},m.callHandler=function(e,t){if(e===o.EVENTS.BID_REQUESTED?d=d.concat(function(e){var t="true"===c.getCookie("_lr_env_src_ats");return e.bids.map(function(n){return{envelope_source:t,has_envelope:!!n.userId&&!!n.userId.idl_env,bidder:n.bidder,bid_id:n.bidId,auction_id:e.auctionId,user_browser:f(),user_platform:navigator.platform,auction_start:new Date(e.auctionStart).toJSON(),domain:window.location.hostname,pid:m.context.pid,adapter_version:3,bid_won:!1}})}(t)):e===o.EVENTS.BID_RESPONSE&&u.push(function(e){return{bid_id:e.requestId,response_time_stamp:new Date(e.responseTimestamp).toJSON(),currency:e.currency,cpm:e.cpm,net_revenue:e.netRevenue}}(t)),e===o.EVENTS.AUCTION_END){var n=m.context.bidWonTimeout?m.context.bidWonTimeout:2e3,i=[];setTimeout(function(){var e=pbjs.getAllWinningBids();if((0,r.logInfo)("ATS Analytics - winning bids: ",e),d.length){var t={};u.length?(i=d.filter(function(e){return u.filter(function(t){e.bid_id===t.bid_id&&Object.assign(e,t)})}),e.length&&(i=i.filter(function(n){return e.filter(function(e){t.bid_id=e.requestId,t.bid_won=!0,n.bid_id===t.bid_id&&Object.assign(n,t)})}))):i=d;try{var n=c.getCookie("_lr_sampling_rate");n?m.shouldFireRequest(parseInt(n))&&((0,r.logInfo)("ATS Analytics - events to send: ",i),g(i)):function(e){(0,r.logInfo)("ATS Analytics - preflight request!"),(0,s.h)("https://check.analytics.rlcdn.com/check/"+m.context.pid,{success:function(t){var n=JSON.parse(t);(0,r.logInfo)("ATS Analytics - Sampling Rate: ",n);var i=n.samplingRate;m.setSamplingCookie(i);var o=Number(i);t&&i&&m.shouldFireRequest(o)&&((0,r.logInfo)("ATS Analytics - events to send: ",e),g(e))},error:function(){m.setSamplingCookie(0),(0,r.logInfo)("ATS Analytics - Sampling Rate Request Error!")}},void 0,{method:"GET",crossOrigin:!0})}(i),i=[]}catch(e){(0,r.logError)("ATS Analytics - preflight request encounter an error: ",e)}}},n)}},a.ZP.registerAnalyticsAdapter({adapter:m,code:"atsAnalytics",gvlid:97}),window.pbjs.installedModules.push("atsAnalyticsAdapter")}},function(e){e.O(0,[861],function(){return 5813,e(e.s=5813)}),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[744],{1008:function(e,t,n){var r=n(3324),i=n(4358),o=n(8928),a=n(4563),s=n(5644),c=n(3092),d=Math.random()<=.01,u="https://bids.concert.io/analytics",l=s.EVENTS,p=l.BID_RESPONSE,f=l.BID_WON,g=l.AUCTION_END,m=[],v=Object.assign((0,a.Z)({url:u,analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;switch(t){case p:case f:if("concert"!==n.bidder)break;m.push(function(e,t){var n=t.adId,i=t.auctionId,o=t.cpm,a=t.creativeId,s=t.width,c=t.height,d=t.timeToRespond,u=function(e){return!e||e.indexOf("|")<0?[null,null]:e.split("|")}(a),l=(0,r.Z)(u,2),p=l[0];return{event:e,concert_rid:l[1],adId:n,auctionId:i,creativeId:p,position:t.adUnitCode,url:window.location.href,cpm:o,width:s,height:c,timeToRespond:d}}(t,n));break;case g:setTimeout(function(){return function(){if(v.eventsStorage=m,m.length)if(d)try{var e=JSON.stringify(m);(0,o.h)(u,function(){return m=[]},e,{contentType:"application/json",method:"POST"})}catch(e){(0,i.logMessage)("Concert Analytics error")}else(0,i.logMessage)("Page not included in sample for Concert Analytics")}()},3e3)}}});v.originEnableAnalytics=v.enableAnalytics,v.eventsStorage=[],v.enableAnalytics=function(e){v.originEnableAnalytics(e)},c.ZP.registerAnalyticsAdapter({adapter:v,code:"concert"}),window.pbjs.installedModules.push("concertAnalyticsAdapter")}},function(e){e.O(0,[861],function(){return 1008,e(e.s=1008)}),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[188],{3109:function(e,t,n){var r=n(1002),i=n(4358),o=n(5339),a=n(5164),s=n(7673),c="concert",d={code:c,isBidRequestValid:function(e){return!!e.params.partnerId||((0,i.logWarn)("Missing partnerId bid parameter"),!1)},buildRequests:function(e,t){(0,i.logMessage)(e),(0,i.logMessage)(t);var n={meta:{prebidVersion:"7.22.0",pageUrl:t.refererInfo.page,screen:[window.screen.width,window.screen.height].join("x"),debug:(0,i.debugTurnedOn)(),uid:l(t),optedOut:p(),adapterVersion:"1.1.1",uspConsent:t.uspConsent,gdprConsent:t.gdprConsent}};return n.slots=e.map(function(e){return{name:e.adUnitCode,bidId:e.bidId,transactionId:e.transactionId,sizes:e.params.sizes||e.sizes,partnerId:e.params.partnerId,slotType:e.params.slotType,adSlot:e.params.slot||e.adUnitCode,placementId:e.params.placementId||"",site:e.params.site||t.refererInfo.page,ref:t.refererInfo.ref}}),(0,i.logMessage)(n),{method:"POST",url:"".concat("https://bids.concert.io","/bids/prebid"),data:JSON.stringify(n)}},interpretResponse:function(e,t){(0,i.logMessage)(e),(0,i.logMessage)(t);var n,o=e.body;return o&&"object"===(0,r.Z)(o)?(n=o.bids.map(function(e){return{requestId:e.bidId,cpm:e.cpm,width:e.width,height:e.height,ad:e.ad,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},creativeId:e.creativeId,netRevenue:e.netRevenue,currency:e.currency}}),(0,i.debugTurnedOn)()&&o.debug&&(0,i.logMessage)("CONCERT",o.debug),(0,i.logMessage)(n),n):[]},getUserSyncs:function(e,t,n,r){var i=[];if(e.iframeEnabled&&!p()){var o=[];n&&"boolean"==typeof n.gdprApplies&&o.push("gdpr_applies=".concat(n.gdprApplies?"1":"0")),n&&"string"==typeof n.consentString&&o.push("gdpr_consent=".concat(n.consentString)),r&&"string"==typeof r&&o.push("usp_consent=".concat(r)),i.push({type:"iframe",url:"https://cdn.concert.io/lib/bids/sync.html"+(o.length>0?"?".concat(o.join("&")):"")})}return i},onTimeout:function(e){(0,i.logMessage)("concert bidder timed out"),(0,i.logMessage)(e)},onBidWon:function(e){(0,i.logMessage)("concert bidder won bid"),(0,i.logMessage)(e)}};(0,o.dX)(d);var u=(0,a.df)({bidderCode:c});function l(e){if(p()||!function(e){var t=!("string"===(null==e?void 0:e.uspConsent)&&"1"===(null==e?void 0:e.uspConsent[0])&&"Y"===(null==e?void 0:e.uspConsent[2].toUpperCase())),n=(null==e?void 0:e.gdprConsent)&&(0,s.h)(null==e?void 0:e.gdprConsent);return t||n}(e))return!1;var t="c_uid",n=u.getDataFromLocalStorage(t);return n||(n=(0,i.generateUUID)(),u.setDataInLocalStorage(t,n)),n}function p(){return"true"===u.getDataFromLocalStorage("c_nap")}window.pbjs.installedModules.push("concertBidAdapter")},7673:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(265);function i(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e(e.s=3109)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[266],{5630:function(e,t,n){var r,i,o,a,s,c,d=n(1002),u=n(4942),l=n(4358),p=n(3193),f=n(3092),g=n(4614),m=n(9128),v=!1,h={iab:function(e){var t=e.onSuccess,n=e.onError;function r(e,r){(0,l.logInfo)("Received a response from CMP",e),r?!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus?_(e,{onSuccess:t,onError:n}):c=e:n("CMP unable to register callback function.  Please check CMP setup.")}var i={},o=function(){for(var e,t,n=window;;){try{if("function"==typeof n.__tcfapi){t=n.__tcfapi,e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),a=o.cmpFrame,s=o.cmpFunction;if(!a)return n("CMP not found.");"function"==typeof s?((0,l.logInfo)("Detected CMP API is directly accessible, calling it now..."),s("addEventListener",2,r)):((0,l.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){var r="__tcfapi",o="".concat(r,"Call");window[r]=function(e,n,r,a){var s=Math.random()+"",c=(0,u.Z)({},o,{command:e,version:n,parameter:a,callId:s});i[s]=r,t.postMessage(c,"*")},window.addEventListener("message",function(e){var t="".concat(r,"Return"),n="string"==typeof e.data&&(0,g.q9)(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){var o=n[t];i.hasOwnProperty(o.callId)&&i[o.callId](o.returnValue,o.success)}},!1),window[r]("addEventListener",2,n)}(0,a,r))},static:function(e){var t=e.onSuccess,n=e.onError;_(a,{onSuccess:t,onError:n})}};function b(e){var t=!1,n=null;function o(r,i,o){if(null!=n&&clearTimeout(n),t=!0,f.rp.setConsentData(r),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];e.apply(void 0,[i,o].concat(s))}}if((0,g.q9)(Object.keys(h),r)){var a={onSuccess:function(e){return o(e,!1)},onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.apply(void 0,[null,!0,e].concat(n))}};if(h[r](a),!t){var s=function(){var e=function(e){o(e,!1,"CMP did not load, continuing auction...")};_(c,{onSuccess:e,onError:function(){return e(E(void 0))}})};0===i?s():n=setTimeout(s,i)}}else o(null,!1,"CMP framework (".concat(r,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var y=(0,m.g3)("gdpr",function(e,t){var n;n=function(n,r){if(r){var i=l.logWarn;n&&(i=l.logError,r="".concat(r," Canceling auction as per consentManagement config."));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.apply(void 0,[r].concat(a))}n?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,l.logError)("Error executing bidsBackHandler")):e.call(this,t)},s?((0,l.logInfo)("User consent information already known.  Pulling internally stored information..."),n(!1)):b(n)});function _(e,t){var n,i,a=t.onSuccess,s=t.onError;"static"===r&&(e=e.getTCData),n=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o,i=e&&e.tcString,"boolean"==typeof n&&(!0!==n||i&&(0,l.isStr)(i))?a(E(e)):s("CMP returned unexpected value during lookup process.",e)}function E(e){return s={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o},e&&e.addtlConsent&&(0,l.isStr)(e.addtlConsent)&&(s.addtlConsent=e.addtlConsent),s.apiVersion=2,s}p.vc.getConfig("consentManagement",function(e){return function(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===(0,d.Z)(e)?((0,l.isStr)(e.cmpApi)?r=e.cmpApi:(r="iab",(0,l.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,l.isNumber)(e.timeout)?i=e.timeout:(i=1e4,(0,l.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),o=!0===e.defaultGdprScope,(0,l.logInfo)("consentManagement module has been activated..."),"static"===r&&((0,l.isPlainObject)(e.consentData)?(a=e.consentData,i=0):(0,l.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),v||pbjs.requestBids.before(y,50),v=!0,f.rp.enable(),b()):(0,l.logWarn)("consentManagement config not defined, exiting consent manager")}(e.consentManagement)}),window.pbjs.installedModules.push("consentManagement")}},function(e){e(e.s=5630)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[160],{9099:function(e,t,n){var r,i,o=n(1002),a=n(4358),s=n(3193),c=n(3092),d=n(9128),u=n(2797),l="iab",p=l,f=50,g=!1,m={iab:function(e){var t,n=e.onSuccess,r=e.onError,i=(t={},{consentDataCallback:function(e,i){i&&e.uspString&&(t.usPrivacy=e.uspString),t.usPrivacy?b(t,{onSuccess:n,onError:r}):r("Unable to get USP consent string.")}}),o={},s=function(){for(var e,t,n=window;;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}(),c=s.uspapiFrame,d=s.uspapiFunction;if(!c)return r("USP CMP not found.");(0,a.isFn)(d)?((0,a.logInfo)("Detected USP CMP is directly accessible, calling it now..."),d("getUSPData",1,i.consentDataCallback)):((0,a.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){window.__uspapi=function(e,n,r){var i=Math.random()+"",a={__uspapiCall:{command:e,version:n,callId:i}};o[i]=r,t.postMessage(a,"*")},window.addEventListener("message",function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&o.hasOwnProperty(t.callId)&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])},!1),window.__uspapi("getUSPData",1,n)}(0,c,i.consentDataCallback))},static:function(e){var t=e.onSuccess,n=e.onError;b(r,{onSuccess:t,onError:n})}};function v(e){var t=null,n=!1;function r(r,i){if(null!=t&&clearTimeout(t),n=!0,c.nX.setConsentData(r),null!=e){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[i].concat(a))}}if(m[p]){var i={onSuccess:r,onError:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(n))}};m[p](i),n||(0===f?b(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),f))}else r(null,"USP framework (".concat(p,") is not a supported framework. Aborting consentManagement module and resuming auction."))}var h=(0,d.g3)("usp",function(e,t){var n=this;g||y(),v(function(r){if(null!=r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];a.logWarn.apply(void 0,[r].concat(o))}e.call(n,t)})});function b(e,t){var n=t.onSuccess,r=t.onError;e&&e.usPrivacy?(function(e){e&&e.usPrivacy&&(i=e.usPrivacy)}(e),n(i)):r("USPAPI returned unexpected value during lookup process.",e)}function y(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g||((0,a.logInfo)("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(p,"', timeout: ").concat(f,"ms)"))),g=!0,c.nX.enable()),v()}s.vc.getConfig("consentManagement",function(e){return function(e){(e=e&&e.usp)&&"object"===(0,o.Z)(e)||(0,a.logWarn)("consentManagement.usp config not defined, using defaults"),e&&(0,a.isStr)(e.cmpApi)?p=e.cmpApi:(p=l,(0,a.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(l,")."))),e&&(0,a.isNumber)(e.timeout)?f=e.timeout:(f=50,(0,a.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===p&&((0,a.isPlainObject)(e.consentData)&&(0,a.isPlainObject)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(r={usPrivacy:e.consentData.getUSPData.uspString}),f=0):(0,a.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),y(!0)}(e.consentManagement)}),(0,u.v5)("requestBids").before(h,50),window.pbjs.installedModules.push("consentManagementUsp")}},function(e){e(e.s=9099)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[406],{241:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4358),_src_utils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5730),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5339),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3193),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4679),_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4614),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5164),_src_native_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(59),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5102),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7673),GVLID=91,ADAPTER_VERSION=34,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({gvlid:GVLID,bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=130,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",SID_COOKIE_NAME="cto_sid",IDCPY_COOKIE_NAME="cto_idcpy",LWID_COOKIE_NAME="cto_lwid",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:function(e,t,n,r){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion")))return[];var i=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__.nH)(),o="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__.h)(n)){var a=[];a.push("origin=".concat(o)),a.push("topUrl=".concat(i.domain)),n&&(n.gdprApplies&&a.push("gdpr=".concat(1==n.gdprApplies?1:0)),n.consentString&&a.push("gdpr_consent=".concat(n.consentString))),r&&a.push("us_privacy=".concat(r));var s=Math.random().toString(),c={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),localWebId:readFromAllStorages(LWID_COOKIE_NAME),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:o,requestId:s,secureIdCookie:readFromAllStorages(SID_COOKIE_NAME),tld:i.domain,topUrl:i.domain,uid:readFromAllStorages(IDCPY_COOKIE_NAME),version:"7.22.0".replace(/\./g,"_")};window.addEventListener("message",function e(t){if(t.data&&"https://gum.criteo.com"==t.origin&&t.data.requestId===s){this.removeEventListener("message",e),t.stopImmediatePropagation();var n=t.data;n.optout?(deleteFromAllStorages(IDCPY_COOKIE_NAME),deleteFromAllStorages(SID_COOKIE_NAME),deleteFromAllStorages(BUNDLE_COOKIE_NAME),deleteFromAllStorages(LWID_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):(n.uid&&saveOnAllStorages(IDCPY_COOKIE_NAME,n.uid,GUID_RETENTION_TIME_HOUR),n.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,n.bundle,GUID_RETENTION_TIME_HOUR),n.removeSid?deleteFromAllStorages(SID_COOKIE_NAME):n.sid&&saveOnAllStorages(SID_COOKIE_NAME,n.sid,GUID_RETENTION_TIME_HOUR))}},!0);var d=JSON.stringify(c).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(a.join("&"),"#").concat(d)}]}return[]},isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var n,r,i,o;e=(0,_src_native_js__WEBPACK_IMPORTED_MODULE_6__.lY)(e);var a=t.ortb2||{};Object.assign(t,{publisherExt:null===(n=a.site)||void 0===n?void 0:n.ext,userExt:null===(r=a.user)||void 0===r?void 0:r.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("coppa")});var s=_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion"),c=canFastBid(s);if(!publisherTagAvailable()&&c){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var d=getFastBidUrl(s);setTimeout(function(){(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__.B)(d,BIDDER_CODE)},t.timeout)}if(publisherTagAvailable()){var u=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.22.0");i=u.buildCdbUrl(),o=u.buildCdbRequest()}else{var l=buildContext(e,t);i=buildCdbUrl(l),o=buildCdbRequest(l,e,t)}if(o)return{method:"POST",url:i,data:o,bidRequests:e}},interpretResponse:function(e,t){var n=e.body||e;if(publisherTagAvailable()){var r=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(r)return r.interpretResponse(n,t)}var i=[];return n&&n.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.isArray)(n.slots)&&n.slots.forEach(function(r){var o,a,s,c,d=(0,_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__.sE)(t.bidRequests,function(e){return e.adUnitCode===r.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===r.zoneid)}),u=d.bidId,l={requestId:u,cpm:r.cpm,currency:r.currency,netRevenue:!0,ttl:r.ttl||60,creativeId:r.creativecode,width:r.width,height:r.height,dealId:r.dealCode};if(null!==(o=n.ext)&&void 0!==o&&null!==(a=o.paf)&&void 0!==a&&a.transmission&&null!==(s=r.ext)&&void 0!==s&&null!==(c=s.paf)&&void 0!==c&&c.content_id){var p={content_id:r.ext.paf.content_id,transmission:e.ext.paf.transmission};l.meta=Object.assign({},l.meta,{paf:p})}r.adomain&&(l.meta=Object.assign({},l.meta,{advertiserDomains:r.adomain})),r.native?d.params.nativeCallback?l.ad=createNativeAd(u,r.native,d.params.nativeCallback):(l.native=createPrebidNativeAd(r.native),l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5):r.video?(l.vastUrl=r.displayurl,l.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX):l.ad=r.creative,i.push(l)}),i},onTimeout:function(e){if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach(function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())})}},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function readFromAllStorages(e){var t=storage.getCookie(e),n=storage.getDataFromLocalStorage(e);return t||n||void 0}function saveOnAllStorages(e,t,n){var r=new Date;r.setTime(r.getTime()+60*n*60*1e3);var i="expires=".concat(r.toUTCString());storage.setCookie(e,t,i),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var n,r="";t&&t.refererInfo&&(r=t.refererInfo.page);var i=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.parseUrl)(null==t||null===(n=t.refererInfo)||void 0===n?void 0:n.topmostLocation).search,o={url:r,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return e.forEach(function(e){"amp"===e.params.integrationMode&&(o.amp=!0)}),o}function buildCdbUrl(e){var t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.22.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");var n=readFromAllStorages(BUNDLE_COOKIE_NAME);n&&(t+="&bundle=".concat(n)),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1");var r=readFromAllStorages(SID_COOKIE_NAME);r&&(t+="&sid=".concat(r));var i=readFromAllStorages(IDCPY_COOKIE_NAME);return i&&(t+="&idcpy=".concat(i)),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,n){var r,i,o={publisher:{url:e.url,ext:n.publisherExt},regs:{coppa:!0===n.coppa?1:!1===n.coppa?0:void 0},slots:t.map(function(e){r=e.params.networkId||r,i=e.schain||i;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logWarn)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){var n={playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},o=e.params.video;void 0!==o&&(n.skip=n.skip||o.skip||0,n.placement=n.placement||o.placement,n.minduration=n.minduration||o.minduration,n.playbackmethod=n.playbackmethod||o.playbackmethod,n.startdelay=n.startdelay||o.startdelay||0),t.video=n}return enrichSlotWithFloors(t,e),t})};return r&&(o.publisher.networkid=r),i&&(o.source={ext:{schain:i}}),o.user={ext:n.userExt},n&&n.ceh&&(o.user.ceh=n.ceh),n&&n.gdprConsent&&(o.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(o.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),o.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(o.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(o.user.uspIab=n.uspConsent),o}function parseSizes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return null==e?[]:Array.isArray(e[0])?e.map(function(e){return t(e)}):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach(function(n){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video."+n)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"params.video."+n)&&(t=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logError)("Criteo Bid Adapter: mediaTypes.video."+n+" is required"))}),t){var n=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===n)return!0;if("outstream"==e.mediaTypes.video.context&&1!==n)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}}function createNativeAd(e,t,n){var r="criteo_prebid_native_slots";return window[r]=window[r]||{},window[r][e]={callback:n,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(r,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function enrichSlotWithFloors(e,t){try{var n,r,i,o={};if(t.getFloor)null!==(n=t.mediaTypes)&&void 0!==n&&n.banner&&(o.banner={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.banner.sizes")).forEach(function(e){return o.banner[parseSize(e).toString()]=t.getFloor({size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk})})),null!==(r=t.mediaTypes)&&void 0!==r&&r.video&&(o.video={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.video.playerSize")).forEach(function(e){return o.video[parseSize(e).toString()]=t.getFloor({size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX})})),null!==(i=t.mediaTypes)&&void 0!==i&&i.native&&(o.native={},o.native["*"]=t.getFloor({size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5})),Object.keys(o).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:o}))}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logError)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){var t;return e===FAST_BID_VERSION_LATEST?t="":e?(String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logWarn)("Specifying a Fastbid version which is not supporting version selection."),t="."+e):t="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logWarn)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logInfo)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.logWarn)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__.dX)(spec),window.pbjs.installedModules.push("criteoBidAdapter")},7673:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(265);function i(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}},4611:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",r=this.t,i=this.DB-r*this.DB%4;if(r-- >0)for(i<this.DB&&(e=this[r]>>i)>0&&(t=!0,n=u(e));r>=0;)i<4?(e=(this[r]&(1<<i)-1)<<4-i,e|=this[--r]>>(i+=this.DB-4)):(e=this[r]>>(i-=4)&15,i<=0&&(i+=this.DB,--r)),e>0&&(t=!0),t&&(n+=u(e));return t?n:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var n=t.length,r=!1,i=0;--n>=0;){var o=d(t,n);o<0?"-"==t.charAt(n)&&(r=!0):(r=!1,0==i?this[this.t++]=o:i+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this[this.t++]=o>>this.DB-i):this[this.t-1]|=o<<i,(i+=4)>=this.DB&&(i-=this.DB))}this.clamp(),r&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=i();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var n=i();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>r|a,a=(this[s]&i)<<n;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),i=t.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.divRemTo=function(t,n,r){var a=t.abs();if(!(a.t<=0)){var s=this.abs();if(s.t<a.t)return null!=n&&n.fromHexString("0"),void(null!=r&&this.copyTo(r));null==r&&(r=i());var c=i(),d=this.s,u=t.s,l=this.DB-o(a[a.t-1]);l>0?(a.lShiftTo(l,c),s.lShiftTo(l,r)):(a.copyTo(c),s.copyTo(r));var p=c.t,f=c[p-1];if(0!=f){var g=f*(1<<this.F1)+(p>1?c[p-2]>>this.F2:0),m=this.FV/g,v=(1<<this.F1)/g,h=1<<this.F2,b=r.t,y=b-p,_=null==n?i():n;for(c.dlShiftTo(y,_),r.compareTo(_)>=0&&(r[r.t++]=1,r.subTo(_,r)),e.ONE.dlShiftTo(p,_),_.subTo(c,c);c.t<p;)c[c.t++]=0;for(;--y>=0;){var E=r[--b]==f?this.DM:Math.floor(r[b]*m+(r[b-1]+h)*v);if((r[b]+=c.am(0,E,r,y,0,p))<E)for(c.dlShiftTo(y,_),r.subTo(_,r);r[b]<--E;)r.subTo(_,r)}null!=n&&(r.drShiftTo(p,n),d!=u&&e.ZERO.subTo(n,n)),r.t=p,r.clamp(),l>0&&r.rShiftTo(l,r),d<0&&e.ZERO.subTo(r,r)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new l(t):new p(t),this.exp(e,n)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var r=i(),a=i(),s=n.convert(this),c=o(t)-1;for(s.copyTo(r);--c>=0;)if(n.sqrTo(r,a),(t&1<<c)>0)n.mulTo(a,s,r);else{var d=r;r=a,a=d}return n.revert(r)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.am1=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},e.prototype.am2=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],d=this[e++]>>15,u=s*c+d*a;i=((c=a*c+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*d+(i>>>30),n[r++]=1073741823&c}return i},e.prototype.am3=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],d=this[e++]>>14,u=s*c+d*a;i=((c=a*c+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*d,n[r++]=268435455&c}return i},e}();function i(){return new r(null)}function o(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=r,t.nbi=i,t.nbits=o;var a,s,c=[];for(a="0".charCodeAt(0),s=0;s<=9;++s)c[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)c[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)c[a++]=s;function d(e,t){var n=c[e.charCodeAt(t)];return null==n?-1:n}function u(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=d,t.int2char=u,t.b64toHex=function(e){var t,n="",r=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));o<0||(0==r?(n+=u(o>>2),i=3&o,r=1):1==r?(n+=u(i<<2|o>>4),i=15&o,r=2):2==r?(n+=u(i),n+=u(o>>2),i=3&o,r=3):(n+=u(i<<2|o>>4),n+=u(15&o),r=0))}return 1==r&&(n+=u(i<<2)),n},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var l=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),p=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function f(e){var t=i();return t.fromHexString(e.toString()),t}t.nbv=f,r.ZERO=f(0),r.ONE=f(1),"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=r.prototype.am2,n=30):"Netscape"!=navigator.appName?(r.prototype.am=r.prototype.am1,n=26):(r.prototype.am=r.prototype.am3,n=28),r.prototype.DB=n,r.prototype.DM=(1<<n)-1,r.prototype.DV=1<<n,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-n,r.prototype.F2=2*n-52},4950:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=(t+=String.fromCharCode(128)).length/4+2,o=Math.ceil(i/16),a=new Array(o),s=0;s<o;s++){a[s]=new Array(16);for(var c=0;c<16;c++)a[s][c]=t.charCodeAt(64*s+4*c)<<24|t.charCodeAt(64*s+4*c+1)<<16|t.charCodeAt(64*s+4*c+2)<<8|t.charCodeAt(64*s+4*c+3)<<0}var d=8*(t.length-1)/Math.pow(2,32),u=8*(t.length-1)>>>0;for(a[o-1][14]=Math.floor(d),a[o-1][15]=u,s=0;s<o;s++){for(var l=new Array(64),p=0;p<16;p++)l[p]=a[s][p];for(p=16;p<64;p++)l[p]=e.q1(l[p-2])+l[p-7]+e.q0(l[p-15])+l[p-16]>>>0;var f=r[0],g=r[1],m=r[2],v=r[3],h=r[4],b=r[5],y=r[6],_=r[7];for(p=0;p<64;p++){var E=_+e.z1(h)+e.Ch(h,b,y)+n[p]+l[p],I=e.z0(f)+e.Maj(f,g,m);_=y,y=b,b=h,h=v+E>>>0,v=m,m=g,g=f,f=E+I>>>0}r[0]=r[0]+f>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+h>>>0,r[5]=r[5]+b>>>0,r[6]=r[6]+y>>>0,r[7]=r[7]+_>>>0}var T=new Array(r.length);for(_=0;_<r.length;_++)T[_]=("00000000"+r[_].toString(16)).slice(-8);return T.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce(function(e,t){return e+String.fromCharCode(t)},"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,n){return e&t^~e&n},e.Maj=function(e,t,n){return e&t^e&n^t&n},e}();t.Sha256=n},1582:function(e,t,n){var r=n(4611),i=n(4950);t.T=function(e,t,n,o){var a=new r.BigInteger(r.b64toHex(t)),s=new r.BigInteger(r.b64toHex(n)),c=a.modPowInt(o,s);return r.removeExtraSymbols(c.toHexString())===i.Sha256.hash(e)}}},function(e){e(e.s=241)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[114],{5407:function(e,t,n){var r=n(4358),i=n(265),o=n(8928),a=n(2797),s=(0,n(5164).df)(),c={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var o=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=o?t.consentString:"",s=2===i.Z(t,"vendorData.tcfPolicyVersion");if(!o||a&&""!==a){var c="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(o?(s?"&ct=4&cv=":"&ct=1&cv=")+a:"");return{callback:function(e){window.ats?(r.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(t){t?(r.logInfo("identityLink: An envelope can be retrieved from ATS!"),u(!0),e(JSON.parse(t).envelope)):d(c,e,n)})):d(c,e,n)}}}r.logInfo("identityLink: Consent string is required to call envelope API.")}else r.logError("identityLink: requires partner id to be defined")}};function d(e,t,n){var i,a={success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){r.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){r.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||s.getCookie("_lr_retry_request")||((i=new Date).setTime(i.getTime()+36e5),s.setCookie("_lr_retry_request","true",i.toUTCString()),r.logInfo("identityLink: A 3P retrieval is attempted!"),u(!1),(0,o.h)(e,a,void 0,{method:"GET",withCredentials:!0}))}function u(e){var t=new Date;t.setTime(t.getTime()+2592e6),s.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,a.Bx)("userId",c),window.pbjs.installedModules.push("identityLinkIdSystem")}},function(e){e(e.s=5407)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[155],{3390:function(e,t,n){var r=n(9062),i=n(1002),o=n(4942),a=n(265),s=n(4358),c=n(6475),d=n(4679),u=n(3193),l=n(5644),p=n(5164),f=n(2021),g=n(4614),m=n(5339),v=n(154),h=n(5706);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="ix",T="roundel",S=[d.Mk,d.pX,d.B5],w=8e3,O=[144,144],A={JPY:1},C="p",k="x",x=6,D=7,P=8,R=9,j={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},B={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},U=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],N=["mimes","minduration","maxduration"],M=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],Z="ixdiag",q="".concat(I,"_features"),z=!1,F=(0,p.df)({gvlid:10,bidderCode:I}),L={featureToggles:{},isFeatureEnabled:function(e){return(0,a.Z)(this.featureToggles,"features.".concat(e,".activated"))},getFeatureToggles:function(){if(F.localStorageIsEnabled()){var e=(0,s.safeJSONParse)(F.getDataFromLocalStorage(q));(0,a.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,n=new Date,r=(0,a.Z)(t,"ext.features");r&&(this.featureToggles={expiry:n.setHours(n.getHours()+1),features:r},F.localStorageIsEnabled()&&F.setDataInLocalStorage(q,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},F.localStorageIsEnabled()&&F.removeDataFromLocalStorage(q)}},W=0,K="",V="",G=2;function Y(e){var t=H(e),n=(0,a.Z)(e,"mediaTypes.video"),r=(0,a.Z)(e,"params.video");if(ee(n,r).length)return{};for(var i in t.video=r?(0,s.deepClone)(e.params.video):{},t.ext.tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),n)-1===M.indexOf(i)||t.video.hasOwnProperty(i)||(t.video[i]=n[i]);if(t.video.minduration>t.video.maxduration)return(0,s.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:I,code:R}),{};var o=r&&r.context||n&&n.context;if(o&&!t.video.hasOwnProperty("placement")&&(o===v.LD?t.video.placement=1:o===v.gZ?(0,a.Z)(r,"playerConfig.floatOnScroll")?t.video.placement=5:t.video.placement=4:(0,s.logWarn)("IX Bid Adapter: Video context '".concat(o,"' is not supported"))),!t.video.w||!t.video.h){var c=te((0,a.Z)(t,"video.playerSize"))||te((0,a.Z)(e,"params.size"));if(!c)return(0,s.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=c[0],t.video.h=c[1]}return X(e,t,d.pX),t}function H(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function X(e,t,n){var r=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,s.isFn)(e.getFloor)){var o="*",a="*";if(n&&(0,s.contains)(S,n)){var c=t[n];o=n,a=[c.w,c.h]}try{i=e.getFloor({mediaType:o,size:a})}catch(e){(0,s.logWarn)("priceFloors module call getFloor failed, error : ",e)}}i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=C):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=k)}function J(e,t,n){var r={},i=!(!(0,a.Z)(e,"exp")||!(0,s.isInteger)(e.exp)),o=(0,a.Z)(e,"dealid")||(0,a.Z)(e,"ext.dealid");A.hasOwnProperty(t)?r.cpm=e.price/A[t]:r.cpm=e.price/100,r.requestId=e.impid,o&&(r.dealId=o),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype==G?r.vastXml=e.adm:e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl);var c=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{c=JSON.parse(e.adm)}catch(e){(0,s.logWarn)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==G?(r.width=n.video.w,r.height=n.video.h,r.mediaType=d.pX,r.mediaTypes=n.mediaTypes,r.ttl=i?e.exp:3600):c&&c.native?(r.native={ortb:c.native},r.width=e.w?e.w:1,r.height=e.h?e.h:1,r.mediaType=d.B5,r.ttl=i?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=d.Mk,r.ttl=i?e.exp:300),r.meta={},r.meta.networkId=(0,a.Z)(e,"ext.dspid"),r.meta.brandId=(0,a.Z)(e,"ext.advbrandid"),r.meta.brandName=(0,a.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function Q(e){return Array.isArray(e)&&2===e.length&&(0,s.isInteger)(e[0])&&(0,s.isInteger)(e[1])}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Q(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function ee(e,t){var n=[];e||(0,s.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var r,i=_(N);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e&&e.hasOwnProperty(o),c=t&&t.hasOwnProperty(o);a||c||n.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){i.e(e)}finally{i.f()}var d=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),p=t&&t.hasOwnProperty("protocols");return d||u||l||p||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Q(e)?e:!!Q(e[0])&&e[0]}function ne(e,t,n){if(e)return y(y({},(0,g.sE)(n,function(t){return t.bidId===e})),(0,g.sE)(t,function(t){return t.id===e}))}function re(e,t,n,o){var l="https://htlb.casalemedia.com/openrtb/pbjs",p=function(e){var t=[],n={};if((0,s.isArray)(e)){var r,i=_(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;B.hasOwnProperty(o.source)&&(0,a.Z)(o,"uids.0")&&(n[o.source]=!0,""!=B[o.source]&&(o.uids[0].ext={rtiPartner:B[o.source]}),delete o.uids[0].atype,t.push(o))}}catch(e){i.e(e)}finally{i.f()}}return{toSend:t,seenSources:n}}((0,a.Z)(e,"0.userIdAsEids")),f=p.toSend,g=(0,a.Z)(t,"refererInfo.page");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var m=window.headertag.getIdentityInfo();if(m&&"object"===(0,i.Z)(m))for(var v in m)if(m.hasOwnProperty(v)){var h=m[v];!h.responsePending&&h.data&&"object"===(0,i.Z)(h.data)&&Object.keys(h.data).length&&!p.seenSources[h.data.source]&&f.push(h.data)}}if(t&&t.bidderCode===T&&!p.seenSources["liveramp.com"])return[];var b={},E=u.vc.getConfig("bidderTimeout");b.id=e[0].bidderRequestId.toString(),b.site={},b.ext={},b.ext.source="prebid",b.ext.ixdiag={},b.ext.ixdiag.ls=F.localStorageIsEnabled(),b.imp=[],b.at=1;var S=function(e){for(var t=e.map(function(e){return e.transactionId}).filter(function(e,t,n){return n.indexOf(e)===t}),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.22.0",userIds:ie(e[0]),url:window.location.href.split("?")[0]},r=function(r){o=e.filter(function(e){return e.transactionId===t[r]})[0],(0,a.Z)(o,"mediaTypes")&&(Object.keys(o.mediaTypes).length>1&&n.mfu++,(0,a.Z)(o,"mediaTypes.native")&&n.nu++,(0,a.Z)(o,"mediaTypes.banner")&&n.bu++,"outstream"===(0,a.Z)(o,"mediaTypes.video.context")&&(n.ou++,fe(o)&&(n.ren=!0)),"instream"===(0,a.Z)(o,"mediaTypes.video.context")&&n.iu++,n.allu++)},i=0;i<t.length;i++){var o;r(i)}return n}(e);for(var O in S)b.ext.ixdiag[O]=S[O];E&&(b.ext.ixdiag.tmax=E),u.vc.getConfig("userSync")&&(b.ext.ixdiag.syncsPerBidder=u.vc.getConfig("userSync").syncsPerBidder);var A=function(){if(F.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(F.getDataFromLocalStorage(Z)||"{}")}catch(e){return(0,s.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])})}),t}}();(0,s.isEmpty)(A)||(b.ext.ixdiag.err=A),b.source={tid:e[0].auctionId},e[0].schain&&(b.source.ext={},b.source.ext.schain=e[0].schain),f.length>0&&(b.user={},b.user.eids=f),document.referrer&&""!==document.referrer&&(b.site.ref=document.referrer),t&&(t.gdprConsent&&((K=t.gdprConsent).hasOwnProperty("gdprApplies")&&(b.regs={ext:{gdpr:K.gdprApplies?1:0}}),K.hasOwnProperty("consentString")&&(b.user=b.user||{},b.user.ext={consent:K.consentString||""},K.hasOwnProperty("addtlConsent")&&K.addtlConsent&&(b.user.ext.consented_providers_settings={consented_providers:K.addtlConsent}))),t.uspConsent&&((0,c.N)(b,"regs.ext.us_privacy",t.uspConsent),V=t.uspConsent),g&&(b.site.page=g)),u.vc.getConfig("coppa")&&(0,c.N)(b,"regs.coppa",1);var C={};W=e[0].params.siteId,C.s=W,L.isFeatureEnabled("pbjs_enable_post")||(o&&(C.v=o),C.ac="j",C.sd=1,8.1===o&&(C.nf=1));var k=t&&t.bidderCode||"ix",R=u.vc.getConfig(k),U=[],N=0,M=Object.keys(n),q="".concat(l).concat((0,s.parseQueryStringParameters)(y(y({},C),{},{r:JSON.stringify(b)}))).length;if(q>w)return(0,s.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:I,code:D}),U;var z=q,G=0,Y=!1;if(R){if("object"===(0,i.Z)(R.firstPartyData)){var H=R.firstPartyData,X="?";for(var J in H)H.hasOwnProperty(J)&&(X+="".concat(encodeURIComponent(J),"=").concat(encodeURIComponent(H[J]),"&"));X=X.slice(0,-1),(G=encodeURIComponent(X).length)<w?("page"in b.site?b.site.page+=X:b.site.page=X,z+=G):(0,s.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:I,code:x})}L.isFeatureEnabled("pbjs_enable_post")||"number"==typeof R.timeout&&(C.t=R.timeout)}for(var Q=function(i){if(z>=w||U.length>=4)return"break";for(var o=n[M[i]],u=o.missingImps,p=void 0===u?[]:u,f=o.ixImps,g=!1,m=w-z,v={ixImps:void 0===f?[]:f,missingBannerImpressions:p},h=Object.keys(v).map(function(e){return v[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,(0,r.Z)(t))},[]),_=encodeURIComponent(JSON.stringify({impressionObjects:h})).length;h.length&&_>m;)g=!0,h.pop(),_=encodeURIComponent(JSON.stringify({impressionObjects:h})).length;var E=n[M[i]].gpid,T=n[M[i]].dfp_ad_unit_code,S=n[M[i]].tid,O=n[M[i]].sid;if(h.length&&d.Mk in h[0]){for(var A=h[0],k={id:A.id,banner:{topframe:A.banner.topframe,format:h.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},x=0;x<k.banner.format.length;x++)null!=k.banner.format[x].ext&&null!=k.banner.format[x].ext.sid&&delete k.banner.format[x].ext.sid,"bidfloor"in h[x]&&(k.banner.format[x].ext.bidfloor=h[x].bidfloor);var D=n[M[i]].pos;(0,s.isInteger)(D)&&(k.banner.pos=D),(T||E||S||O)&&(k.ext={},k.ext.dfp_ad_unit_code=T,k.ext.gpid=E,k.ext.tid=S,k.ext.sid=O),"bidfloor"in h[0]&&(k.bidfloor=h[0].bidfloor),"bidfloorcur"in h[0]&&(k.bidfloorcur=h[0].bidfloorcur),b.imp.push(k)}else{var R;h.forEach(function(e){return(0,c.N)(e,"ext.gpid",E)}),(R=b.imp).push.apply(R,(0,r.Z)(h))}z+=_;var B=(0,a.Z)(t,"ortb2")||{};if(!(0,s.isEmpty)(B)&&!Y){b.ext.ixdiag.fpd=!0;var Z=y({},B.site||B.context);Object.keys(Z).forEach(function(e){-1===j.SITE.indexOf(e)&&delete Z[e]});var F=y({},B.user);Object.keys(F).forEach(function(e){-1===j.USER.indexOf(e)&&delete F[e]});var W=(0,s.deepClone)(b);if(W.site=(0,s.mergeDeep)({},W.site,Z),W.user=(0,s.mergeDeep)({},W.user,F),"".concat(l).concat((0,s.parseQueryStringParameters)(y(y({},C),{},{r:JSON.stringify(W)}))).length<w){b.site=(0,s.mergeDeep)({},b.site,Z),b.user=(0,s.mergeDeep)({},b.user,F),Y=!0;var K=encodeURIComponent(JSON.stringify(y(y({},Z),F))).length;z+=K}else(0,s.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:I,code:P})}var V=n[M[i]].pbadslot,G=n[M[i]].tagId,H=n[M[i]].adUnitCode,X=n[M[i]].divId;if(V||G||H||X){var J=(0,s.deepClone)(b);"".concat(l).concat((0,s.parseQueryStringParameters)(y(y({},C),{},{r:JSON.stringify(J)}))).length<w&&(b.ext.ixdiag.pbadslot=V,b.ext.ixdiag.tagid=G,b.ext.ixdiag.adunitcode=H,b.ext.ixdiag.divId=X)}var Q=i===M.length-1;if(g||Q){var $,ee=(0,s.deepClone)(C);Q&&!N||(b.ext.ixdiag.sn=N,ee.sn=N),N++,ee.r=JSON.stringify(b),$=L.isFeatureEnabled("pbjs_enable_post")?{method:"POST",url:l+"?s="+C.s,data:(0,s.deepClone)(b),option:{contentType:"text/plain"},validBidRequests:e}:{method:"GET",url:l,data:ee,validBidRequests:e},U.push($),z=q,b.imp=[],Y=!1}},$=0;$<M.length&&"break"!==Q($);$++);return U}function ie(e){var t=e.userId||{};return U.filter(function(e){return t[e]})}function oe(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function ae(e,t){var n=function(e){var t=H(e),n=e.nativeOrtbRequest;return n.eventtrackers=[{event:1,methods:[1,2]}],n.privacy=1,t.native={request:JSON.stringify(n),ver:"1.2"},t.ext.tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),X(e,t,d.B5),t}(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,a.Z)(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:(0,s.getGptSlotInfoForAdUnitCode)(r).divId;t[e.transactionId].adUnitCode=r,t[e.transactionId].divId=i}}function se(e,t){var n=Y(e);if(0!=Object.keys(n).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,a.Z)(e,"params.tagId");var r=e.adUnitCode,i=document.getElementById(r)?r:(0,s.getGptSlotInfoForAdUnitCode)(r).divId;t[e.transactionId].adUnitCode=r,t[e.transactionId].divId=i}}function ce(e,t,n){var r=function(e){var t=H(e);t.banner={};var n=(0,a.Z)(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1]),t.banner.topframe=(0,s.inIframe)()?0:1,X(e,t,d.Mk),t}(e),i=$((0,a.Z)(e,"mediaTypes.banner.sizes"),(0,a.Z)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),n[e.transactionId].tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),n[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),n[e.transactionId].tagId=(0,a.Z)(e,"params.tagId"),n[e.transactionId].pos=(0,a.Z)(e,"mediaTypes.banner.pos");var o=(0,a.Z)(e,"params.id");!o||"string"!=typeof o&&"number"!=typeof o||(n[e.transactionId].sid=String(o));var c=e.adUnitCode,u=document.getElementById(c)?c:(0,s.getGptSlotInfoForAdUnitCode)(c).divId;n[e.transactionId].adUnitCode=c,n[e.transactionId].divId=u,i&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(r)),function(e,t,n){var r=e.transactionId;if(t.hasOwnProperty(r)){var i=[];t[r].hasOwnProperty("missingSizes")&&(i=t[r].missingSizes),oe(i,e.params.size),t[r].missingSizes=i}else if((0,a.Z)(e,"mediaTypes.banner.sizes")){var o=(0,s.deepClone)(e.mediaTypes.banner.sizes);oe(o,e.params.size);var c={missingSizes:o,impression:n};t[r]=c}}(e,t,r)}function de(e,t,n){var r=(0,s.deepClone)(t);return r.banner.w=n[0],r.banner.h=n[1],X(e,r,d.Mk),r}function ue(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===I&&function(e){if(F.localStorageIsEnabled()){var t;try{t=JSON.parse(F.getDataFromLocalStorage(Z)||"{}")}catch(e){(0,s.logWarn)("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map(function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]}),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===I){var r=n.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[r]=t[r]||{},Number(t[r][i])||(t[r][i]=0),t[r][i]++)}F.setDataInLocalStorage(Z,JSON.stringify(t))}}(e)}function le(e){e.renderer.push(function(){var t=e.adUnitCode,n=document.getElementById(t)?t:(0,s.getGptSlotInfoForAdUnitCode)(t).divId;n?window.createIXPlayer(n,e):(0,s.logWarn)("IX Bid Adapter: adUnitCode: ".concat(n," not found on page."))})}function pe(e,t){var n=h.Th.install({id:e,url:t,loaded:!1});try{n.setRender(le)}catch(e){return(0,s.logWarn)("Prebid Error calling setRender on renderer",e),null}return t?n:((0,s.logWarn)("Outstream renderer URL not found"),null)}function fe(e){if("outstream"!==(0,a.Z)(e,"mediaTypes.video.context"))return!1;var t=(0,a.Z)(e,"mediaTypes.video.renderer");return t||(t=(0,a.Z)(e,"renderer")),!("object"===(0,i.Z)(t)&&t.url&&t.render)||t.backupOnly}var ge={code:I,gvlid:10,aliases:[{code:T,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:S,isBidRequestValid:function(e){z||(f.on(l.EVENTS.AUCTION_DEBUG,ue),f.on(l.EVENTS.AD_RENDER_FAILED,ue),z=!0);var t,n,r=(0,a.Z)(e,"params.video"),i=(0,a.Z)(e,"params.size"),o=(0,a.Z)(e,"mediaTypes.banner.sizes"),c=(0,a.Z)(e,"mediaTypes.video"),d=(0,a.Z)(e,"mediaTypes.video.playerSize"),u=e.params.hasOwnProperty("bidFloor"),p=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,s.contains)(S,e.mediaType))return(0,s.logWarn)("IX Bid Adapter: media type is not supported."),!1;if((0,a.Z)(e,"mediaTypes.banner")&&!o)return!1;if(i){var g=te(i);if(!g)return(0,s.logError)("IX Bid Adapter: size has invalid format.",{bidder:I,code:1}),!1;if(!$(e.sizes,g)&&!$(d,g)&&!$(o,g))return(0,s.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:I,code:2}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,s.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:I,code:4}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,s.logError)("IX Bid Adapter: siteId must valid value",{bidder:I,code:4}),!1;if((u||p)&&!(u&&p&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return(0,s.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:I,code:5}),!1;if(c&&r){var m=Y(e).video,h=ee(c,r);if((0,a.Z)(e,"mediaTypes.video.context")===v.gZ&&fe(e)&&m){var b=[(0,a.Z)(m,"w"),(0,a.Z)(m,"h")];if(!(b[0]>=O[0]&&b[1]>=O[1]))return(0,s.logError)("IX Bid Adapter: ".concat(b," is an invalid size for IX outstream renderer")),!1}if(h.length)return h.forEach(function(e){(0,s.logError)(e,{bidder:I,code:3})}),!1}return function(e){return void 0===(0,a.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var n=[],i={},o={},c={},u={};for(var l in L.getFeatureToggles(),e.forEach(function(e){var t=Object.keys((0,a.Z)(e,"mediaTypes",{}));for(var n in t)switch(t[n]){case d.Mk:ce(e,u,i);break;case d.pX:se(e,o);break;case d.B5:ae(e,c);break;default:(0,s.logWarn)("IX Bid Adapter: ad unit mediaTypes ".concat(n," is not supported"))}}),u)if(u.hasOwnProperty(l)){var p=u[l].missingSizes;i.hasOwnProperty(l)||(i[l]={}),i[l].hasOwnProperty("missingImps")||(i[l].missingImps=[],i[l].missingCount=0);for(var f=u[l].impression,g=0;g<p.length;g++){var m=de(e[0],f,p[g]);i[l].missingImps.push(m),i[l].missingCount++}}return Object.keys(i).length>0&&n.push.apply(n,(0,r.Z)(re(e,t,i,7.2))),Object.keys(o).length>0&&n.push.apply(n,(0,r.Z)(re(e,t,o,8.1))),Object.keys(c).length>0&&n.push.apply(n,(0,r.Z)(re(e,t,c))),n},interpretResponse:function(e,t){var n=[],r=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return L.setFeatureToggles(e),n;for(var i=e.body,o=i.seatbid,c=0;c<o.length;c++)if(o[c].hasOwnProperty("bid")){var u,l=o[c].bid;u=L.isFeatureEnabled("pbjs_enable_post")?t.data:(0,s.safeJSONParse)(t.data.r);for(var p=0;p<l.length;p++){var f=ne(l[p].impid,u.imp,t.validBidRequests);if((r=J(l[p],i.cur,f)).mediaType===d.pX&&fe(f)){var g=(0,a.Z)(i,"ext.videoplayerurl");if(r.renderer=pe(l[p].bidId,g),!r.renderer)continue}n.push(r)}if((0,a.Z)(u,"ext.ixdiag.err")&&F.localStorageIsEnabled())try{F.removeDataFromLocalStorage(Z)}catch(e){(0,s.logError)("ix can not clear ixdiag from localStorage.")}}return L.setFeatureToggles(e),n},transformBidParams:function(e,t){return(0,s.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){var n=[],r=null;if(t.length>0&&(r=(0,a.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==r&&0==r)return[];if(e.iframeEnabled)n.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var i=null;u.vc.getConfig("userSync")&&(i=u.vc.getConfig("userSync").syncsPerBidder),0===i&&(i=r),i=r&&(0===i||i)?r>i?i:r:1;for(var o=0;o<i;o++)n.push({type:"image",url:me(i,o)})}return n}};function me(e,t){var n="",r="0";return K&&K.hasOwnProperty("gdprApplies")&&(r=K.gdprApplies?"1":"0"),K&&K.hasOwnProperty("consentString")&&(n=K.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+W.toString()+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+r+"&gdpr_consent="+n+"&us_privacy="+(V||"")}(0,m.dX)(ge),window.pbjs.installedModules.push("ixBidAdapter")}},function(e){e(e.s=3390)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[703],{5526:function(e,t,n){var r,i,o,a=n(4358),s=n(3193),c=n(5339),d=n(5164),u=n(4679),l="kargo",p=[u.Mk,u.pX],f=(0,d.df)({gvlid:972,bidderCode:l}),g={gvlid:972,code:l,isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,t){var n,r=s.vc.getConfig("currency"),i=r&&r.adServerCurrency||"USD",o={},c={};(0,a._each)(e,function(e){o[e.bidId]=e.params.placementId,c[e.bidId]=e.sizes}),e.length>0&&e[0].userId&&e[0].userId.tdid&&(n=e[0].userId.tdid);var d=Object.assign({},{sessionId:g._getSessionId(),requestCount:g._getRequestCount(),timeout:t.timeout,currency:i,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:o,bidSizes:c,device:{width:window.screen.width,height:window.screen.height},prebidRawBidRequests:e},g._getAllMetadata(t,n));e.length>0&&e[0].params.socialCanvas&&(d.socialCanvasSegments=e[0].params.socialCanvas.segments,d.socialEmbedURL=e[0].params.socialCanvas.embedURL);var u=encodeURIComponent(JSON.stringify(d));return Object.assign({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(u),currency:i})},interpretResponse:function(e,t){var n=e.body,r=[];for(var i in n){var o=n[i],a={mediaType:u.Mk};o.metadata&&o.metadata.landingPageDomain&&(a.clickUrl=o.metadata.landingPageDomain[0],a.advertiserDomains=o.metadata.landingPageDomain),o.mediaType&&p.includes(o.mediaType)&&(a.mediaType=o.mediaType);var s={ad:o.adm,requestId:i,cpm:Number(o.cpm),width:o.width,height:o.height,ttl:300,creativeId:o.id,dealId:o.targetingCustom,netRevenue:!0,currency:o.currency||t.currency,mediaType:a.mediaType,meta:a};a.mediaType==u.pX&&(s.vastXml=o.adm),r.push(s)}return r},getUserSyncs:function(e,t,n,r){var i=[],o=g._generateRandomUuid(),a=g._getClientId(),s=n&&n.gdprApplies?1:0,c=n&&n.consentString?n.consentString:"";if("string"==typeof r&&4==r.length&&1==r[0]&&"Y"==r[2])return i;if(e.iframeEnabled&&o&&a)for(var d=0;d<5;d++)i.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}".replace("{UUID}",a).replace("{SEED}",o).replace("{INDEX}",d).replace("{GDPR}",s).replace("{GDPR_CONSENT}",c).replace("{US_PRIVACY}",r||"")});return i},supportedMediaTypes:p,onTimeout:function(e){var t=this;null!=e&&e.forEach(function(e){t._sendTimeoutData(e.auctionId,e.timeout)})},_getCrbFromCookie:function(){try{var e=JSON.parse(f.getCookie("krg_crb"));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(g._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=g._getCrbFromLocalStorage();return Object.keys(e).length?e:g._getCrbFromCookie()},_getLocalStorageSafely:function(e){try{return f.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function(e,t,n){var r=g._getCrb(),i={kargoID:r.lexId,clientID:r.clientId,crbIDs:r.syncIds||{},optOut:r.optOut,usp:t};try{n&&(i.gdpr={consent:n.consentString||"",applies:!!n.gdprApplies})}catch(e){}return e&&(i.tdID=e),i},_getClientId:function(){return g._getCrb().clientId},_getAllMetadata:function(e,t){return{userIDs:g._getUserIds(t,e.uspConsent,e.gdprConsent),pageURL:e.refererInfo&&e.refererInfo.page,rawCRB:f.getCookie("krg_crb"),rawCRBLocalStorage:g._getLocalStorageSafely("krg_crb")}},_getSessionId:function(){return r||(r=g._generateRandomUuid()),r},_getRequestCount:function(){return i===window.location.pathname?++o:(i=window.location.pathname,o=0)},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}},_sendTimeoutData:function(e,t){var n={aid:e,ato:t};try{var r=(0,a.buildUrl)({protocol:"https",hostname:"krk.kargo.com",pathname:"/api/v1/event/timeout",search:n});(0,a.triggerPixel)(r)}catch(e){}}};(0,c.dX)(g),window.pbjs.installedModules.push("kargoBidAdapter")}},function(e){e(e.s=5526)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[534],{7851:function(e,t,n){var r=n(1002),i=n(3324),o=n(265),a=n(4358),s=n(6475),c=n(3193),d=n(5339),u=n(4679),l=n(4614),p=[u.Mk,u.pX],f=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],g={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",hadronId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"},m={code:"openx",gvlid:69,supportedMediaTypes:p,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return(0,o.Z)(e,"mediaTypes.banner")&&t?!!e.params.unit||(0,o.Z)(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],r=function(e){return e.reduce(function(e,t){var n;return n=t,(0,o.Z)(n,"mediaTypes.video")&&!(0,o.Z)(n,"mediaTypes.banner")||n.mediaType===u.pX?e[0].push(t):e[1].push(t),e},[[],[]])}(e),s=(0,i.Z)(r,2),d=s[0],p=s[1];return p.length>0&&n.push(function(e,t){var n=[],r=!1,i=h(e,t),s=(0,a._map)(e,function(e){return e.params.unit});return i.aus=(0,a._map)(e,function(e){return(0,a.parseSizesInput)(e.mediaTypes.banner.sizes).join(",")}).join("|"),i.divids=(0,a._map)(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),i.aucs=(0,a._map)(e,function(e){var t=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")}).join(","),s.some(function(e){return e})&&(i.auid=s.join(",")),e.some(function(e){return e.params.doNotTrack})&&(i.ns=1),(!0===c.vc.getConfig("coppa")||e.some(function(e){return e.params.coppa}))&&(i.tfcd=1),e.forEach(function(e){if(e.params.customParams){var t=(0,a._map)(Object.keys(e.params.customParams),function(t){return function(e,t){var n=t[e];return(0,a.isArray)(n)&&(n=n.join(",")),(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)}),i=window.btoa(t.join("&"));r=!0,n.push(i)}else n.push("")}),r&&(i.tps=n.join(",")),y(i,u.Mk,e),{method:"GET",url:i.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:i,payload:{bids:e,startTime:new Date}}}(p,t)),d.length>0&&d.forEach(function(e){n.push(function(e,t){var n=function(e,t){var n,r,i=(0,o.Z)(e,"mediaTypes.video"),s=h([e],t),c=(0,o.Z)(e,"params.video")||{},d=(0,o.Z)(e,"mediaTypes.video.context"),p=(0,o.Z)(e,"mediaTypes.video.playerSize");(0,a.isArray)(e.sizes)&&2===e.sizes.length&&!(0,a.isArray)(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):(0,a.isArray)(e.sizes)&&(0,a.isArray)(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):(0,a.isArray)(p)&&2===p.length&&(n=parseInt(p[0],10),r=parseInt(p[1],10));var g={w:n,h:r},m=e.params.video||e.params.openrtb||{};m.openrtb&&(m=m.openrtb),(0,a.isArray)(m.imp)&&(m=m.imp[0].video),Object.keys(m).filter(function(e){return(0,l.q9)(f,e)}).forEach(function(e){return g[e]=m[e]}),Object.keys(i).filter(function(e){return(0,l.q9)(f,e)}).forEach(function(e){return g[e]=i[e]});var v={imp:[{video:g}]};s.openrtb=JSON.stringify(v),s.auid=e.params.unit,s.vwd=n||c.vwd,s.vht=r||c.vht,"outstream"===d&&(s.vos="101"),c.mimes&&(s.vmimes=c.mimes),e.params.test&&(s.vtest=1);var b=(0,o.Z)(e,"ortb2Imp.ext.data.pbadslot");return b&&(s.aucs=encodeURIComponent(b)),y(s,u.pX,[e]),s}(e,t);return{method:"GET",url:n.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:e,startTime:new Date}}}(e,t))}),n},interpretResponse:function(e,t){var n=e.body;return(/avjp$/.test(t.url)?u.pX:u.Mk)===u.pX?function(e,t){var n=t.bid,r=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){var i=(0,a.parseUrl)(e.vastUrl).search||{},o={};o.requestId=n.bidId,e.deal_id&&(o.dealId=e.deal_id),o.ttl=300,o.netRevenue=!0,o.currency=e.currency,o.cpm=parseInt(e.pub_rev,10)/1e3,o.width=parseInt(e.width,10),o.height=parseInt(e.height,10),o.creativeId=e.adid,o.vastUrl=e.vastUrl,o.mediaType=u.pX,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,r.push(o)}return r}(n,t.payload):function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],o=0;o<r.length;o++){var a=r[o],s=parseInt(a.idx,10),c={};if(c.requestId=n[s].bidId,a.pub_rev){c.cpm=Number(a.pub_rev)/1e3;var d=a.creative[0];d&&(c.width=d.width,c.height=d.height),c.creativeId=d.id,c.ad=a.html,a.deal_id&&(c.dealId=a.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=a.currency,a.tbd&&(c.tbd=a.tbd),c.ts=a.ts,c.meta={},a.brand_id&&(c.meta.brandId=a.brand_id),a.adomain&&length(a.adomain)>0?c.meta.advertiserDomains=a.adomain:c.meta.advertiserDomains=[],a.adv_id&&(c.meta.dspid=a.adv_id),i.push(c)}}return i}(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:(0,o.Z)(t,"0.body.ads.pixels")||(0,o.Z)(t,"0.body.pixels")||function(e,t){var n=[];return e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(n.length>0?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e,t){return(0,a.convertTypes)({unit:"string",customFloor:"number"},e)}};function v(e){var t,n,r,i=window,o=document,a=o.documentElement;if(e){try{i=window.top,o=window.top.document}catch(e){return}r=o.body,t=i.innerWidth||a.clientWidth||r.clientWidth,n=i.innerHeight||a.clientHeight||r.clientHeight}else t=i.innerWidth||a.clientWidth,n=i.innerHeight||a.clientHeight;return"".concat(t,"x").concat(n)}function h(e,t){var n,r=(0,a.inIframe)();n={ju:t.refererInfo.page,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:r,tz:(new Date).getTimezoneOffset(),tws:v(r),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:(0,a._map)(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};var i=b("user.data",t.ortb2);i.length>0&&(n.sm=i);var d,u,l,p,f,m=b("site.content.data",t.ortb2);if(m.length>0&&(n.scsm=m),e[0].params.platform&&(n.ph=e[0].params.platform),t.gdprConsent){var h=t.gdprConsent;void 0!==h.consentString&&(n.gdpr_consent=h.consentString),void 0!==h.gdprApplies&&(n.gdpr=h.gdprApplies?1:0),"iab"===c.vc.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return t&&t.uspConsent&&(n.us_privacy=t.uspConsent),(0,o.Z)(e[0],"crumbs.pubcid")&&(0,s.N)(e[0],"userId.pubcid",(0,o.Z)(e[0],"crumbs.pubcid")),d=n,u=e[0].userId,(0,a._each)(u,function(e,t){var n=g[t];if(g.hasOwnProperty(t))switch(t){case"merkleId":case"uid2":d[n]=e.id;break;case"lipb":if(d[n]=e.lipbid,Array.isArray(e.segments)&&e.segments.length>0){var r="liveintent:"+e.segments.join("|");d.sm="".concat(d.sm?d.sm+",":"").concat(r)}break;case"parrableId":d[n]=e.eid;break;case"id5id":d[n]=e.uid;break;case"novatiq":d[n]=e.snowflake;break;default:d[n]=e}}),n=d,e[0].schain&&(n.schain=(l=e[0].schain,"".concat(l.ver,",").concat(l.complete,"!").concat((p=l.nodes,f=["asi","sid","hp","rid","name","domain"],p.map(function(e){return f.map(function(t){return e[t]||""}).join(",")}).join("!"))))),n}function b(e,t){var n=(0,o.Z)(t,e);if(!Array.isArray(n)||!n.length)return"";var i=n.filter(function(e){return Array.isArray(e.segment)&&e.segment.length>0&&void 0!==e.name&&e.name.length>0}).reduce(function(e,t){var n="object"===(0,r.Z)(t.ext)&&t.ext.segtax?"".concat(t.name,"/").concat(t.ext.segtax):t.name;return e[n]=(e[n]||[]).concat(t.segment.map(function(e){return e.id})),e},{});return Object.keys(i).map(function(e,t){return e+":"+i[e].join("|")}).join(",")}function y(e,t,n){var r=[],i=!1;n.forEach(function(e){var n=function(e,t){var n={},r=c.vc.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(n=e.getFloor({currency:r,mediaType:t,size:"*"}));var i=n.floor||e.params.customFloor||0;return Math.round(1e3*i)}(e,t);n?(r.push(n),i=!0):r.push(0)}),i&&(e.aumfs=r.join(","))}(0,d.dX)(m),window.pbjs.installedModules.push("openxBidAdapter")}},function(e){e(e.s=7851)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[365],{968:function(e,t,n){var r=n(9062),i=n(8640),o=n(2797),a=n(5164),s=n(4358),c=n(265),d=n(6475),u=n(4614),l="permutive",p=(0,a.df)({gvlid:null,moduleName:l});function f(e){return(0,s.isPlainObject)(e)?{params:e}:{}}var g={};function m(e){var t=function(){try{return f(window.permutive.addons.prebid.getPermutiveRtdConfig())}catch(e){return null}}()||g;return(0,s.mergeDeep)({waitForIt:!1,params:{maxSegs:500,acBidders:[],overwrites:{}}},t,e)}function v(e,t,n){var r=e&&e.adUnits||(0,i.R)().adUnits,o={deepSetValue:d.N,deepAccess:c.Z,isFn:s.isFn,mergeDeep:s.mergeDeep},a={appnexusAst:"appnexus"};r&&r.forEach(function(e){e.bids.forEach(function(e){var r=e.bidder;void 0!==a[r]&&(r=a[r]);var i=function(e,t){var n=(0,c.Z)(e,"params.acBidders")||[];return(0,u.q9)(n,t)}(t,r),l=function(e,t){var n=(0,c.Z)(e,"params.overwrites.".concat(t));return n&&(0,s.isFn)(n)?n:null}(t,r),p={appnexus:function(e,t,n){return n&&t.ac&&t.ac.length&&(0,d.N)(e,"params.keywords.p_standard",t.ac),t.appnexus&&t.appnexus.length&&(0,d.N)(e,"params.keywords.permutive",t.appnexus),e},rubicon:function(e,t,n){return n&&t.ac&&t.ac.length&&(0,d.N)(e,"params.visitor.p_standard",t.ac),t.rubicon&&t.rubicon.length&&(0,d.N)(e,"params.visitor.permutive",t.rubicon),e},ozone:function(e,t,n){return n&&t.ac&&t.ac.length&&(0,d.N)(e,"params.customData.0.targeting.p_standard",t.ac),e}}[r];l?l(e,n,i,o,p):p&&p(e,n,i)})})}function h(e){try{e()}catch(e){(0,s.logError)(e)}}function b(e){var t=y("_psegs").map(Number).filter(function(e){return e>=1e6}).map(String),n=y("_psegs").map(String),i=y("_ppam"),o=y("_pcrprs"),a={ac:[].concat((0,r.Z)(o),(0,r.Z)(i),(0,r.Z)(t)),rubicon:y("_prubicons"),appnexus:y("_papns"),gam:y("_pdfps"),transformations:[].concat((0,r.Z)(o),(0,r.Z)(i),(0,r.Z)(n))};for(var s in a)a[s]=a[s].slice(0,e);return a}function y(e){try{return JSON.parse(p.getDataFromLocalStorage(e)||"[]")}catch(e){return[]}}var _="_unknown_",E={iab:function(e,t){return{name:e.name,ext:{segtax:t.segtax},segment:(e.segment||[]).map(function(e){return{id:(n=e.id,r=t.iabIds,r[n]||_)};var n,r}).filter(function(e){return e.id!==_})}}},I={name:l,getBidRequestData:function(e,t,n){h(function(){!function(e,t,n){var r=void 0!==window.permutive&&"function"==typeof window.permutive.ready,i=m(n),o=b(i.params.maxSegs);v(e,i,o),i.waitForIt&&r?window.permutive.ready(function(){v(e,i,o),t()},"realtime"):t()}(e,t,n)}),h(function(){var t;!function(e,t){var n=m(t),r=(0,c.Z)(n,"params.acBidders"),i=(0,c.Z)(n,"params.maxSegs"),o=(0,c.Z)(n,"params.transformations")||[],a=b(i);r.forEach(function(t){var n=function(e,t,n){var r="permutive.com",i={name:r,segment:t.ac.map(function(e){return{id:e}})},o=n.filter(function(e){var t=e.id;return E.hasOwnProperty(t)}).map(function(e){var n=e.id,i=e.config;return E[n]({name:r,segment:t.transformations.map(function(e){return{id:e}})},i)}),a=(0,s.mergeDeep)({},e),u=((0,c.Z)(a,"ortb2.user.data")||[]).filter(function(e){return e.name!==r}).concat(i,o);return(0,d.N)(a,"ortb2.user.data",u),a}({ortb2:e[t]||{}},a,o);e[t]=n.ortb2})}(null===(t=e.ortb2Fragments)||void 0===t?void 0:t.bidder,n)})},init:function(e,t){var n;return n=(0,s.safeJSONParse)(p.getDataFromLocalStorage("permutive-prebid-rtd")),g=f(n),!0}};(0,o.Bx)("realTimeData",I),window.pbjs.installedModules.push("permutiveRtdProvider")}},function(e){e(e.s=968)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[126],{5817:function(e,t,n){var r=n(9062),i=n(4942),o=n(1002),a=n(4358),s=n(265),c=n(6475),d=n(5339),u=n(4679),l=n(3193),p=n(5706),f=n(5975),g=n(59);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v="PubMatic: ",h="USD",b=void 0,y="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),_={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},E="number",I="string",T="boolean",S="array",w={mimes:S,minduration:E,maxduration:E,startdelay:E,playbackmethod:S,api:S,protocols:S,w:E,h:E,battr:S,linearity:E,placement:E,minbitrate:E,maxbitrate:E,skip:E},O={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},A=1,C=2,k=3,x=[{id:O.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:O.TITLE.ID,required:!0},{id:O.IMAGE.ID,required:!0}],D={1:"PMP",5:"PREF",6:"PMPG"},P={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=P.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,i):(0,a.logWarn)("".concat(v,": Couldn't find a renderer with ").concat(r))}else(0,a.logWarn)("".concat(v,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=y.replace("$RENDERER",e),r=p.Th.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(P.outstreamRender)}catch(e){(0,a.logWarn)("".concat(v,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push(function(){P.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},R=[u.Mk,u.pX,u.B5],j=0,B=!1,U={},N={},M=["pubmatic"],Z=["all"];function q(e,t){if(!(0,a.isStr)(t))return t&&(0,a.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+(0,o.Z)(t)),b;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||b;case"yob":return parseInt(t)||b;default:return t}}function z(e,t,n){var r,i="Ignoring param key: "+e+", expects "+n+", found "+(0,o.Z)(t);switch(n){case T:r=a.isBoolean;break;case E:r=a.isNumber;break;case I:r=a.isStr;break;case S:r=a.isArray}return r(t)?t:((0,a.logWarn)(v+i),b)}function F(e,t){var n=e.KEY;return{id:e.ID,required:t[n].required?1:0,data:{type:e.TYPE,len:t[n].len,ext:t[n].ext}}}function L(e){var t={assets:[]};for(var n in e){if(e.hasOwnProperty(n)){var r={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(n)))switch(n){case O.TITLE.KEY:e[n].len||e[n].length?r={id:O.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}}:(0,a.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case O.IMAGE.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:O.IMAGE.ID,required:e[n].required?1:0,img:{type:k,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:b),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:b),mimes:e[n].mimes,ext:e[n].ext}}:(0,a.logWarn)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case O.ICON.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:O.ICON.ID,required:e[n].required?1:0,img:{type:A,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b)}}:(0,a.logWarn)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case O.VIDEO.KEY:r={id:O.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case O.EXT.KEY:r={id:O.EXT.ID,required:e[n].required?1:0};break;case O.LOGO.KEY:r={id:O.LOGO.ID,required:e[n].required?1:0,img:{type:C,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b)}};break;case O.SPONSOREDBY.KEY:case O.BODY.KEY:case O.RATING.KEY:case O.LIKES.KEY:case O.DOWNLOADS.KEY:case O.PRICE.KEY:case O.SALEPRICE.KEY:case O.PHONE.KEY:case O.ADDRESS.KEY:case O.DESC2.KEY:case O.DISPLAYURL.KEY:case O.CTA.KEY:r=F(N[n],e)}}r&&r.id&&(t.assets[t.assets.length]=r)}var i=x.length,o=0;return x.forEach(function(e){for(var n=t.assets.length,r=0;r<n;r++)if(e.id==t.assets[r].id){o++;break}}),B=i!=o,t}function W(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==b&&(0,a.isArray)(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=b,(0,a.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach(function(e){e.length>1&&r.push({w:e[0],h:e[1]})}),r.length>0&&(t.format=r)),t.pos=0,t.topframe=(0,a.inIframe)()?0:1}else(0,a.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=b;return t}function K(e){var t,n=(0,a.mergeDeep)((0,s.Z)(e.mediaTypes,"video"),e.params.video);if(n!==b){for(var r in t={},function(e,t){(0,s.Z)(e,"placement")||(0,a.logWarn)("Video.Placement param missing for "+t)}(n,e.adUnitCode),w)n.hasOwnProperty(r)&&(t[r]=z(r,n[r],w[r]));(0,a.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,a.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=b,(0,a.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function V(e,t,n){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var o,a=r.segments.length;i+="jw-id="+r.content.id;for(var s=0;s<a;s++)i+="|jw-"+r.segments[s]+"=1";n?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(o=e.ext)&&void 0===o.key_val?o.key_val=i:o.key_val+="|"+i}}function G(e,t){var n,r,d={},p={},f=e.hasOwnProperty("sizes")?e.sizes:[],g="",y=[];if(function(e,t){t.params.deals&&((0,a.isArray)(t.params.deals)?t.params.deals.forEach(function(t){(0,a.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,a.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)}):(0,a.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(d={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:q("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:q("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?q("currency",e.params.currency):h},e),function(e,t){var n,r="";if(t.params.dctr)if(r=t.params.dctr,(0,a.isStr)(r)&&r.length>0){var i=r.split("|");r="",i.forEach(function(e){r+=e.length>0?e.trim()+"|":""}),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else(0,a.logWarn)("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(d,e),V(d,e),e.hasOwnProperty("mediaTypes"))for(g in e.mediaTypes)switch(g){case u.Mk:(n=W(e))!==b&&(d.banner=n);break;case u.B5:p.request=JSON.stringify(L(e.nativeParams)),B?(0,a.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):d.native=p;break;case u.pX:(r=K(e))!==b&&(d.video=r)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:(0,a.inIframe)()?0:1},(0,a.isArray)(f)&&f.length>1&&((f=f.splice(1,f.length-1)).forEach(function(e){y.push({w:e[0],h:e[1]})}),n.format=y),d.banner=n;return function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},(0,s.Z)(t,"ortb2Imp.ext.data"));Object.keys(n).forEach(function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&(0,c.N)(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach(function(t){var r=(0,s.Z)(n,"adserver.".concat(t));"string"==typeof r&&r&&((0,c.N)(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&(0,c.N)(e,"ext.dfp_ad_unit_code",r))}):(0,c.N)(e,"ext.data.".concat(t),n[t])})}(d,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||l.vc.getConfig("pubmatic.disableFloors")||[u.Mk,u.pX,u.B5].forEach(function(r){if(e.hasOwnProperty(r)){var i=[];"banner"===r&&(e[r].w&&e[r].h&&i.push([e[r].w,e[r].h]),(0,a.isArray)(e[r].format)&&e[r].format.forEach(function(e){return i.push([e.w,e.h])})),0===i.length&&i.push("*"),i.forEach(function(i){var s=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:i});if((0,a.logInfo)(v,"floor from floor module returned for mediatype:",r," and size:",i," is: currency",s.currency,"floor",s.floor),"object"===(0,o.Z)(s)&&s.currency===e.bidfloorcur&&!isNaN(parseInt(s.floor))){var c=parseFloat(s.floor);(0,a.logInfo)(v,"floor from floor module:",c,"previous floor value",n,"Min:",Math.min(c,n)),n=-1===n?c:Math.min(c,n),(0,a.logInfo)(v,"new floor value:",n)}})}}),e.bidfloor&&((0,a.logInfo)(v,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&n>0?n:b,(0,a.logInfo)(v,"new impObj.bidfloor value:",e.bidfloor)}(d,e),d.hasOwnProperty(u.Mk)||d.hasOwnProperty(u.B5)||d.hasOwnProperty(u.pX)?d:b}function Y(e,t){(t=t.filter(function(e){return"string"==typeof e||((0,a.logWarn)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,n){return n.indexOf(e)===t})).length>0&&((0,a.logWarn)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function H(e){return!0===(0,a.isArray)(e)&&e.length>0}(0,a._each)(O,function(e){U[e.ID]=e.KEY}),(0,a._each)(O,function(e){N[e.KEY]=e});var X={code:"pubmatic",gvlid:76,supportedMediaTypes:[u.Mk,u.pX,u.B5],isBidRequestValid:function(e){if(e&&e.params){if(!(0,a.isStr)(e.params.publisherId))return(0,a.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.pX)){var t=(0,s.Z)(e.mediaTypes,"video.mimes"),n=(0,s.Z)(e,"params.video.mimes");if(!1===H(t)&&!1===H(n))return(0,a.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[u.pX].hasOwnProperty("context"))return(0,a.logError)("".concat(v,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[u.pX].context&&!(0,a.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[u.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(u.Mk)||e.mediaTypes.hasOwnProperty(u.B5)?(delete e.mediaTypes[u.pX],(0,a.logWarn)("".concat(v,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,a.logError)("".concat(v,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,i,d,p,m;e=(0,g.lY)(e),t&&t.refererInfo&&(m=t.refererInfo);var v,y=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(m),E=function(e){return{id:""+(new Date).getTime(),at:1,cur:[h],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(y),I="",T=[],S=[],w=[];if(e.forEach(function(e){if((v=(0,a.deepClone)(e)).params.adSlot=v.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,a.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,a.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void(0,a.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(v),v.mediaTypes&&v.mediaTypes.hasOwnProperty("video")||v.params.hasOwnProperty("video"));else if(!(v.hasOwnProperty("mediaTypes")&&v.mediaTypes.hasOwnProperty(u.B5)||0!==v.params.width||0!==v.params.height))return void(0,a.logWarn)("PubMatic: Skipping the non-standard adslot: ",v.params.adSlot,JSON.stringify(v));y.pubId=y.pubId||v.params.publisherId,(y=function(e,t){var n,r,i;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),_)_.hasOwnProperty(n)&&(r=e[n])&&(i=_[n],"object"===(0,o.Z)(i)&&(r=i.f(r,t)),(0,a.isStr)(r)?t[n]=r:(0,a.logWarn)("PubMatic: Ignoring param : "+n+" with value : "+_[n]+", expects string-value, found "+(0,o.Z)(r)));return t}(v.params,y)).transactionId=v.transactionId,""===I?I=v.params.currency||b:v.params.hasOwnProperty("currency")&&I!==v.params.currency&&(0,a.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),v.params.currency=I,v.params.hasOwnProperty("dctr")&&(0,a.isStr)(v.params.dctr)&&T.push(v.params.dctr),v.params.hasOwnProperty("bcat")&&(0,a.isArray)(v.params.bcat)&&(S=S.concat(v.params.bcat)),v.params.hasOwnProperty("acat")&&(0,a.isArray)(v.params.acat)&&(w=w.concat(v.params.acat));var t=G(v);t&&E.imp.push(t)}),0!=E.imp.length){E.site.publisher.id=y.pubId.trim(),j=y.pubId.trim(),E.ext.wrapper={},E.ext.wrapper.profile=parseInt(y.profId)||b,E.ext.wrapper.version=parseInt(y.verId)||b,E.ext.wrapper.wiid=y.wiid||t.auctionId,E.ext.wrapper.wv="prebid_prebid_7.22.0",E.ext.wrapper.transactionId=y.transactionId,E.ext.wrapper.wp="pbjs";var O,A,C=t?f.S.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==C){if(E.ext.marketplace={},t&&1==C){var k=f.S.get(t.bidderCode,"allowedAlternateBidderCodes");(0,a.isArray)(k)?(k=k.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return!!e}).filter(a.uniques),M=k.includes("*")?Z:[].concat((0,r.Z)(M),(0,r.Z)(k))):M=Z}E.ext.marketplace.allowedbidders=M.filter(a.uniques)}E.user.gender=y.gender?y.gender.trim():b,E.user.geo={},E.user.geo.lat=q("lat",y.lat),E.user.geo.lon=q("lon",y.lon),E.user.yob=q("yob",y.yob),E.device.geo=E.user.geo,E.site.page=y.kadpageurl.trim()||E.site.page.trim(),E.site.domain=(O=E.site.page,(A=document.createElement("a")).href=O,A.hostname),"object"===(0,o.Z)(l.vc.getConfig("content"))&&(E.site.content=l.vc.getConfig("content")),"object"===(0,o.Z)(l.vc.getConfig("device"))&&(E.device=Object.assign(E.device,l.vc.getConfig("device"))),E.device.language=E.device.language&&E.device.language.split("-")[0],(0,c.N)(E,"source.tid",y.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(E.test=1),e[0].schain&&(0,c.N)(E,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,c.N)(E,"user.ext.consent",t.gdprConsent.consentString),(0,c.N)(E,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,c.N)(E,"regs.ext.us_privacy",t.uspConsent),!0===l.vc.getConfig("coppa")&&(0,c.N)(E,"regs.coppa",1),function(e,t){var n=(0,s.Z)(t,"0.userIdAsEids");(0,a.isArray)(n)&&n.length>0&&(0,c.N)(e,"user.eids",n)}(E,e);var x,D,P,R=t&&t.ortb2||{};if(R.site){var B=E.site,U=B.page,N=B.domain,z=B.ref;(0,a.mergeDeep)(E,{site:R.site}),E.site.page=U,E.site.domain=N,E.site.ref=z}if(R.user&&(0,a.mergeDeep)(E,{user:R.user}),R.bcat&&(S=S.concat(R.bcat)),null!==(n=R.ext)&&void 0!==n&&null!==(i=n.prebid)&&void 0!==i&&null!==(d=i.bidderparams)&&void 0!==d&&null!==(p=d[t.bidderCode])&&void 0!==p&&p.acat){var F=R.ext.prebid.bidderparams[t.bidderCode].acat;Y(E,F)}else w.length&&Y(E,w);return function(e,t){(t=t.filter(function(e){return"string"==typeof e||((0,a.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,n){if(e.length>3)return n.indexOf(e)===t;(0,a.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length>0&&((0,a.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(E,S),null!=t&&t.timeout?E.tmax=t.timeout||l.vc.getConfig("bidderTimeout"):E.tmax=null===(x=window)||void 0===x||null===(D=x.PWT)||void 0===D||null===(P=D.versionDetails)||void 0===P?void 0:P.timeout,E.ext.epoch=(new Date).getTime(),"object"===(0,o.Z)(l.vc.getConfig("app"))&&(E.app=l.vc.getConfig("app"),E.app.publisher=E.site.publisher,E.app.ext=E.site.ext||b,"object"!==(0,o.Z)(E.app.content)&&(E.app.content=E.site.content||b),delete E.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(E),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r=h,i=JSON.parse(t.data),o=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&(0,a.isArray)(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach(function(e){e.bid&&(0,a.isArray)(e.bid)&&e.bid.forEach(function(c){var d={requestId:c.impid,cpm:(parseFloat(c.price)||0).toFixed(2),width:c.w,height:c.h,creativeId:c.crid||c.id,dealId:c.dealid,currency:r,netRevenue:!0,ttl:300,referrer:o,ad:c.adm,pm_seat:e.seat||null,pm_dspid:c.ext&&c.ext.dspid?c.ext.dspid:null,partnerImpId:c.id||""};i.imp&&i.imp.length>0&&i.imp.forEach(function(e){if(c.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=R[e.ext.bidtype];else{(0,a.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",i=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=u.Mk;else if(i.test(n))t.mediaType=u.pX;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=u.B5)}catch(e){(0,a.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(c,d),d.mediaType){case u.Mk:break;case u.pX:d.width=c.hasOwnProperty("w")?c.w:e.video.w,d.height=c.hasOwnProperty("h")?c.h:e.video.h,d.vastXml=c.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[u.pX].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=P.newRenderer(e.rendererCode,i))}}(d,t),function(e,t,n){var r,i,o;if(null!=t&&null!==(r=t.ext)&&void 0!==r&&r.prebiddealpriority){var c=(0,a.getBidRequest)(e.requestId,[n.bidderRequest]),d=(0,s.Z)(c,"mediaTypes.video");if((null==d?void 0:d.context)==u.Oh){var l=(null==t||null===(i=t.ext)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.duration)||(null==d?void 0:d.maxduration);e.video={context:u.Oh,durationSeconds:l,dealTier:t.ext.prebiddealpriority}}}}(d,c,t);break;case u.B5:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,a.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&n.native.assets.length>0){t.mediaType=u.B5;for(var r=0,i=n.native.assets.length;r<i;r++)switch(n.native.assets[r].id){case O.TITLE.ID:t.native.title=n.native.assets[r].title&&n.native.assets[r].title.text;break;case O.IMAGE.ID:t.native.image={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case O.ICON.ID:t.native.icon={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case O.SPONSOREDBY.ID:case O.BODY.ID:case O.LIKES.ID:case O.DOWNLOADS.ID:case O.PRICE:case O.SALEPRICE.ID:case O.PHONE.ID:case O.ADDRESS.ID:case O.DESC2.ID:case O.CTA.ID:case O.RATING.ID:case O.DISPLAYURL.ID:t.native[U[n.native.assets[r].id]]=n.native.assets[r].data&&n.native.assets[r].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(c,d)}}),c.ext&&c.ext.deal_channel&&(d.dealChannel=D[c.ext.deal_channel]||null),d.meta={},c.ext&&c.ext.dspid&&(d.meta.networkId=c.ext.dspid),c.ext&&c.ext.advid&&(d.meta.buyerId=c.ext.advid),c.adomain&&c.adomain.length>0&&(d.meta.advertiserDomains=c.adomain,d.meta.clickUrl=c.adomain[0]),e.ext&&e.ext.buyid&&(d.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),c.ext&&c.ext.marketplace&&(d.bidderCode=c.ext.marketplace),n.push(d)})}))}catch(e){(0,a.logError)(e)}return n},getUserSyncs:function(e,t,n,r){var i=""+j;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===l.vc.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,n,r){return V(e,n.bids[0],!0),(0,a.convertTypes)({publisherId:"string",adSlot:"string"},e)}};(0,d.dX)(X),window.pbjs.installedModules.push("pubmaticBidAdapter")}},function(e){e(e.s=5817)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[967],{9747:function(e,t,n){var r=n(2797),i=n(5164),o=n(4358),a=n(3092),s="__qca",c=864e5,d="p-KceJUEvXN48CE",u="https://pixel.quantserve.com/pixel",l=["1","10"],p=["1"],f=["1"],g=a.rp.getConsentData(),m=a.nX.getConsentData(),v=(0,i.df)();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:392;if(!window._qevents&&e&&""!=e){var n,r,i=v.getCookie(s),a="0",l=b.findRootDomain(),p=new Date,f="";if(!i){var h=p.getTime(),y=new Date(h+t*c).toGMTString(),_=Math.round(2147483647*Math.random());i="B0-".concat(_,"-").concat(h),a="1",v.setCookie(s,i,y,"/",l,null)}n="&fpan=".concat(a,"&fpa=").concat(i),r="&gdpr=0",g&&"boolean"==typeof g.gdprApplies&&g.gdprApplies&&(r="gdpr=1&gdpr_consent=".concat(g.consentString)),m&&"string"==typeof m&&(f="&us_privacy=".concat(m));var E=u+"?d="+l+"&client_id="+e+"&a="+d+f+r+n;(0,o.triggerPixel)(E)}}var b={name:"quantcastId",gvlid:"11",decode:function(e){return e},getId:function(e){var t,n=v.getCookie(s);if(a.VP.getCoppa()||(t=m)&&"string"==typeof t&&4==t.length&&"Y"==t.charAt(1)&&"Y"==t.charAt(2)||!function(e){return!e||"boolean"!=typeof e.gdprApplies||!e.gdprApplies||!!e.vendorData&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=e.gdprApplies,r=e.purpose,i=e.vendor,o=i&&i.consents&&i.consents[11],a=i&&i.legitimateInterests&&i.legitimateInterests[11],s=e.publisher?e.publisher.restrictions:{};return!n||t.map(function(e){var t=!!r.consents&&r.consents[e],n=!!r.legitimateInterests&&r.legitimateInterests[e],i=s&&s[e]?s[e][11]:null;return!(0===i||(!o||!t||2===i||-1==p.indexOf(e)&&1!==i)&&(1===i||!a||!n||-1!=f.indexOf(e)||-1!=p.indexOf(e)&&2!==i))}).reduce(function(e,t){return e&&t},!0)}(e.vendorData)}(g)){var r=new Date(0).toUTCString(),i=b.findRootDomain();return(0,o.logInfo)("QuantcastId: Necessary consent not present for Id, exiting QuantcastId"),void v.setCookie(s,"",r,"/",i,null)}var c=e&&e.params||{},d=e&&e.storage||{},u=c.clientId||"",y=d.expires||392;return"complete"===document.readyState?h(u,y):window.addEventListener("load",function(){h(u,y)}),{id:n?{quantcastId:n}:void 0}}};(0,r.Bx)("userId",b),window.pbjs.installedModules.push("quantcastIdSystem")}},function(e){e(e.s=9747)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[184],{5456:function(e,t,n){var r,i,o,a=n(1002),s=n(3324),c=n(4942),d=n(3193),u=n(2797),l=n(4358),p=n(2021),f=n(5644),g=n(3092),m=n(4614),v=n(9128),h=[],b=[],y=[],_=(o=!1,function(){var e;o||(Object.entries((e={},(0,c.Z)(e,f.EVENTS.AUCTION_INIT,["onAuctionInitEvent"]),(0,c.Z)(e,f.EVENTS.AUCTION_END,["onAuctionEndEvent",O]),(0,c.Z)(e,f.EVENTS.BID_RESPONSE,["onBidResponseEvent"]),(0,c.Z)(e,f.EVENTS.BID_REQUESTED,["onBidRequestEvent"]),e)).forEach(function(e){var t=(0,s.Z)(e,2),n=t[0],r=(0,s.Z)(t[1],2),o=r[0],a=r[1];p.on(n,function(e){a&&a(e),b.forEach(function(t){try{t[o]&&t[o](e,t.config,i)}catch(e){(0,l.logError)("RTD provider '".concat(t.name,"': error in '").concat(o,"':"),e)}})})}),o=!0)});function E(){return{gdpr:g.rp.getConsentData(),usp:g.nX.getConsentData(),coppa:!!d.vc.getConfig("coppa")}}function I(){i=E();var e=[];y.forEach(function(t){var n=(0,m.sE)(h,function(e){return e.name===t.name});n&&n.init&&n.init(t,i)&&e.push(Object.assign(n,{config:t}))}),b=e,(0,l.logInfo)("Real time data module enabled, using submodules: ".concat(b.map(function(e){return e.name}).join(", ")))}var T,S,w=(0,v.g3)("rtd",function(e,t){i=E();var n=[],o=[];b.forEach(function(e){if("function"==typeof e.getBidRequestData){n.push(e);var t=e.config;t&&t.waitForIt&&o.push(e)}});var a,s=o.length&&r.auctionDelay&&r.auctionDelay>0,c=o.length,d=!1;if(!n.length)return u();function u(){d||(d=!0,clearTimeout(a),e.call(this,t))}a=setTimeout(u,s?r.auctionDelay:0),n.forEach(function(e){e.getBidRequestData(t,function(){d||(this.config&&this.config.waitForIt&&c--,0===c&&setTimeout(u,0))}.bind(e),e.config,i)})});function O(e){var t=b.filter(function(e){return"function"==typeof e.getTargetingData});if(t.length){var n=e.adUnitCodes;if(n){for(var r=[],o=t.length-1;o>=0;o--){var s=t[o].getTargetingData(n,t[o].config,i,e);s&&"object"===(0,a.Z)(s)?r.push(s):(0,l.logWarn)("invalid getTargetingData response for sub module",t[o].name)}var c=function(e){return Array.isArray(e)&&e.length?e.reduce(function(e,t){for(var n in t)if(t.hasOwnProperty(n))if(e.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(e[n][i]=r[i])}else e[n]=t[n];return e},{}):{}}(r);return e.adUnits.forEach(function(e){var t=e.code&&c[e.code];t&&((0,l.logInfo)("RTD set ad unit targeting of",t,"for",e),e[f.JSON_MAPPING.ADSERVER_TARGETING]=Object.assign(e[f.JSON_MAPPING.ADSERVER_TARGETING]||{},t))}),e.adUnits}}}(0,u.bA)("realTimeData",function(e){return h.push(e),function(){var t=h.indexOf(e);t>=0&&(h.splice(t,1),I())}}),T=d.vc,S=T.getConfig("realTimeData",function(e){var t=e.realTimeData;t.dataProviders?(S(),r=t,y=t.dataProviders,_(),(0,u.v5)("startAuction").before(w,20),I()):(0,l.logError)("missing parameters for real time module")}),window.pbjs.installedModules.push("rtdModule")}},function(e){e(e.s=5456)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[187],{60:function(e,t,n){var r=n(3324),i=n(4942),o=n(1002),a=n(4358),s=n(265),c=n(6475),d=n(5339),u=n(3193),l=n(4679),p=n(4614),f=n(5706),g=n(8640);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={};u.vc.getConfig("rubicon",function(e){(0,a.mergeDeep)(h,e.rubicon)});var b={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};(0,a._each)(b,function(e,t){return b[e]=t});var y={code:"rubicon",gvlid:52,supportedMediaTypes:[l.Mk,l.pX],isBidRequestValid:function(e){if("object"!==(0,o.Z)(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return(0,a.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r=w(e,!0);return!!r&&("video"!==r||function(e){var t=!0,n=Object.prototype.toString.call([]),r={mimes:n,protocols:n,linearity:Object.prototype.toString.call(0),api:n};return Object.keys(r).forEach(function(n){Object.prototype.toString.call((0,s.Z)(e,"mediaTypes.video."+n))!==r[n]&&(t=!1,(0,a.logError)("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+r[n]))}),t}(e))},buildRequests:function(e,t){var n=[],r=e.filter(function(e){return"video"===w(e)}).map(function(e){e.startTime=(new Date).getTime();var n,r={id:e.transactionId,test:u.vc.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:u.vc.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:(0,i.Z)({},e.bidder,e.params),video:(0,s.Z)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===h.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:(n=u.vc,{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:n.getConfig("customPriceBucket")&&n.getConfig("customPriceBucket").buckets}[n.getConfig("priceGranularity")]})},bidders:{rubicon:{integration:h.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(r.ext.prebid.aliases=(0,i.Z)({},e.bidder,"rubicon"));var d,p,f=(0,g.R)().installedModules;if(!f||f.length&&-1===f.indexOf("rubiconAnalyticsAdapter")||(0,c.N)(r,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||h.disableFloors)d=parseFloat((0,s.Z)(e,"params.floor"));else{var m;try{m=e.getFloor({currency:"USD",mediaType:"video",size:I(e,"video")})}catch(e){(0,a.logError)("Rubicon: getFloor threw an error: ",e)}d="object"!==(0,o.Z)(m)||"USD"!==m.currency||isNaN(parseInt(m.floor))?void 0:parseFloat(m.floor)}isNaN(d)||(r.imp[0].bidfloor=d),"object"===(0,o.Z)(e.floorData)&&(r.ext.prebid.floors={enabled:!1}),r.imp[0].ext[e.bidder].video.size_id=function(e){var t=parseInt((0,s.Z)(e,"params.video.size_id"));return isNaN(t)?"outstream"===(0,s.Z)(e,"mediaTypes.".concat(l.pX,".context"))?203:201:t}(e),function(e,t,n){e&&("object"===(0,o.Z)(u.vc.getConfig("app"))?e.app=u.vc.getConfig("app"):e.site={page:_(t,n)},"object"===(0,o.Z)(u.vc.getConfig("device"))&&(e.device=u.vc.getConfig("device")),t.params.video.language&&["site","device"].forEach(function(n){e[n]&&("site"===n?e[n].content=Object.assign({language:t.params.video.language},e[n].content):e[n]=Object.assign({language:t.params.video.language},e[n]))}))}(r,e,t),function(e,t){"object"===(0,o.Z)(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===(0,o.Z)(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===(0,o.Z)(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=I(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(r,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(p=t.gdprConsent.gdprApplies?1:0),(0,c.N)(r,"regs.ext.gdpr",p),(0,c.N)(r,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(0,c.N)(r,"regs.ext.us_privacy",t.uspConsent);var v=(0,s.Z)(t,"bids.0.userIdAsEids");v&&v.length&&(0,c.N)(r,"user.ext.eids",v);var b=u.vc.getConfig("user.id");b&&(0,c.N)(r,"user.id",b),!0===u.vc.getConfig("coppa")&&(0,c.N)(r,"regs.coppa",1),e.schain&&O(e.schain)&&(0,c.N)(r,"source.ext.schain",e.schain);var y=u.vc.getConfig("multibid");return y&&(0,c.N)(r,"ext.prebid.multibid",y.reduce(function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e.toLowerCase()]=t[e]}),e.push(n),e},[])),T(e,l.pX,r),(0,c.N)(r.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),r.ext.prebid.storedrequest=void 0,r.imp[0].ext.prebid.storedrequest=void 0,{method:"POST",url:"https://".concat(h.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:r,bidRequest:e}});if(!0!==u.vc.getConfig("rubicon.singleRequest"))n=r.concat(e.filter(function(e){return"banner"===w(e)}).map(function(e){var n=y.createSlotParams(e,t);return{method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:y.getOrderedParams(n).reduce(function(e,t){var r=n[t];return(0,a.isStr)(r)&&""!==r||(0,a.isNumber)(r)?"".concat(e).concat(A(t,r),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}));else{var d=e.filter(function(e){return"banner"===w(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{});n=r.concat(Object.keys(d).reduce(function(e,n){var r;return(r=d[n],10,r.map(function(e,t){return t%10==0?r.slice(t,t+10):null}).filter(function(e){return e})).forEach(function(n){var r=y.combineSlotUrlParams(n.map(function(e){return y.createSlotParams(e,t)}));e.push({method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:y.getOrderedParams(r).reduce(function(e,t){var n=r[t];return(0,a.isStr)(n)&&""!==n||(0,a.isNumber)(n)?"".concat(e).concat(A(t,n),"&"):e},"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})}),e},[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","l_pb_bid_id","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(function(e){return-1===i.indexOf(e)}))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce(function(t,n,r){return Object.keys(n).forEach(function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])}),t},{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach(function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r}),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,i=I(e,"banner"),c=n.latLong||[],d=(0,r.Z)(c,2),f=d[0],g=d[1],m={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(h.int_type||"pbjs_lite","_v7.22.0"),"x_source.tid":e.transactionId,l_pb_bid_id:e.bidId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(f))?void 0:parseFloat(f).toFixed(4),"p_geo.longitude":isNaN(parseFloat(g))?void 0:parseFloat(g).toFixed(4),"tg_fl.eid":e.code,rf:_(e,t)};if("function"==typeof e.getFloor&&!h.disableFloors){var v;try{v=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,a.logError)("Rubicon: getFloor threw an error: ",e)}m.rp_hard_floor="object"!==(0,o.Z)(v)||"USD"!==v.currency||isNaN(parseInt(v.floor))?void 0:v.floor}var b={1:"atf",3:"btf"}[(0,s.Z)(e,"mediaTypes.banner.pos")]||"";m.p_pos="atf"===n.position||"btf"===n.position?n.position:b;var E=u.vc.getConfig("user.id");return E&&(m.ppuid=E),e.userIdAsEids&&e.userIdAsEids.forEach(function(e){try{if("adserver.org"===e.source?(m.tpid_tdid=e.uids[0].id,m["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(m["tpid_liveintent.com"]=e.uids[0].id,m["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(m["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?m.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?m["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):m["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!m.ppuid){var t=(0,p.sE)(e.uids,function(e){return e.ext&&"ppuid"===e.ext.stype});t&&t.id&&(m.ppuid=t.id)}}catch(t){(0,a.logWarn)("Rubicon: error reading eid:",e,t)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(m.gdpr=Number(t.gdprConsent.gdprApplies)),m.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(m.us_privacy=encodeURIComponent(t.uspConsent)),m.rp_maxbids=t.bidLimit||1,T(e,l.Mk,m),!0===u.vc.getConfig("coppa")&&(m.coppa=1),e.schain&&O(e.schain)&&(m.rp_schain=y.serializeSupplyChain(e.schain)),m},serializeSupplyChain:function(e){if(!O(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(y.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map(function(e){return t.map(function(t){return encodeURIComponent(e[t]||"")}).join(",")}).join("!")},interpretResponse:function(e,t){var n=t.bidRequest;if(!(e=e.body)||"object"!==(0,o.Z)(e))return[];if(e.seatbid){var i=(0,s.Z)(e,"ext.errors.rubicon");Array.isArray(i)&&i.length>0&&(0,a.logWarn)("Rubicon: Error in video response");var d=[];return e.seatbid.forEach(function(t){(t.bid||[]).forEach(function(r){var i={requestId:n.bidId,currency:e.cur||"USD",creativeId:r.crid,cpm:r.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==h.netRevenue,width:r.w||(0,s.Z)(n,"mediaTypes.video.w")||(0,s.Z)(n,"params.video.playerWidth"),height:r.h||(0,s.Z)(n,"mediaTypes.video.h")||(0,s.Z)(n,"params.video.playerHeight")};r.id&&(i.seatBidId=r.id),r.dealid&&(i.dealId=r.dealid),r.adomain&&(0,c.N)(i,"meta.advertiserDomains",Array.isArray(r.adomain)?r.adomain:[r.adomain]),(0,s.Z)(r,"ext.bidder.rp.advid")&&(0,c.N)(i,"meta.advertiserId",r.ext.bidder.rp.advid);var u=(0,s.Z)(e,"ext.responsetimemillis.rubicon");if(n&&u&&(n.serverResponseTimeMs=u),(0,s.Z)(r,"ext.prebid.type")===l.pX){i.mediaType=l.pX,(0,c.N)(i,"meta.mediaType",l.pX);var p=(0,s.Z)(r,"ext.prebid.targeting");p&&"object"===(0,o.Z)(p)&&(i.adserverTargeting=p),r.ext.prebid.cache&&"object"===(0,o.Z)(r.ext.prebid.cache.vastXml)&&r.ext.prebid.cache.vastXml.cacheId&&r.ext.prebid.cache.vastXml.url?(i.videoCacheKey=r.ext.prebid.cache.vastXml.cacheId,i.vastUrl=r.ext.prebid.cache.vastXml.url):p&&p.hb_uuid&&p.hb_cache_host&&p.hb_cache_path&&(i.videoCacheKey=p.hb_uuid,i.vastUrl="https://".concat(p.hb_cache_host).concat(p.hb_cache_path,"?uuid=").concat(p.hb_uuid)),r.adm&&(i.vastXml=r.adm),r.nurl&&(i.vastUrl=r.nurl),!i.vastUrl&&r.nurl&&(i.vastUrl=r.nurl),"outstream"===(0,s.Z)(n,"mediaTypes.video.context").toLowerCase()&&(i.renderer=function(e){var t=f.Th.install({id:e.adId,url:h.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:h.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(E)}catch(e){(0,a.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(i))}else(0,a.logWarn)("Rubicon: video response received non-video media type");d.push(i)})}),d}var u,p=e.ads,g=0;return"object"!==(0,o.Z)(n)||Array.isArray(n)||"video"!==w(n)||"object"!==(0,o.Z)(p)||(p=p[n.adUnitCode]),!Array.isArray(p)||p.length<1?[]:p.reduce(function(t,i,s){if(i.impression_id&&u===i.impression_id?g++:u=i.impression_id,"ok"!==i.status)return t;var c,d,p=Array.isArray(n)?n[s-g]:n;if(p&&"object"===(0,o.Z)(p)){var f={requestId:p.bidId,currency:"USD",creativeId:i.creative_id||"".concat(i.network||"","-").concat(i.advertiser||""),cpm:i.cpm||0,dealId:i.deal,ttl:300,netRevenue:!1!==h.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:l.Mk}};if(i.creative_type&&(f.mediaType=i.creative_type),i.adomain&&(f.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===l.pX)f.width=p.params.video.playerWidth,f.height=p.params.video.playerHeight,f.vastUrl=i.creative_depot_url,f.impression_id=i.impression_id,f.videoCacheKey=i.impression_id;else{f.ad=(c=i.script,d=i.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(d,"'>\n<script type='text/javascript'>").concat(c,"<\/script>\n</div>\n</body>\n</html>"));var m=b[i.size_id].split("x").map(function(e){return Number(e)}),v=(0,r.Z)(m,2);f.width=v[0],f.height=v[1]}f.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:p.adUnitCode}),t.push(f)}else(0,a.logError)("Rubicon: bidRequest undefined at index position:".concat(s),n,e);return t},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,r){if(!C&&e.iframeEnabled){var i={};return n&&("boolean"==typeof n.gdprApplies&&(i.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(i.gdpr_consent=n.consentString)),r&&(i.us_privacy=encodeURIComponent(r)),i=Object.keys(i).length?"?".concat((0,a.formatQS)(i)):"",C=!0,{type:"iframe",url:"https://".concat(h.syncHost||"eus",".rubiconproject.com/usync.html")+i}}},transformBidParams:function(e,t){return(0,a.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function _(e,t){var n;return n=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?n.replace(/^http:/i,"https:"):n}function E(e){var t,n=document.getElementById(e.adUnitCode);(t=n.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(n);var r=e.renderer.getConfig();e.renderer.push(function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})})}function I(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray((0,s.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}var i=[];return Array.isArray(n.sizes)?i=n.sizes:void 0!==(0,s.Z)(e,"mediaTypes.banner.sizes")?i=S(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=S(e.sizes):(0,a.logWarn)("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return i.sort(function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n})}()}function T(e,t,n){var r={user:{ext:{data:v({},e.params.visitor)}},site:{ext:{data:v({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=(0,a.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=(0,a.mergeDeep)({},e.ortb2||{},r),c=(0,s.Z)(e.ortb2Imp,"ext")||{},d=(0,s.Z)(e.ortb2Imp,"ext.data")||{},u=(0,s.Z)(e,"ortb2Imp.ext.gpid"),p={user:[4],site:[1,2,5,6]},f={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},g=function(e,t,n){return"data"===t&&Array.isArray(e)?e.filter(function(e){return e.segment&&(0,s.Z)(e,"ext.segtax")&&p[n]&&-1!==p[n].indexOf((0,s.Z)(e,"ext.segtax"))}).map(function(e){var t=e.segment.filter(function(e){return e.id}).reduce(function(e,t){return e.push(t.id),e},[]);if(t.length>0)return t.toString()}).toString():"object"===(0,o.Z)(e)&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter(function(e){if("object"!==(0,o.Z)(e)&&void 0!==e)return e.toString();(0,a.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")}).toString():e.toString()},m=function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=g(e,r,t),a=f[r]&&i?"".concat(f[r]):"data"===r?"".concat(f[t],"iab"):"".concat(f[t]).concat(r);n[a]=n[a]?n[a].concat(",",o):o};t===l.Mk?(["site","user"].forEach(function(e){Object.keys(i[e]).forEach(function(t){"site"===e&&"content"===t&&i[e][t].data?m(i[e][t].data,e,"data"):"ext"!==t?m(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach(function(t){m(i[e].ext.data[t],e,t,!1)})})}),Object.keys(d).forEach(function(e){"adserver"!==e?m(d[e],"site",e):"gam"===d[e].name&&m(d[e].adslot,name,e)}),u&&(n.p_gpid=u),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(c).length&&(0,a.mergeDeep)(n.imp[0].ext,c),u&&(n.imp[0].ext.gpid=u),(0,a.mergeDeep)(n,i))}function S(e){return(0,a.parseSizesInput)(e).reduce(function(e,t){var n=parseInt(b[t],10);return n&&e.push(n),e},[])}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){var t=void 0!==(0,s.Z)(e,"mediaTypes.".concat(l.pX)),n=void 0!==(0,s.Z)(e,"mediaTypes.".concat(l.Mk)),r="object"!==(0,o.Z)((0,s.Z)(e,"params.video"));return n&&r&&(t=!1),t&&r&&(0,c.N)(e,"params.video",{}),t}(e)?-1===["outstream","instream"].indexOf((0,s.Z)(e,"mediaTypes.".concat(l.pX,".context")))?void(t&&(0,a.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):I(e,"video").length<2?void(t&&(0,a.logError)("Rubicon: could not determine the playerSize of the video")):(t&&(0,a.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===I(e,"banner").length?void(t&&(0,a.logError)("Rubicon: could not determine the sizes for banner request")):(t&&(0,a.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function O(e){var t=!1,n=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce(function(e,t){return e?n.every(function(e){return t.hasOwnProperty(e)}):e},!0))||(0,a.logError)("Rubicon: required schain params missing"),t):t}function A(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var C=!1;(0,d.dX)(y),window.pbjs.installedModules.push("rubiconBidAdapter")}},function(e){e(e.s=60)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[972],{4834:function(e,t,n){var r=n(1002),i=n(4358),o=n(2797),a=n(3092),s=(0,n(5164).df)({moduleName:"pubCommonId"}),c="cookie",d="html5",u="_pubcid_optout",l="PublisherCommonId";function p(e,t){if(t===c)return s.getCookie(e);if(t===d&&s.hasLocalStorage()){var n=s.getDataFromLocalStorage("".concat(e,"_exp"));if(!n)return s.getDataFromLocalStorage(e);if(new Date(n).getTime()-Date.now()>0)return s.getDataFromLocalStorage(e)}}function f(e,t){return function(n){"function"==typeof t&&t(),n(e)}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=(0,i.parseUrl)(e);n.search.id=encodeURIComponent("pubcid:"+t);var r=(0,i.buildUrl)(n);return function(){(0,i.triggerPixel)(r)}}}function m(){return!!(s.cookiesAreEnabled()&&p(u,c)||s.hasLocalStorage()&&p(u,d))}var v={name:"sharedId",aliasName:"pubCommonId",decode:function(e,t){if(!m())return(0,i.logInfo)(" Decoded value PubCommonId "+e),{pubcid:e};(0,i.logInfo)("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(m())(0,i.logInfo)("PubCommonId: Has opted-out");else{if(!a.VP.getCoppa()){var n=e.params,o=(n=void 0===n?{}:n).create,s=void 0===o||o,c=n.pixelUrl,d=t;if(!d){try{"object"===(0,r.Z)(window[l])&&(d=window[l].getId())}catch(e){}d||(d=s&&(0,i.hasDeviceAccess)()?(0,i.generateUUID)():void 0)}return{id:d,callback:f(d,g(c,d))}}(0,i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(m())return(0,i.logInfo)("PubCommonId: Has opted-out"),{id:void 0};if(a.VP.getCoppa())(0,i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var n=e.params,r=(n=void 0===n?{}:n).extend,o=void 0!==r&&r,s=n.pixelUrl;if(o)return s?{callback:g(s,t)}:{id:t}}},domainOverride:function(){for(var e,t,n=document.domain.split("."),r="_gd".concat(Date.now()),i=0;i<n.length;i++){var o=n.slice(i).join(".");if(s.setCookie(r,"1",void 0,void 0,o),t=s.getCookie(r),s.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),"1"!==t)return e;e=o}}};(0,o.Bx)("userId",v),window.pbjs.installedModules.push("sharedIdSystem")}},function(e){e(e.s=4834)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[599],{789:function(e,t,n){var r=n(1002),i=n(4942),o=n(9062),a=n(4358),s=n(4679),c=n(5339),d=n(3193),u=n(5164);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f="triplelift",g=!0,m=null,v=(0,u.df)({gvlid:28,bidderCode:f}),h={gvlid:28,code:f,supportedMediaTypes:[s.Mk,s.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e,t){var n={},r=e[0].schain,i=function(e){var t={},n={},r={},i=e.ortb2||{},o=function(){var e=v.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,a.logError)("Triplelift: error parsing JSON: ",e),null}}(),s=Object.assign({},i.site),c=Object.assign({},i.user);if(o){c.data=c.data||[];try{c.data.push({name:"www.1plusx.com",ext:o})}catch(e){(0,a.logError)("Triplelift: error adding 1plusX segments: ",e)}}return I(n,s),I(r,c),(0,a.isEmpty)(n)||(t.context=n),(0,a.isEmpty)(r)||(t.user=r),t}(t);n.imp=e.map(function(e,t){var n={id:t,tagid:e.params.inventoryCode,floor:E(e)};return b(e)&&(n.video=function(e){var t=p(p({},e.params.video),e.mediaTypes.video);try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,a.logWarn)("Video size not defined",e)}return"instream"===t.context&&(t.placement=1),"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&((0,a.logMessage)("video.placement value of ".concat(t.placement," is invalid for outstream context. Setting placement to 3")),t.placement=3):t.placement=3),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!y(e)&&(n.banner={format:w(e.sizes)}),(0,a.isEmpty)(e.ortb2Imp)||(n.fpd=function(e){var t={},n={};return I(n,e.ext),(0,a.isEmpty)(n)||(t.context=n),t}(e.ortb2Imp)),n});var s=[].concat((0,o.Z)(T([e[0]],"tdid","adserver.org","TDID")),(0,o.Z)(function(e){return T(e,"idl_env","liveramp.com","idl")}([e[0]])),(0,o.Z)(function(e){return T(e,"criteoId","criteo.com","criteoId")}([e[0]])),(0,o.Z)(function(e){return T(e,"pubcid","pubcid.org","pubcid")}([e[0]])),(0,o.Z)(function(e){var t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],n=[];return e.userIdAsEids&&e.userIdAsEids.forEach(function(e){try{if(-1===t.indexOf(e.source)){var r=e.uids.map(function(t){return{id:t.id,ext:{rtiPartner:e.source}}});n.push({source:e.source,uids:r})}}catch(t){(0,a.logWarn)("Triplelift: Error attempting to add ".concat(e," to bid request"),t)}}),n}(e[0])));s.length>0&&(n.user={ext:{eids:s}});var c=function(e,t){var n={};return(0,a.isEmpty)(e)||(n.schain=p({},e)),(0,a.isEmpty)(t)||(n.fpd=p({},t)),n}(r,i);return(0,a.isEmpty)(c)||(n.ext=c),n}(e,t);if(n=(0,a.tryAppendQueryString)(n,"lib","prebid"),n=(0,a.tryAppendQueryString)(n,"v","7.22.0"),t&&t.refererInfo){var i=t.refererInfo.page;n=(0,a.tryAppendQueryString)(n,"referrer",i)}return t&&t.timeout&&(n=(0,a.tryAppendQueryString)(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(g=t.gdprConsent.gdprApplies,n=(0,a.tryAppendQueryString)(n,"gdpr",g.toString())),void 0!==t.gdprConsent.consentString&&(m=t.gdprConsent.consentString,n=(0,a.tryAppendQueryString)(n,"cmp_cs",m))),t&&t.uspConsent&&(n=(0,a.tryAppendQueryString)(n,"us_privacy",t.uspConsent)),!0===d.vc.getConfig("coppa")&&(n=(0,a.tryAppendQueryString)(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),(0,a.logMessage)("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,o=t.deal_id||"",a=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(n={requestId:s.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},b(s)&&"video"===t.media_type&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=3600),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(b(s)&&"video"===t.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native")),n}(n,e)})},getUserSyncs:function(e,t,n,r){var i=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(i){var o="https://eb2.3lift.com/sync?";return"image"===i&&(o=(0,a.tryAppendQueryString)(o,"px",1),o=(0,a.tryAppendQueryString)(o,"src","prebid")),null!==m&&(o=(0,a.tryAppendQueryString)(o,"gdpr",g),o=(0,a.tryAppendQueryString)(o,"cmp_cs",m)),r&&(o=(0,a.tryAppendQueryString)(o,"us_privacy",r)),[{type:i,url:o}]}}};function b(e){return _(e)&&(y(e)||function(e){return _(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function y(e){return _(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function _(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function E(e){var t=null;if("function"==typeof e.getFloor)try{var n=e.getFloor({currency:"USD",mediaType:b(e)?"video":"banner",size:"*"});"object"!==(0,r.Z)(n)||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}catch(e){(0,a.logError)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function I(e,t){(0,a.isEmpty)(t)||Object.keys(t).forEach(function(n){null!=t[n]&&(e[n]=t[n])})}function T(e,t,n,r){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(S(t)).map(function(e,t){return function(n){return{source:e,uids:[{id:n.id?n.id:n,ext:{rtiPartner:t}}]}}}(n,r))}var S=function(e){return function(t,n,r){var i=!!t&&((0,a.isStr)(t)?!!t:(0,a.isPlainObject)(t)&&!(0,a.isArray)(t)&&!(0,a.isEmpty)(t)&&t.id&&(0,a.isStr)(t.id)&&!!t.id);return i||void 0===r[0]||(0,a.logWarn)("Triplelift: invalid ".concat(e," userId format")),i}};function w(e){return e.filter(O).map(function(e){return{w:e[0],h:e[1]}})}function O(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,c.dX)(h),window.pbjs.installedModules.push("tripleliftBidAdapter")}},function(e){e(e.s=789)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[215],{2722:function(e,t,n){var r=n(1002),i=n(4614),o=n(3193),a=n(2021),s=n(8640),c=n(3092),d=n(5644),u=n(2797),l=n(4358),p=n(265),f={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){var t=(0,l.pick)(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){var t="";return e.DeviceID&&(t=e.DeviceID.join(",")),t},getUidExt:function(e){return"DeviceID"}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=(0,l.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!==(t=e.ext)&&void 0!==t&&t.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},cpexId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){var t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function g(e,t){var n=f[t];if(n&&e){var r={};r.source=(0,l.isFn)(n.getSource)?n.getSource(e):n.source;var i=(0,l.isFn)(n.getValue)?n.getValue(e):e;if((0,l.isStr)(i)){var o={id:i,atype:n.atype};if((0,l.isFn)(n.getUidExt)){var a=n.getUidExt(e);a&&(o.ext=a)}if(r.uids=[o],(0,l.isFn)(n.getEidExt)){var s=n.getEidExt(e);s&&(r.ext=s)}return r}}return null}function m(e){var t=[],n=function(n){if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else if("ftrackId"===n)t.push({atype:1,ext:e.ftrackId.ext,id:e.ftrackId.uid});else if(Array.isArray(e[n]))e[n].forEach(function(e,r,i){var o=g(e,n);o&&t.push(o)});else{var r=g(e[n],n);r&&t.push(r)}};for(var r in e)n(r);return t}var v,h,b,y,_,E,I=n(5164),T=(0,u.z3)("sync",function(){}),S=n(8792),w=n(7673),O=n(9128),A="User ID",C="cookie",k="html5",x="_pbjs_userid_consent_data",D=30,P="_pbjs_id_optout",R=(0,I.eA)("userid"),j=!1,B=[],U=[],N=[],M=function(){return null==E&&(E=(0,O.V6)()),E};function Z(e){return M().fork().renameWith(function(t){return["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]})}function q(e,t){var n=e.config.storage,r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var i=(0,l.isPlainObject)(t)?JSON.stringify(t):t,o=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===C?(R.setCookie(n.name,i,o,"Lax",r),"number"==typeof n.refreshInSeconds&&R.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),o,"Lax",r)):n.type===k&&(R.setDataInLocalStorage("".concat(n.name,"_exp"),o),R.setDataInLocalStorage(n.name,encodeURIComponent(i)),"number"==typeof n.refreshInSeconds&&R.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){(0,l.logError)(e)}}function z(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n?"".concat(e.name,"_").concat(n):e.name;try{if(e.type===C)t=R.getCookie(r);else if(e.type===k){var i=R.getDataFromLocalStorage("".concat(e.name,"_exp"));""===i?t=R.getDataFromLocalStorage(r):i&&new Date(i).getTime()-Date.now()>0&&(t=decodeURIComponent(R.getDataFromLocalStorage(r)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){(0,l.logError)(e)}return t}function F(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),(0,l.cyrb53Hash)(JSON.stringify(t))}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!R.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2==r.length)return e;var i=-2,o="_rdc".concat(Date.now()),a="writeable";do{t=r.slice(i).join(".");var s=new Date((0,l.timestamp)()+1e4).toUTCString();R.setCookie(o,a,s,"Lax",t,void 0),R.getCookie(o,void 0)===a?(n=!1,R.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t}function W(e,t){t=M().fork().startTiming("userId.callbacks.total").stopBefore(t);var n=(0,l.delayExecution)(function(){clearTimeout(void 0),t()},e.length);e.forEach(function(e){var t=Z(e.submodule.name).startTiming("callback").stopBefore(n);try{e.callback(function(n){n?(e.config.storage&&q(e,n),e.idObj=e.submodule.decode(n,e.config),oe(e.idObj)):(0,l.logInfo)("".concat(A,": ").concat(e.submodule.name," - request id responded with an empty value")),t()})}catch(n){(0,l.logError)("Error in userID module '".concat(e.submodule.name,"':"),n),t()}e.callback=void 0})}function K(e,t){[e].some(function(e){return!Array.isArray(e)||!e.length})||e.forEach(function(e){e.bids&&(0,l.isArray)(e.bids)&&e.bids.forEach(function(e){var n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter(function(e){return!e.config.bidders||!(0,l.isArray)(e.config.bidders)||(0,i.q9)(e.config.bidders,t)}).filter(function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(e,t){return Object.keys(t.idObj).forEach(function(n){e[n]=t.idObj[n]}),e},{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=m(n))})})}var V,G={};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J()||[],t=y&&e.find(function(e){return e.source===y});if(t&&"string"==typeof(0,p.Z)(t,"uids.0.id")){var n=t.uids[0].id.replace(/[\W_]/g,"");if(n.length>=32&&n.length<=150)return n;(0,l.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(y," is not between 32 and 150 characters - ").concat(n))}}var H=(0,O.g3)("userId",function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,o=void 0===i?S.Z.timeout:i,a=r.getIds,c=void 0===a?re:a;S.Z.race([c().catch(function(){return null}),o(b)]).then(function(){K(t.adUnits||(0,s.R)().adUnits,v),M().join((0,O.Bf)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(n,t)})});function X(){return e=v,Array.isArray(e)&&e.length?e.filter(function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(e,t){return Object.keys(t.idObj).forEach(function(n){e[n]=t.idObj[n]}),e},{}):{};var e}function J(){return m(X())}function Q(e){return m(function(e,t){if(!Array.isArray(e)||!e.length)return{};var n=e.filter(function(e){var n;return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length&&(null===(n=f[Object.keys(e.idObj)[0]])||void 0===n?void 0:n.source)===t});return(0,l.isEmpty)(n)?[]:n[0].idObj}(v,e))[0]}function $(e,t,n){return V().then(function(){var r={};if((0,l.isFn)(n)){(0,l.logInfo)("".concat(A," - Getting encrypted signal from custom function : ").concat(n.name," & source : ").concat(e," "));var i=n(e);r[e]=i?ee(i):null}else{var o=Q(e);(0,l.logInfo)("".concat(A," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),(0,l.isEmpty)(o)||(r[o.source]=!0===t?ee(o):o.uids[0].id)}return(0,l.logInfo)("".concat(A," - Fetching encrypted eids: ").concat(r[e])),r[e]})}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";return 1===t&&(n="object"===(0,r.Z)(e)?window.btoa(JSON.stringify(e)):window.btoa(e)),"".concat(t,"||").concat(n)}function te(){if((0,l.isGptPubadsDefined)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=o.vc.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout(function(){e.sources&&e.sources.forEach(function(e){var t=e.source,n=e.encrypt,r=e.customFunc;t.forEach(function(e){window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:function(){return $(e,n,r)}})})})},t)}else(0,l.logWarn)("".concat(A," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function ne(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).submoduleNames,t=arguments.length>1?arguments[1]:void 0;return V({refresh:!0,submoduleNames:e}).then(function(){return t&&(0,l.isFn)(t)&&t(),X()})}function re(){return V().then(function(){return X()},function(e){return e===G?Promise.resolve().then(re):((0,l.logError)("Error initializing userId",e),S.Z.reject(e))})}var ie=(0,u.z3)("sync",function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}},"validateGdprEnforcement");function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();if(e&&y){var t=Y(m(e));t&&((0,l.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(t)})))}}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return M().fork().measureTime("userId.init.modules",function(){if(!t.length)return[];var i=function(){var e=[],t=!1;return R.localStorageIsEnabled()&&(e.push(k),R.getDataFromLocalStorage(P)&&((0,l.logInfo)("".concat(A," - opt-out localStorage found, storage disabled")),t=!0)),R.cookiesAreEnabled()&&(e.push(C),R.getCookie(P)&&((0,l.logInfo)("".concat(A," - opt-out cookie found, storage disabled")),t=!0)),new Set(t?[]:e)}();if(!(t=t.filter(function(e){return!e.config.storage||i.has(e.config.storage.type)})).length)return(0,l.logWarn)("".concat(A," - no ID module is configured for one of the available storage types:"),Array.from(i)),[];var o=ie(t,n),a=o.userIdModules;if(!o.hasValidated&&!(0,w.h)(n))return(0,l.logWarn)("".concat(A," - gdpr permission not valid for local storage or cookies, exit module")),[];var s=function(){try{return R.getCookie(x)}catch(e){(0,l.logError)(e)}}();!function(e){try{var t=new Date(Date.now()+864e5*D).toUTCString();R.setCookie(x,F(e),t,"Lax")}catch(e){(0,l.logError)(e)}}(n);var c=a.reduce(function(e,t){return Z(t.submodule.name).measureTime("init",function(){try{(function(e,t,n,r){if(e.config.storage){var i,o=z(e.config.storage),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(z(e.config.storage,"last"));a=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!o||a||r||!function(e,t){return null!=n&&n===F(t)}(0,t)?i=e.submodule.getId(e.config,t,o):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,t,o)),(0,l.isPlainObject)(i)&&(i.id&&(q(e,i.id),o=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);(0,l.isPlainObject)(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}oe(e.idObj)})(t,n,s,r),e.push(t)}catch(e){(0,l.logError)("Error in userID module '".concat(t.submodule.name,"':"),e)}return e})},[]);return c.length&&function(e){var t=(0,l.getPrebidInternal)().setEidPermissions;"function"==typeof t&&(0,l.isArray)(e)&&t(function(e){var t=[];return e.filter(function(e){return(0,l.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length}).forEach(function(e){Object.keys(e.idObj).forEach(function(n){(0,p.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,p.Z)(f,n+".source")&&t.push({source:f[n].source,bidders:e.config.bidders})})}),t}(e))}(c),c.forEach(function(e,t){for(var n=!1,r=0;r<e.length;r++)if(t.config.name.toLowerCase()===e[r].config.name.toLowerCase()){n=!0,e[r]=t;break}n||e.push(t)}.bind(null,e)),c})}var se=new Set([k,C]);function ce(){var e=function(e,t){return Array.isArray(e)?e.reduce(function(e,t){return!t||(0,l.isEmptyStr)(t.name)||(t.storage&&!(0,l.isEmptyStr)(t.storage.type)&&!(0,l.isEmptyStr)(t.storage.name)&&se.has(t.storage.type)||(0,l.isPlainObject)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e},[]):[]}(U);if(e.length){var t=N.filter(function(e){return!(0,i.sE)(B,function(t){return t.name===e.name})});B.splice(0,B.length),t.map(function(t){var n=(0,i.sE)(e,function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())});return n&&t.name!==n.name&&(n.name=t.name),t.findRootDomain=L,n?{submodule:t,config:n,callback:void 0,idObj:void 0}:null}).filter(function(e){return null!==e}).forEach(function(e){return B.push(e)}),!j&&B.length&&((0,s.R)().requestBids.before(H,40),T.after(function(e){return e(Y())}),(0,l.logInfo)("".concat(A," - usersync config updated for ").concat(B.length," submodules: "),B.map(function(e){return e.submodule.name})),j=!0)}}function de(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delay,n=void 0===t?S.Z.timeout:t;y=void 0,B=[],U=[],j=!1,v=[],V=function(){var e,t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).delay,r=void 0===n?S.Z.timeout:n,i=(0,S.P)(),o=(0,S.P)(),s=!1;function p(n){return t=M().fork(),null!=e&&e.reject(G),e=(0,S.P)(),S.Z.race([n,e.promise]).finally(t.startTiming("userId.total"))}var f=v,g=B;function m(e){return function(){if(f===v&&g===B)return e.apply(void 0,arguments)}}function y(){return c.rp.promise.finally(t.startTiming("userId.init.gdpr"))}var _=p(S.Z.all([u.Cd,i.promise]).then(y).then(m(function(e){ae(f,g,e)})).then(function(){return o.promise.finally(t.startTiming("userId.callbacks.pending"))}).then(m(function(){var e=f.filter(function(e){return(0,l.isFn)(e.callback)});if(e.length)return new S.Z(function(t){return W(e,t)})})));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,n=void 0!==t&&t,c=e.submoduleNames,u=void 0===c?null:c,l=e.ready;return void 0!==l&&l&&!s&&(s=!0,i.resolve(),b>0?o.resolve():a.on(d.EVENTS.AUCTION_END,function e(){a.off(d.EVENTS.AUCTION_END,e),r(h).then(o.resolve)})),n&&s&&(_=p(_.catch(function(){return null}).then(y).then(m(function(e){var t=ae(f,g.filter(function(e){return null==u||u.includes(e.submodule.name)}),e,!0).filter(function(e){return null!=e.callback});if(t.length)return new S.Z(function(e){return W(t,e)})})))),_}}({delay:n}),null!=_&&_(),N=[],_=e.getConfig("userSync",function(e){var t=e.userSync;y=t.ppid,t&&t.userIds&&(U=t.userIds,h=(0,l.isNumber)(t.syncDelay)?t.syncDelay:500,b=(0,l.isNumber)(t.auctionDelay)?t.auctionDelay:0,ce(),V({ready:!0}))}),(0,s.R)().getUserIds=X,(0,s.R)().getUserIdsAsEids=J,(0,s.R)().getEncryptedEidsForSource=de($),(0,s.R)().registerSignalSources=te,(0,s.R)().refreshUserIds=de(ne),(0,s.R)().getUserIdsAsync=de(re),(0,s.R)().getUserIdsAsEidBySource=Q}(o.vc),(0,u.bA)("userId",function(e){(0,i.sE)(N,function(t){return t.name===e.name})||(N.push(e),ce(),V({refresh:!0,submoduleNames:[e.name]}))}),window.pbjs.installedModules.push("userId")},7673:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(265);function i(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e(e.s=2722)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[700],{7501:function(e,t,n){var r=n(4942),i=n(5339),o=n(4679),a=n(4358),s=n(265),c=n(3193),d=n(5706),u=n(7673);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p="7.22.0",f="USD",g=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","epsilon.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];function m(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function v(e){return(0,a.isArray)(e)&&2===e.length&&!(0,a.isArray)(e[0])?[m(e)]:e.map(m)}function h(e){return(0,a.isArray)((0,s.Z)(e,"userIdAsEids"))?e.userIdAsEids.filter(function(e){return-1!==g.indexOf(e.source)}):[]}function b(e){return(0,s.Z)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function y(e){var t;return(0,s.Z)(e,"params.pubId")?t=!0:(0,s.Z)(e,"params.dcn")&&(0,s.Z)(e,"params.pos")&&(t=!1),t}function _(){var e=c.vc.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||e===o.Mk?o.Mk:e===o.pX?o.pX:"all"===e?"*":void 0}function E(e){var t=_(),n={currency:(0,s.Z)(e,"params.bidOverride.cur")||f,mediaType:t,size:"*"};return!!(0,a.isFn)(e.getFloor)&&e.getFloor(n)}function I(e,t,n,i){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i);for(var s in n)switch(e){case"string":-1!==t.indexOf(s)&&(0,a.isStr)(n[s])&&(o[s]=n[s]);break;case"number":-1!==t.indexOf(s)&&(0,a.isNumber)(n[s])&&(o[s]=n[s]);break;case"array":-1!==t.indexOf(s)&&(0,a.isArray)(n[s])&&(o[s]=n[s]);break;case"object":-1!==t.indexOf(s)&&(0,a.isPlainObject)(n[s])&&(o[s]=n[s]);break;case"objectAllKeys":(0,a.isPlainObject)(n)&&(o[s]=n[s])}return o}function T(e){return function(e){return(0,a.isNumber)(e)&&e>0&&e<3600?e:300}(c.vc.getConfig("yahoossp.ttl")||(0,s.Z)(e,"params.ttl"))}function S(e){return(0,a.isStr)(e)&&e.length>0}function w(e,t){if(e){var n={id:(0,a.generateUUID)(),cur:[E(e).currency||(0,s.Z)(t,"params.bidOverride.cur")||f],imp:[],site:{page:(0,s.Z)(e,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,s.Z)(t,"params.bidOverride.device.ip")||(0,s.Z)(t,"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:p,integration:{name:"prebid.js",ver:p}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:h(t)}}};!0===y(t)?(n.site.publisher={id:t.params.pubId},((0,s.Z)(t,"params.bidOverride.site.id")||(0,s.Z)(t,"params.siteId"))&&(n.site.id=(0,s.Z)(t,"params.bidOverride.site.id")||t.params.siteId)):n.site.id=t.params.dcn,e.ortb2&&(n=function(e,t){var n=t.ortb2,r=(0,s.Z)(n,"site")||void 0,i=(0,s.Z)(r,"content")||void 0,o=(0,s.Z)(r,"content.data")||void 0,c=(0,s.Z)(n,"app.content")||void 0,d=(0,s.Z)(n,"app.content.data")||void 0,u=(0,s.Z)(n,"user")||void 0;if(r&&(0,a.isPlainObject)(r)){e.site=I("string",["name","domain","page","ref","keywords","search"],r,e.site),e.site=I("array",["cat","sectioncat","pagecat"],r,e.site),e.site=I("object",["ext"],r,e.site)}if(i&&(0,a.isPlainObject)(i)){e.site.content=I("string",["id","title","series","season","genre","contentrating","language"],i,e.site.content),e.site.content=I("number",["episode","prodq","context","livestream","len"],i,e.site.content),e.site.content=I("array",["cat"],i,e.site.content),e.site.content=I("object",["ext"],i,e.site.content),o&&(0,a.isArray)(o)&&o.every(function(t){var n={};n=I("string",["id","name"],t,n),n=I("array",["segment"],t,n),n=I("object",["ext"],t,n),e.site.content.data=[],e.site.content.data.push(n)})}if(c&&(0,a.isPlainObject)(c)&&d&&(0,a.isArray)(d)&&d.every(function(t){var n={};n=I("string",["id","name"],t,n),n=I("array",["segment"],t,n),n=I("object",["ext"],t,n),e.app={content:{data:[]}},e.app.content.data.push(n)}),u&&(0,a.isPlainObject)(u)){e.user=I("string",["id","buyeruid","gender","keywords","customdata"],u,e.user),e.user=I("number",["yob"],u,e.user),e.user=I("array",["data"],u,e.user),e.user.ext=I("object",["ext"],u,e.user.ext)}return e}(n,t));var r=(0,s.Z)(t,"schain.nodes");return(0,a.isArray)(r)&&r.length>0&&(n.source.ext.schain=t.schain,n.source.ext.schain.nodes[0].rid=n.id),n}}function O(e,t){var n=_();if(t&&e){var r={id:e.bidId,secure:b(e),bidfloor:E(e).floor||(0,s.Z)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==n&&n!==o.Mk&&"*"!==n||(r.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:v(e.sizes)},e.mediaTypes.banner.pos&&(r.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(n===o.pX||"*"===n)){var i=v(e.mediaTypes.video.playerSize);r.video={mimes:(0,s.Z)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,s.Z)(e,"params.bidOverride.imp.video.w")||i[0].w,h:(0,s.Z)(e,"params.bidOverride.imp.video.h")||i[0].h,maxbitrate:(0,s.Z)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:(0,s.Z)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:(0,s.Z)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:(0,s.Z)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:(0,s.Z)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:(0,s.Z)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:(0,s.Z)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:(0,s.Z)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:(0,s.Z)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:(0,s.Z)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:(0,s.Z)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:(0,s.Z)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(r.ext={dfp_ad_unit_code:e.adUnitCode},(0,s.Z)(e,"params.kvp")&&(0,a.isPlainObject)(e.params.kvp))for(var c in r.ext.kvs={},e.params.kvp)if((0,a.isStr)(e.params.kvp[c])||(0,a.isNumber)(e.params.kvp[c]))r.ext.kvs[c]=e.params.kvp[c];else if((0,a.isArray)(e.params.kvp[c])){var d=e.params.kvp[c];(d.every(function(e){return(0,a.isStr)(e)})||d.every(function(e){return(0,a.isNumber)(e)}))&&(r.ext.kvs[c]=e.params.kvp[c])}(0,s.Z)(e,"ortb2Imp.ext.data")&&(0,a.isPlainObject)(e.ortb2Imp.ext.data)&&(r.ext.data=e.ortb2Imp.ext.data),(0,s.Z)(e,"ortb2Imp.instl")&&(0,a.isNumber)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(r.instl=e.ortb2Imp.instl),!1===y(e)?(r.tagid=e.params.pos,r.ext.pos=e.params.pos):(0,s.Z)(e,"params.placementId")&&(r.tagid=e.params.placementId),t.imp.push(r)}}function A(e){var t=e.payload,n=e.requestOptions,r=e.bidderRequest,i=y(r),d=c.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===i&&(d=c.vc.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===(0,s.Z)(r,"params.testing.e2etest"))if((0,a.logInfo)("yahoossp adapter e2etest mode is active"),n.withCredentials=!1,!0===i)t.site.id="1234567";else{var u=_();t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach(function(e){e.ext.e2eTestMode=!0,u===o.Mk?e.tagid="8a969978017a7aaabab4ab0bc01a0009":u===o.pX?e.tagid="8a96958a017a7a57ac375d50c0c700cc":((0,a.logWarn)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),(0,a.logWarn)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))})}return{url:d,method:"POST",data:t,options:n,bidderRequest:r}}var C={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[o.Mk,o.pX],isBidRequestValid:function(e){var t=e.params;return!0===(0,s.Z)(t,"testing.e2etest")||!(!(0,a.isPlainObject)(t)||!(S(t.pubId)||S(t.dcn)&&S(t.pos)))||((0,a.logWarn)("yahoossp bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1)},buildRequests:function(e,t){if(!(0,a.isEmpty)(e)&&!(0,a.isEmpty)(t)){var n={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};n.withCredentials=(0,u.h)(t.gdprConsent);var r=function(e){var t=_(),n=[];return t===o.Mk?n=e.filter(function(e){return Object.keys(e.mediaTypes).some(function(e){return e===o.Mk})}):t===o.pX?n=e.filter(function(e){return Object.keys(e.mediaTypes).some(function(e){return e===o.pX})}):"*"===t&&(n=e.filter(function(e){return Object.keys(e.mediaTypes).some(function(e){return e===o.Mk||e===o.pX})})),n}(e);if(!0===c.vc.getConfig("yahoossp.singleRequestMode")){var i=w(t,r[0]);return r.forEach(function(e){O(e,i)}),A({payload:i,requestOptions:n,bidderRequest:t})}return r.map(function(e){var r=w(t,e);return O(e,r),A({payload:r,requestOptions:n,bidderRequest:e})})}(0,a.logWarn)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){t.data;var n=t.bidderRequest,r=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach(function(e){var t;try{t=e.bid[0]}catch(e){return r}var i=t.ext&&t.ext.encp?t.ext.encp:t.price,c={adId:(0,s.Z)(t,"adId")?t.adId:t.impid||t.crid,adUnitCode:n.adUnitCode,requestId:t.impid,cpm:i,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||f,dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:T(n),meta:{advertiserDomains:t.adomain}},u=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?o.Mk:-1!==t.indexOf("VAST")?o.pX:void 0}(t);u===o.Mk?(c.mediaType=o.Mk,c.ad=t.adm,c.meta.mediaType=o.Mk):u===o.pX&&(c.mediaType=o.pX,c.meta.mediaType=o.pX,c.vastXml=t.adm,t.nurl&&(c.vastUrl=t.nurl)),"outstream"!==(0,s.Z)(n,"mediaTypes.video.context")||n.renderer||(c.renderer=function(e,t){var n=d.Th.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{n.setRender(function(t){setTimeout(function(){o2PlayerRender(t)},(0,s.Z)(e,"params.testing.renderer.setTimeout")||700)})}catch(e){(0,a.logWarn)("yahoossp renderer error: setRender() failed",e)}return n}(n)||void 0),r.push(c)}),r):r},getUserSyncs:function(e,t,n,r){var i=!(0,a.isEmpty)(t)&&t[0].body;return i&&i.ext&&i.ext.pixels?function(e,t){var n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,i=[];if(t){var o=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);o&&o.forEach(function(t){var o=t.match(n)[0],a=t.match(r)[2];if(o&&a){var s="img"===o.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===s||!e.pixelEnabled&&"image"===s)return;i.push({type:s,url:a})}})}return i}(e,i.ext.pixels):[]}};(0,i.dX)(C),window.pbjs.installedModules.push("yahoosspBidAdapter")},7673:function(e,t,n){n.d(t,{h:function(){return i}});var r=n(265);function i(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e(e.s=7501)}])})(),pbjs.processQueue();
}, {}];
window.modules["visibility.legacy"] = [function(require,module,exports){"use strict";DS.service("$visibility",["$document","$window","_throttle","Eventify",function(e,t,n,i){var o,r,h=[];function s(e,t){return e<t?e:t}function l(e,t){return e>t?e:t}function d(e,t,n){!e.preload&&e.preloadThreshhold&&function(e,t,n,i){return t.top<=i+n&&u(e)}(t.target,t.rect,e.preloadThreshhold,n)&&(e.preload=!0,setTimeout(function(){e.trigger("preload",new r("preload",t))},15))}function c(n){var i=n.el.getBoundingClientRect(),o=t.innerHeight||e.documentElement.clientHeight,h=f(i,o),s=h/(i.height||o),l={target:n.el,rect:i,visiblePx:h,visiblePercent:s};!function(e,t){var n=t.visiblePx,i=t.visiblePercent;n&&i>=e.shownThreshold&&!e.seen?(e.seen=!0,setTimeout(function(){e.trigger("shown",new r("shown",t))},15)):(!n||i<e.hiddenThreshold)&&e.seen&&(e.seen=!1,setTimeout(function(){e.trigger("hidden",new r("hidden",t))},15))}(n,l),d(n,l,o)}function u(e){return e&&null!==e.offsetParent&&!e.getAttribute("hidden")&&"none"!==getComputedStyle(e).display&&"hidden"!==getComputedStyle(e).visibility}function f(e,t){return s(t,l(e.bottom,0))-s(l(e.top,0),t)}(o=function(e,t){t=t||{},this.el=e,this.seen=!1,this.preload=!1,this.preloadThreshhold=t&&t.preloadThreshhold||0,this.shownThreshold=t&&t.shownThreshold||0,this.hiddenThreshold=t&&s(t.shownThreshold,t.hiddenThreshold)||0,h.push(this),c(this)}).prototype={destroy:function(){h.splice(h.indexOf(this),1)}},i.enable(o.prototype),r=function(e,t){var n=this;this.type=e,Object.keys(t).forEach(function(e){n[e]=t[e]})},e.addEventListener("scroll",n(function(){h.forEach(c)},200)),this.getPageOffset=function(e){for(var t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{left:t,top:n}},this.getLinearSpacialHash=function e(t,n,i,o){var r=t%n,h=Math.floor(t/(n||1)).toString(o);return i>1&&(h+=e(r,Math.floor(n/o),i-1,o)),h},this.getVerticallyVisiblePixels=f,this.getViewportHeight=function(){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},this.getViewportWidth=function(){return t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth},this.isElementNotHidden=u,this.isElementInViewport=function(n){var i=n.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(t.innerHeight||e.documentElement.clientHeight)&&i.right<=(t.innerWidth||e.documentElement.clientWidth)},this.Visible=o}]);
}, {}];
require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})(window.modules,{},[]);
'use strict';
/**
 * mount legacy services from _global.js, if any
 */

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function mountLegacyServices() {
  Object.keys(window.modules).filter(function (key) {
    return typeof key === 'string' && key.match(/\.legacy$/);
  }).forEach(function (key) {
    return window.require(key);
  });
}

function tryToMount(fn, el, name) {
  try {
    fn(el); // init the controller
  } catch (e) {
    var elementTag = el.outerHTML.slice(0, el.outerHTML.indexOf(el.innerHTML));
    console.error("Error initializing controller for \"".concat(name, "\" on \"").concat(elementTag, "\""), e);
  }
}
/**
 * mount client.js component controllers
 */


function mountComponentModules() {
  Object.keys(window.modules).filter(function (key) {
    return typeof key === 'string' && key.match(/\.client$/);
  }).forEach(function (key) {
    var controllerFn = window.require(key);

    if (typeof controllerFn === 'function') {
      var name = key.replace('.client', ''),
          instancesSelector = "[data-uri*=\"_components/".concat(name, "/\"]"),
          defaultSelector = "[data-uri$=\"_components".concat(name, "\"]"),
          instances = document.querySelectorAll(instancesSelector),
          defaults = document.querySelectorAll(defaultSelector);

      var _iterator = _createForOfIteratorHelper(instances),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var el = _step.value;
          tryToMount(controllerFn, el, name);
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }

      var _iterator2 = _createForOfIteratorHelper(defaults),
          _step2;

      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var _el = _step2.value;
          tryToMount(controllerFn, _el, name);
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  });
} // Make sure that a `window.process.env.NODE_ENV` is available in the client for any dependencies,
// services, or components that could require it
// note: the `` value is swapped for the actual environment variable in /lib/cmd/compile/scripts.js


window.process = window.process || {};
window.process.env = window.process.env || {};

if (!window.process.env.NODE_ENV) {
  window.process.env.NODE_ENV = '';
} // note: legacy controllers that require legacy services (e.g. dollar-slice) must
// wait for DOMContentLoaded to initialize themselves, as the files themselves must be mounted first


mountLegacyServices();
mountComponentModules();
      // ]]
    </script></body>
</html>

